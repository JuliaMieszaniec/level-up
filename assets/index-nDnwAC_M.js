var ck=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var hnt=ck((ynt,kh)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();/**
* @vue/shared v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function bn(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const le={},ra=[],_n=()=>{},dl=()=>!1,Co=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),jp=e=>e.startsWith("onUpdate:"),ce=Object.assign,Hp=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},uk=Object.prototype.hasOwnProperty,_e=(e,t)=>uk.call(e,t),wt=Array.isArray,oa=e=>Da(e)==="[object Map]",xo=e=>Da(e)==="[object Set]",Hv=e=>Da(e)==="[object Date]",zI=e=>Da(e)==="[object RegExp]",jt=e=>typeof e=="function",Gt=e=>typeof e=="string",is=e=>typeof e=="symbol",we=e=>e!==null&&typeof e=="object",zp=e=>(we(e)||jt(e))&&jt(e.then)&&jt(e.catch),a_=Object.prototype.toString,Da=e=>a_.call(e),WI=e=>Da(e).slice(8,-1),ph=e=>Da(e)==="[object Object]",Wp=e=>Gt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,sr=bn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),KI=bn("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Kp=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},hk=/-(\w)/g,Le=Kp(e=>e.replace(hk,(t,n)=>n?n.toUpperCase():"")),fk=/\B([A-Z])/g,Hn=Kp(e=>e.replace(fk,"-$1").toLowerCase()),Po=Kp(e=>e.charAt(0).toUpperCase()+e.slice(1)),aa=Kp(e=>e?`on${Po(e)}`:""),Un=(e,t)=>!Object.is(e,t),la=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Vd=(e,t,n,s=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:s,value:n})},Mu=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Lu=e=>{const t=Gt(e)?Number(e):NaN;return isNaN(t)?e:t};let $T;const gh=()=>$T||($T=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),dk=/^[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*$/;function pk(e){return dk.test(e)?`__props.${e}`:`__props[${JSON.stringify(e)}]`}function gk(e,t){return e+JSON.stringify(t,(n,s)=>typeof s=="function"?s.toString():s)}const mk={TEXT:1,1:"TEXT",CLASS:2,2:"CLASS",STYLE:4,4:"STYLE",PROPS:8,8:"PROPS",FULL_PROPS:16,16:"FULL_PROPS",NEED_HYDRATION:32,32:"NEED_HYDRATION",STABLE_FRAGMENT:64,64:"STABLE_FRAGMENT",KEYED_FRAGMENT:128,128:"KEYED_FRAGMENT",UNKEYED_FRAGMENT:256,256:"UNKEYED_FRAGMENT",NEED_PATCH:512,512:"NEED_PATCH",DYNAMIC_SLOTS:1024,1024:"DYNAMIC_SLOTS",DEV_ROOT_FRAGMENT:2048,2048:"DEV_ROOT_FRAGMENT",CACHED:-1,"-1":"CACHED",BAIL:-2,"-2":"BAIL"},vk={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"NEED_HYDRATION",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"CACHED",[-2]:"BAIL"},yk={ELEMENT:1,1:"ELEMENT",FUNCTIONAL_COMPONENT:2,2:"FUNCTIONAL_COMPONENT",STATEFUL_COMPONENT:4,4:"STATEFUL_COMPONENT",TEXT_CHILDREN:8,8:"TEXT_CHILDREN",ARRAY_CHILDREN:16,16:"ARRAY_CHILDREN",SLOTS_CHILDREN:32,32:"SLOTS_CHILDREN",TELEPORT:64,64:"TELEPORT",SUSPENSE:128,128:"SUSPENSE",COMPONENT_SHOULD_KEEP_ALIVE:256,256:"COMPONENT_SHOULD_KEEP_ALIVE",COMPONENT_KEPT_ALIVE:512,512:"COMPONENT_KEPT_ALIVE",COMPONENT:6,6:"COMPONENT"},_k={STABLE:1,1:"STABLE",DYNAMIC:2,2:"DYNAMIC",FORWARDED:3,3:"FORWARDED"},bk={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},Ek="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",l_=bn(Ek),Tk=l_,UT=2;function GI(e,t=0,n=e.length){if(t=Math.max(0,Math.min(t,e.length)),n=Math.max(0,Math.min(n,e.length)),t>n)return"";let s=e.split(/(\r?\n)/);const i=s.filter((a,l)=>l%2===1);s=s.filter((a,l)=>l%2===0);let r=0;const o=[];for(let a=0;a<s.length;a++)if(r+=s[a].length+(i[a]&&i[a].length||0),r>=t){for(let l=a-UT;l<=a+UT||n>r;l++){if(l<0||l>=s.length)continue;const c=l+1;o.push(`${c}${" ".repeat(Math.max(3-String(c).length,0))}|  ${s[l]}`);const u=s[l].length,h=i[l]&&i[l].length||0;if(l===a){const d=t-(r-(u+h)),p=Math.max(1,n>r?u-d:n-t);o.push("   |  "+" ".repeat(d)+"^".repeat(p))}else if(l>a){if(n>r){const d=Math.max(Math.min(n-r,u),1);o.push("   |  "+"^".repeat(d))}r+=u+h}}break}return o.join(`
`)}function Ni(e){if(wt(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],i=Gt(s)?c_(s):Ni(s);if(i)for(const r in i)t[r]=i[r]}return t}else if(Gt(e)||we(e))return e}const Sk=/;(?![^(]*\))/g,wk=/:([^]+)/,Ak=/\/\*[^]*?\*\//g;function c_(e){const t={};return e.replace(Ak,"").split(Sk).forEach(n=>{if(n){const s=n.split(wk);s.length>1&&(t[s[0].trim()]=s[1].trim())}}),t}function Ik(e){if(!e)return"";if(Gt(e))return e;let t="";for(const n in e){const s=e[n];if(Gt(s)||typeof s=="number"){const i=n.startsWith("--")?n:Hn(n);t+=`${i}:${s};`}}return t}function Pn(e){let t="";if(Gt(e))t=e;else if(wt(e))for(let n=0;n<e.length;n++){const s=Pn(e[n]);s&&(t+=s+" ")}else if(we(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function XI(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Gt(t)&&(e.class=Pn(t)),n&&(e.style=Ni(n)),e}const Ck="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",xk="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",Pk="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",Rk="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",YI=bn(Ck),qI=bn(xk),QI=bn(Pk),JI=bn(Rk),ZI="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",tC=bn(ZI),Ok=bn(ZI+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function u_(e){return!!e||e===""}const Nk=/[>/="'\u0009\u000a\u000c\u0020]/,Im={};function Dk(e){if(Im.hasOwnProperty(e))return Im[e];const t=Nk.test(e);return t&&console.error(`unsafe attribute name: ${e}`),Im[e]=!t}const kk={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},Mk=bn("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),Lk=bn("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xmlns:xlink,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan"),Vk=bn("accent,accentunder,actiontype,align,alignmentscope,altimg,altimg-height,altimg-valign,altimg-width,alttext,bevelled,close,columnsalign,columnlines,columnspan,denomalign,depth,dir,display,displaystyle,encoding,equalcolumns,equalrows,fence,fontstyle,fontweight,form,frame,framespacing,groupalign,height,href,id,indentalign,indentalignfirst,indentalignlast,indentshift,indentshiftfirst,indentshiftlast,indextype,justify,largetop,largeop,lquote,lspace,mathbackground,mathcolor,mathsize,mathvariant,maxsize,minlabelspacing,mode,other,overflow,position,rowalign,rowlines,rowspan,rquote,rspace,scriptlevel,scriptminsize,scriptsizemultiplier,selection,separator,separators,shift,side,src,stackalign,stretchy,subscriptshift,superscriptshift,symmetric,voffset,width,widths,xlink:href,xlink:show,xlink:type,xmlns");function Fk(e){if(e==null)return!1;const t=typeof e;return t==="string"||t==="number"||t==="boolean"}const $k=/["'&<>]/;function Uk(e){const t=""+e,n=$k.exec(t);if(!n)return t;let s="",i,r,o=0;for(r=n.index;r<t.length;r++){switch(t.charCodeAt(r)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 39:i="&#39;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}o!==r&&(s+=t.slice(o,r)),o=r+1,s+=i}return o!==r?s+t.slice(o,r):s}const Bk=/^-?>|<!--|-->|--!>|<!-$/g;function jk(e){return e.replace(Bk,"")}const eC=/[ !"#$%&'()*+,./:;<=>?@[\\\]^`{|}~]/g;function Hk(e,t){return e.replace(eC,n=>t?n==='"'?'\\\\\\"':`\\\\${n}`:`\\${n}`)}function zk(e,t){if(e.length!==t.length)return!1;let n=!0;for(let s=0;n&&s<e.length;s++)n=hr(e[s],t[s]);return n}function hr(e,t){if(e===t)return!0;let n=Hv(e),s=Hv(t);if(n||s)return n&&s?e.getTime()===t.getTime():!1;if(n=is(e),s=is(t),n||s)return e===t;if(n=wt(e),s=wt(t),n||s)return n&&s?zk(e,t):!1;if(n=we(e),s=we(t),n||s){if(!n||!s)return!1;const i=Object.keys(e).length,r=Object.keys(t).length;if(i!==r)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!hr(e[o],t[o]))return!1}}return String(e)===String(t)}function mh(e,t){return e.findIndex(n=>hr(n,t))}const nC=e=>!!(e&&e.__v_isRef===!0),pt=e=>Gt(e)?e:e==null?"":wt(e)||we(e)&&(e.toString===a_||!jt(e.toString))?nC(e)?pt(e.value):JSON.stringify(e,sC,2):String(e),sC=(e,t)=>nC(t)?sC(e,t.value):oa(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[s,i],r)=>(n[Cm(s,r)+" =>"]=i,n),{})}:xo(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Cm(n))}:is(t)?Cm(t):we(t)&&!wt(t)&&!ph(t)?String(t):t,Cm=(e,t="")=>{var n;return is(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};function iC(e){return e==null?"initial":typeof e=="string"?e===""?" ":e:String(e)}const Wk=Object.freeze(Object.defineProperty({__proto__:null,EMPTY_ARR:ra,EMPTY_OBJ:le,NO:dl,NOOP:_n,PatchFlagNames:vk,PatchFlags:mk,ShapeFlags:yk,SlotFlags:_k,camelize:Le,capitalize:Po,cssVarNameEscapeSymbolsRE:eC,def:Vd,escapeHtml:Uk,escapeHtmlComment:jk,extend:ce,genCacheKey:gk,genPropsAccessExp:pk,generateCodeFrame:GI,getEscapedCssVarName:Hk,getGlobalThis:gh,hasChanged:Un,hasOwn:_e,hyphenate:Hn,includeBooleanAttr:u_,invokeArrayFns:la,isArray:wt,isBooleanAttr:Ok,isBuiltInDirective:KI,isDate:Hv,isFunction:jt,isGloballyAllowed:l_,isGloballyWhitelisted:Tk,isHTMLTag:YI,isIntegerKey:Wp,isKnownHtmlAttr:Mk,isKnownMathMLAttr:Vk,isKnownSvgAttr:Lk,isMap:oa,isMathMLTag:QI,isModelListener:jp,isObject:we,isOn:Co,isPlainObject:ph,isPromise:zp,isRegExp:zI,isRenderableAttrValue:Fk,isReservedProp:sr,isSSRSafeAttrName:Dk,isSVGTag:qI,isSet:xo,isSpecialBooleanAttr:tC,isString:Gt,isSymbol:is,isVoidTag:JI,looseEqual:hr,looseIndexOf:mh,looseToNumber:Mu,makeMap:bn,normalizeClass:Pn,normalizeCssVarValue:iC,normalizeProps:XI,normalizeStyle:Ni,objectToString:a_,parseStringStyle:c_,propsToAttrMap:kk,remove:Hp,slotFlagsText:bk,stringifyStyle:Ik,toDisplayString:pt,toHandlerKey:aa,toNumber:Lu,toRawType:WI,toTypeString:Da},Symbol.toStringTag,{value:"Module"}));/**
* @vue/reactivity v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Vn;class h_{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Vn,!t&&Vn&&(this.index=(Vn.scopes||(Vn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=Vn;try{return Vn=this,t()}finally{Vn=n}}}on(){++this._on===1&&(this.prevScope=Vn,Vn=this)}off(){this._on>0&&--this._on===0&&(Vn=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(this.effects.length=0,n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Kk(e){return new h_(e)}function rC(){return Vn}function Gk(e,t=!1){Vn&&Vn.cleanups.push(e)}let ke;const xm=new WeakSet;class Vu{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Vn&&Vn.active&&Vn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,xm.has(this)&&(xm.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||aC(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,BT(this),lC(this);const t=ke,n=oi;ke=this,oi=!0;try{return this.fn()}finally{cC(this),ke=t,oi=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)p_(t);this.deps=this.depsTail=void 0,BT(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?xm.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){zv(this)&&this.run()}get dirty(){return zv(this)}}let oC=0,uu,hu;function aC(e,t=!1){if(e.flags|=8,t){e.next=hu,hu=e;return}e.next=uu,uu=e}function f_(){oC++}function d_(){if(--oC>0)return;if(hu){let t=hu;for(hu=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;uu;){let t=uu;for(uu=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(s){e||(e=s)}t=n}}if(e)throw e}function lC(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function cC(e){let t,n=e.depsTail,s=n;for(;s;){const i=s.prevDep;s.version===-1?(s===n&&(n=i),p_(s),Xk(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=i}e.deps=t,e.depsTail=n}function zv(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(uC(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function uC(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Fu)||(e.globalVersion=Fu,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!zv(e))))return;e.flags|=2;const t=e.dep,n=ke,s=oi;ke=e,oi=!0;try{lC(e);const i=e.fn(e._value);(t.version===0||Un(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{ke=n,oi=s,cC(e),e.flags&=-3}}function p_(e,t=!1){const{dep:n,prevSub:s,nextSub:i}=e;if(s&&(s.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=s,e.nextSub=void 0),n.subs===e&&(n.subs=s,!s&&n.computed)){n.computed.flags&=-5;for(let r=n.computed.deps;r;r=r.nextDep)p_(r,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Xk(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}function Yk(e,t){e.effect instanceof Vu&&(e=e.effect.fn);const n=new Vu(e);t&&ce(n,t);try{n.run()}catch(i){throw n.stop(),i}const s=n.run.bind(n);return s.effect=n,s}function qk(e){e.effect.stop()}let oi=!0;const hC=[];function fr(){hC.push(oi),oi=!1}function dr(){const e=hC.pop();oi=e===void 0?!0:e}function BT(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=ke;ke=void 0;try{t()}finally{ke=n}}}let Fu=0;class Qk{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Gp{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(t){if(!ke||!oi||ke===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==ke)n=this.activeLink=new Qk(ke,this),ke.deps?(n.prevDep=ke.depsTail,ke.depsTail.nextDep=n,ke.depsTail=n):ke.deps=ke.depsTail=n,fC(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const s=n.nextDep;s.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=s),n.prevDep=ke.depsTail,n.nextDep=void 0,ke.depsTail.nextDep=n,ke.depsTail=n,ke.deps===n&&(ke.deps=s)}return n}trigger(t){this.version++,Fu++,this.notify(t)}notify(t){f_();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{d_()}}}function fC(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let s=t.deps;s;s=s.nextDep)fC(s)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Fd=new WeakMap,ca=Symbol(""),Wv=Symbol(""),$u=Symbol("");function Bn(e,t,n){if(oi&&ke){let s=Fd.get(e);s||Fd.set(e,s=new Map);let i=s.get(n);i||(s.set(n,i=new Gp),i.map=s,i.key=n),i.track()}}function Qi(e,t,n,s,i,r){const o=Fd.get(e);if(!o){Fu++;return}const a=l=>{l&&l.trigger()};if(f_(),t==="clear")o.forEach(a);else{const l=wt(e),c=l&&Wp(n);if(l&&n==="length"){const u=Number(s);o.forEach((h,d)=>{(d==="length"||d===$u||!is(d)&&d>=u)&&a(h)})}else switch((n!==void 0||o.has(void 0))&&a(o.get(n)),c&&a(o.get($u)),t){case"add":l?c&&a(o.get("length")):(a(o.get(ca)),oa(e)&&a(o.get(Wv)));break;case"delete":l||(a(o.get(ca)),oa(e)&&a(o.get(Wv)));break;case"set":oa(e)&&a(o.get(ca));break}}d_()}function Jk(e,t){const n=Fd.get(e);return n&&n.get(t)}function Ka(e){const t=ve(e);return t===e?t:(Bn(t,"iterate",$u),Rs(e)?t:t.map(An))}function Xp(e){return Bn(e=ve(e),"iterate",$u),e}const Zk={__proto__:null,[Symbol.iterator](){return Pm(this,Symbol.iterator,An)},concat(...e){return Ka(this).concat(...e.map(t=>wt(t)?Ka(t):t))},entries(){return Pm(this,"entries",e=>(e[1]=An(e[1]),e))},every(e,t){return ji(this,"every",e,t,void 0,arguments)},filter(e,t){return ji(this,"filter",e,t,n=>n.map(An),arguments)},find(e,t){return ji(this,"find",e,t,An,arguments)},findIndex(e,t){return ji(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return ji(this,"findLast",e,t,An,arguments)},findLastIndex(e,t){return ji(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return ji(this,"forEach",e,t,void 0,arguments)},includes(...e){return Rm(this,"includes",e)},indexOf(...e){return Rm(this,"indexOf",e)},join(e){return Ka(this).join(e)},lastIndexOf(...e){return Rm(this,"lastIndexOf",e)},map(e,t){return ji(this,"map",e,t,void 0,arguments)},pop(){return kc(this,"pop")},push(...e){return kc(this,"push",e)},reduce(e,...t){return jT(this,"reduce",e,t)},reduceRight(e,...t){return jT(this,"reduceRight",e,t)},shift(){return kc(this,"shift")},some(e,t){return ji(this,"some",e,t,void 0,arguments)},splice(...e){return kc(this,"splice",e)},toReversed(){return Ka(this).toReversed()},toSorted(e){return Ka(this).toSorted(e)},toSpliced(...e){return Ka(this).toSpliced(...e)},unshift(...e){return kc(this,"unshift",e)},values(){return Pm(this,"values",An)}};function Pm(e,t,n){const s=Xp(e),i=s[t]();return s!==e&&!Rs(e)&&(i._next=i.next,i.next=()=>{const r=i._next();return r.value&&(r.value=n(r.value)),r}),i}const tM=Array.prototype;function ji(e,t,n,s,i,r){const o=Xp(e),a=o!==e&&!Rs(e),l=o[t];if(l!==tM[t]){const h=l.apply(e,r);return a?An(h):h}let c=n;o!==e&&(a?c=function(h,d){return n.call(this,An(h),d,e)}:n.length>2&&(c=function(h,d){return n.call(this,h,d,e)}));const u=l.call(o,c,s);return a&&i?i(u):u}function jT(e,t,n,s){const i=Xp(e);let r=n;return i!==e&&(Rs(e)?n.length>3&&(r=function(o,a,l){return n.call(this,o,a,l,e)}):r=function(o,a,l){return n.call(this,o,An(a),l,e)}),i[t](r,...s)}function Rm(e,t,n){const s=ve(e);Bn(s,"iterate",$u);const i=s[t](...n);return(i===-1||i===!1)&&Qp(n[0])?(n[0]=ve(n[0]),s[t](...n)):i}function kc(e,t,n=[]){fr(),f_();const s=ve(e)[t].apply(e,n);return d_(),dr(),s}const eM=bn("__proto__,__v_isRef,__isVue"),dC=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(is));function nM(e){is(e)||(e=String(e));const t=ve(this);return Bn(t,"has",e),t.hasOwnProperty(e)}class pC{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,s){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,r=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return r;if(n==="__v_raw")return s===(i?r?bC:_C:r?yC:vC).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(s)?t:void 0;const o=wt(t);if(!i){let l;if(o&&(l=Zk[n]))return l;if(n==="hasOwnProperty")return nM}const a=Reflect.get(t,n,fn(t)?t:s);return(is(n)?dC.has(n):eM(n))||(i||Bn(t,"get",n),r)?a:fn(a)?o&&Wp(n)?a:a.value:we(a)?i?m_(a):Si(a):a}}class gC extends pC{constructor(t=!1){super(!1,t)}set(t,n,s,i){let r=t[n];if(!this._isShallow){const l=pr(r);if(!Rs(s)&&!pr(s)&&(r=ve(r),s=ve(s)),!wt(t)&&fn(r)&&!fn(s))return l?!1:(r.value=s,!0)}const o=wt(t)&&Wp(n)?Number(n)<t.length:_e(t,n),a=Reflect.set(t,n,s,fn(t)?t:i);return t===ve(i)&&(o?Un(s,r)&&Qi(t,"set",n,s):Qi(t,"add",n,s)),a}deleteProperty(t,n){const s=_e(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&s&&Qi(t,"delete",n,void 0),i}has(t,n){const s=Reflect.has(t,n);return(!is(n)||!dC.has(n))&&Bn(t,"has",n),s}ownKeys(t){return Bn(t,"iterate",wt(t)?"length":ca),Reflect.ownKeys(t)}}class mC extends pC{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const sM=new gC,iM=new mC,rM=new gC(!0),oM=new mC(!0),Kv=e=>e,hf=e=>Reflect.getPrototypeOf(e);function aM(e,t,n){return function(...s){const i=this.__v_raw,r=ve(i),o=oa(r),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,c=i[e](...s),u=n?Kv:t?$d:An;return!t&&Bn(r,"iterate",l?Wv:ca),{next(){const{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function ff(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function lM(e,t){const n={get(i){const r=this.__v_raw,o=ve(r),a=ve(i);e||(Un(i,a)&&Bn(o,"get",i),Bn(o,"get",a));const{has:l}=hf(o),c=t?Kv:e?$d:An;if(l.call(o,i))return c(r.get(i));if(l.call(o,a))return c(r.get(a));r!==o&&r.get(i)},get size(){const i=this.__v_raw;return!e&&Bn(ve(i),"iterate",ca),Reflect.get(i,"size",i)},has(i){const r=this.__v_raw,o=ve(r),a=ve(i);return e||(Un(i,a)&&Bn(o,"has",i),Bn(o,"has",a)),i===a?r.has(i):r.has(i)||r.has(a)},forEach(i,r){const o=this,a=o.__v_raw,l=ve(a),c=t?Kv:e?$d:An;return!e&&Bn(l,"iterate",ca),a.forEach((u,h)=>i.call(r,c(u),c(h),o))}};return ce(n,e?{add:ff("add"),set:ff("set"),delete:ff("delete"),clear:ff("clear")}:{add(i){!t&&!Rs(i)&&!pr(i)&&(i=ve(i));const r=ve(this);return hf(r).has.call(r,i)||(r.add(i),Qi(r,"add",i,i)),this},set(i,r){!t&&!Rs(r)&&!pr(r)&&(r=ve(r));const o=ve(this),{has:a,get:l}=hf(o);let c=a.call(o,i);c||(i=ve(i),c=a.call(o,i));const u=l.call(o,i);return o.set(i,r),c?Un(r,u)&&Qi(o,"set",i,r):Qi(o,"add",i,r),this},delete(i){const r=ve(this),{has:o,get:a}=hf(r);let l=o.call(r,i);l||(i=ve(i),l=o.call(r,i)),a&&a.call(r,i);const c=r.delete(i);return l&&Qi(r,"delete",i,void 0),c},clear(){const i=ve(this),r=i.size!==0,o=i.clear();return r&&Qi(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=aM(i,e,t)}),n}function Yp(e,t){const n=lM(e,t);return(s,i,r)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?s:Reflect.get(_e(n,i)&&i in s?n:s,i,r)}const cM={get:Yp(!1,!1)},uM={get:Yp(!1,!0)},hM={get:Yp(!0,!1)},fM={get:Yp(!0,!0)},vC=new WeakMap,yC=new WeakMap,_C=new WeakMap,bC=new WeakMap;function dM(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function pM(e){return e.__v_skip||!Object.isExtensible(e)?0:dM(WI(e))}function Si(e){return pr(e)?e:qp(e,!1,sM,cM,vC)}function g_(e){return qp(e,!1,rM,uM,yC)}function m_(e){return qp(e,!0,iM,hM,_C)}function gM(e){return qp(e,!0,oM,fM,bC)}function qp(e,t,n,s,i){if(!we(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=pM(e);if(r===0)return e;const o=i.get(e);if(o)return o;const a=new Proxy(e,r===2?s:n);return i.set(e,a),a}function no(e){return pr(e)?no(e.__v_raw):!!(e&&e.__v_isReactive)}function pr(e){return!!(e&&e.__v_isReadonly)}function Rs(e){return!!(e&&e.__v_isShallow)}function Qp(e){return e?!!e.__v_raw:!1}function ve(e){const t=e&&e.__v_raw;return t?ve(t):e}function EC(e){return!_e(e,"__v_skip")&&Object.isExtensible(e)&&Vd(e,"__v_skip",!0),e}const An=e=>we(e)?Si(e):e,$d=e=>we(e)?m_(e):e;function fn(e){return e?e.__v_isRef===!0:!1}function It(e){return TC(e,!1)}function v_(e){return TC(e,!0)}function TC(e,t){return fn(e)?e:new mM(e,t)}class mM{constructor(t,n){this.dep=new Gp,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:ve(t),this._value=n?t:An(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,s=this.__v_isShallow||Rs(t)||pr(t);t=s?t:ve(t),Un(t,n)&&(this._rawValue=t,this._value=s?t:An(t),this.dep.trigger())}}function vM(e){e.dep&&e.dep.trigger()}function ai(e){return fn(e)?e.value:e}function yM(e){return jt(e)?e():ai(e)}const _M={get:(e,t,n)=>t==="__v_raw"?e:ai(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const i=e[t];return fn(i)&&!fn(n)?(i.value=n,!0):Reflect.set(e,t,n,s)}};function y_(e){return no(e)?e:new Proxy(e,_M)}class bM{constructor(t){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Gp,{get:s,set:i}=t(n.track.bind(n),n.trigger.bind(n));this._get=s,this._set=i}get value(){return this._value=this._get()}set value(t){this._set(t)}}function SC(e){return new bM(e)}function EM(e){const t=wt(e)?new Array(e.length):{};for(const n in e)t[n]=wC(e,n);return t}class TM{constructor(t,n,s){this._object=t,this._key=n,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Jk(ve(this._object),this._key)}}class SM{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function wM(e,t,n){return fn(e)?e:jt(e)?new SM(e):we(e)&&arguments.length>1?wC(e,t,n):It(e)}function wC(e,t,n){const s=e[t];return fn(s)?s:new TM(e,t,n)}class AM{constructor(t,n,s){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Gp(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Fu-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&ke!==this)return aC(this,!0),!0}get value(){const t=this.dep.track();return uC(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function IM(e,t,n=!1){let s,i;return jt(e)?s=e:(s=e.get,i=e.set),new AM(s,i,n)}const CM={GET:"get",HAS:"has",ITERATE:"iterate"},xM={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},df={},Ud=new WeakMap;let $r;function PM(){return $r}function AC(e,t=!1,n=$r){if(n){let s=Ud.get(n);s||Ud.set(n,s=[]),s.push(e)}}function RM(e,t,n=le){const{immediate:s,deep:i,once:r,scheduler:o,augmentJob:a,call:l}=n,c=C=>i?C:Rs(C)||i===!1||i===0?Ji(C,1):Ji(C);let u,h,d,p,g=!1,m=!1;if(fn(e)?(h=()=>e.value,g=Rs(e)):no(e)?(h=()=>c(e),g=!0):wt(e)?(m=!0,g=e.some(C=>no(C)||Rs(C)),h=()=>e.map(C=>{if(fn(C))return C.value;if(no(C))return c(C);if(jt(C))return l?l(C,2):C()})):jt(e)?t?h=l?()=>l(e,2):e:h=()=>{if(d){fr();try{d()}finally{dr()}}const C=$r;$r=u;try{return l?l(e,3,[p]):e(p)}finally{$r=C}}:h=_n,t&&i){const C=h,O=i===!0?1/0:i;h=()=>Ji(C(),O)}const y=rC(),E=()=>{u.stop(),y&&y.active&&Hp(y.effects,u)};if(r&&t){const C=t;t=(...O)=>{C(...O),E()}}let A=m?new Array(e.length).fill(df):df;const w=C=>{if(!(!(u.flags&1)||!u.dirty&&!C))if(t){const O=u.run();if(i||g||(m?O.some((D,x)=>Un(D,A[x])):Un(O,A))){d&&d();const D=$r;$r=u;try{const x=[O,A===df?void 0:m&&A[0]===df?[]:A,p];A=O,l?l(t,3,x):t(...x)}finally{$r=D}}}else u.run()};return a&&a(w),u=new Vu(h),u.scheduler=o?()=>o(w,!1):w,p=C=>AC(C,!1,u),d=u.onStop=()=>{const C=Ud.get(u);if(C){if(l)l(C,4);else for(const O of C)O();Ud.delete(u)}},t?s?w(!0):A=u.run():o?o(w.bind(null,!0),!0):u.run(),E.pause=u.pause.bind(u),E.resume=u.resume.bind(u),E.stop=E,E}function Ji(e,t=1/0,n){if(t<=0||!we(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,fn(e))Ji(e.value,t,n);else if(wt(e))for(let s=0;s<e.length;s++)Ji(e[s],t,n);else if(xo(e)||oa(e))e.forEach(s=>{Ji(s,t,n)});else if(ph(e)){for(const s in e)Ji(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&Ji(e[s],t,n)}return e}/**
* @vue/runtime-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const IC=[];function OM(e){IC.push(e)}function NM(){IC.pop()}function DM(e,t){}const kM={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},MM={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function rc(e,t,n,s){try{return s?e(...s):e()}catch(i){ka(i,t,n)}}function Hs(e,t,n,s){if(jt(e)){const i=rc(e,t,n,s);return i&&zp(i)&&i.catch(r=>{ka(r,t,n)}),i}if(wt(e)){const i=[];for(let r=0;r<e.length;r++)i.push(Hs(e[r],t,n,s));return i}}function ka(e,t,n,s=!0){const i=t?t.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=t&&t.appContext.config||le;if(t){let a=t.parent;const l=t.proxy,c=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](e,l,c)===!1)return}a=a.parent}if(r){fr(),rc(r,null,10,[e,l,c]),dr();return}}LM(e,n,i,s,o)}function LM(e,t,n,s=!0,i=!1){if(i)throw e;console.error(e)}const Jn=[];let yi=-1;const yl=[];let Ur=null,nl=0;const CC=Promise.resolve();let Bd=null;function Ma(e){const t=Bd||CC;return e?t.then(this?e.bind(this):e):t}function VM(e){let t=yi+1,n=Jn.length;for(;t<n;){const s=t+n>>>1,i=Jn[s],r=Bu(i);r<e||r===e&&i.flags&2?t=s+1:n=s}return t}function __(e){if(!(e.flags&1)){const t=Bu(e),n=Jn[Jn.length-1];!n||!(e.flags&2)&&t>=Bu(n)?Jn.push(e):Jn.splice(VM(t),0,e),e.flags|=1,xC()}}function xC(){Bd||(Bd=CC.then(PC))}function Uu(e){wt(e)?yl.push(...e):Ur&&e.id===-1?Ur.splice(nl+1,0,e):e.flags&1||(yl.push(e),e.flags|=1),xC()}function HT(e,t,n=yi+1){for(;n<Jn.length;n++){const s=Jn[n];if(s&&s.flags&2){if(e&&s.id!==e.uid)continue;Jn.splice(n,1),n--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function jd(e){if(yl.length){const t=[...new Set(yl)].sort((n,s)=>Bu(n)-Bu(s));if(yl.length=0,Ur){Ur.push(...t);return}for(Ur=t,nl=0;nl<Ur.length;nl++){const n=Ur[nl];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Ur=null,nl=0}}const Bu=e=>e.id==null?e.flags&2?-1:1/0:e.id;function PC(e){try{for(yi=0;yi<Jn.length;yi++){const t=Jn[yi];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),rc(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;yi<Jn.length;yi++){const t=Jn[yi];t&&(t.flags&=-2)}yi=-1,Jn.length=0,jd(),Bd=null,(Jn.length||yl.length)&&PC()}}let sl,pf=[];function RC(e,t){var n,s;sl=e,sl?(sl.enabled=!0,pf.forEach(({event:i,args:r})=>sl.emit(i,...r)),pf=[]):typeof window<"u"&&window.HTMLElement&&!((s=(n=window.navigator)==null?void 0:n.userAgent)!=null&&s.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(r=>{RC(r,t)}),setTimeout(()=>{sl||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,pf=[])},3e3)):pf=[]}let xn=null,Jp=null;function ju(e){const t=xn;return xn=e,Jp=e&&e.type.__scopeId||null,t}function FM(e){Jp=e}function $M(){Jp=null}const UM=e=>fs;function fs(e,t=xn,n){if(!t||e._n)return e;const s=(...i)=>{s._d&&ty(-1);const r=ju(t);let o;try{o=e(...i)}finally{ju(r),s._d&&ty(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function se(e,t){if(xn===null)return e;const n=bh(xn),s=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[r,o,a,l=le]=t[i];r&&(jt(r)&&(r={mounted:r,updated:r}),r.deep&&Ji(o),s.push({dir:r,instance:n,value:o,oldValue:void 0,arg:a,modifiers:l}))}return e}function bi(e,t,n,s){const i=e.dirs,r=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];r&&(a.oldValue=r[o].value);let l=a.dir[s];l&&(fr(),Hs(l,n,8,[e.el,a,e,t]),dr())}}const OC=Symbol("_vte"),NC=e=>e.__isTeleport,fu=e=>e&&(e.disabled||e.disabled===""),zT=e=>e&&(e.defer||e.defer===""),WT=e=>typeof SVGElement<"u"&&e instanceof SVGElement,KT=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,Gv=(e,t)=>{const n=e&&e.to;return Gt(n)?t?t(n):null:n},DC={name:"Teleport",__isTeleport:!0,process(e,t,n,s,i,r,o,a,l,c){const{mc:u,pc:h,pbc:d,o:{insert:p,querySelector:g,createText:m,createComment:y}}=c,E=fu(t.props);let{shapeFlag:A,children:w,dynamicChildren:C}=t;if(e==null){const O=t.el=m(""),D=t.anchor=m("");p(O,n,s),p(D,n,s);const x=(_,S)=>{A&16&&(i&&i.isCE&&(i.ce._teleportTarget=_),u(w,_,S,i,r,o,a,l))},T=()=>{const _=t.target=Gv(t.props,g),S=kC(_,t,m,p);_&&(o!=="svg"&&WT(_)?o="svg":o!=="mathml"&&KT(_)&&(o="mathml"),E||(x(_,S),sd(t,!1)))};E&&(x(n,D),sd(t,!0)),zT(t.props)?(t.el.__isMounted=!1,hn(()=>{T(),delete t.el.__isMounted},r)):T()}else{if(zT(t.props)&&e.el.__isMounted===!1){hn(()=>{DC.process(e,t,n,s,i,r,o,a,l,c)},r);return}t.el=e.el,t.targetStart=e.targetStart;const O=t.anchor=e.anchor,D=t.target=e.target,x=t.targetAnchor=e.targetAnchor,T=fu(e.props),_=T?n:D,S=T?O:x;if(o==="svg"||WT(D)?o="svg":(o==="mathml"||KT(D))&&(o="mathml"),C?(d(e.dynamicChildren,C,_,i,r,o,a),R_(e,t,!0)):l||h(e,t,_,S,i,r,o,a,!1),E)T?t.props&&e.props&&t.props.to!==e.props.to&&(t.props.to=e.props.to):gf(t,n,O,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const P=t.target=Gv(t.props,g);P&&gf(t,P,null,c,0)}else T&&gf(t,D,x,c,1);sd(t,E)}},remove(e,t,n,{um:s,o:{remove:i}},r){const{shapeFlag:o,children:a,anchor:l,targetStart:c,targetAnchor:u,target:h,props:d}=e;if(h&&(i(c),i(u)),r&&i(l),o&16){const p=r||!fu(d);for(let g=0;g<a.length;g++){const m=a[g];s(m,t,n,p,!!m.dynamicChildren)}}},move:gf,hydrate:BM};function gf(e,t,n,{o:{insert:s},m:i},r=2){r===0&&s(e.targetAnchor,t,n);const{el:o,anchor:a,shapeFlag:l,children:c,props:u}=e,h=r===2;if(h&&s(o,t,n),(!h||fu(u))&&l&16)for(let d=0;d<c.length;d++)i(c[d],t,n,2);h&&s(a,t,n)}function BM(e,t,n,s,i,r,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:c,createText:u}},h){const d=t.target=Gv(t.props,l);if(d){const p=fu(t.props),g=d._lpa||d.firstChild;if(t.shapeFlag&16)if(p)t.anchor=h(o(e),t,a(e),n,s,i,r),t.targetStart=g,t.targetAnchor=g&&o(g);else{t.anchor=o(e);let m=g;for(;m;){if(m&&m.nodeType===8){if(m.data==="teleport start anchor")t.targetStart=m;else if(m.data==="teleport anchor"){t.targetAnchor=m,d._lpa=t.targetAnchor&&o(t.targetAnchor);break}}m=o(m)}t.targetAnchor||kC(d,t,u,c),h(g&&o(g),t,d,n,s,i,r)}sd(t,p)}return t.anchor&&o(t.anchor)}const jM=DC;function sd(e,t){const n=e.ctx;if(n&&n.ut){let s,i;for(t?(s=e.el,i=e.anchor):(s=e.targetStart,i=e.targetAnchor);s&&s!==i;)s.nodeType===1&&s.setAttribute("data-v-owner",n.uid),s=s.nextSibling;n.ut()}}function kC(e,t,n,s){const i=t.targetStart=n(""),r=t.targetAnchor=n("");return i[OC]=r,e&&(s(i,e),s(r,e)),r}const Br=Symbol("_leaveCb"),mf=Symbol("_enterCb");function b_(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return On(()=>{e.isMounted=!0}),ng(()=>{e.isUnmounting=!0}),e}const ks=[Function,Array],E_={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ks,onEnter:ks,onAfterEnter:ks,onEnterCancelled:ks,onBeforeLeave:ks,onLeave:ks,onAfterLeave:ks,onLeaveCancelled:ks,onBeforeAppear:ks,onAppear:ks,onAfterAppear:ks,onAppearCancelled:ks},MC=e=>{const t=e.subTree;return t.component?MC(t.component):t},HM={name:"BaseTransition",props:E_,setup(e,{slots:t}){const n=Es(),s=b_();return()=>{const i=t.default&&Zp(t.default(),!0);if(!i||!i.length)return;const r=LC(i),o=ve(e),{mode:a}=o;if(s.isLeaving)return Om(r);const l=GT(r);if(!l)return Om(r);let c=xl(l,o,s,n,h=>c=h);l.type!==sn&&gr(l,c);let u=n.subTree&&GT(n.subTree);if(u&&u.type!==sn&&!ni(l,u)&&MC(n).type!==sn){let h=xl(u,o,s,n);if(gr(u,h),a==="out-in"&&l.type!==sn)return s.isLeaving=!0,h.afterLeave=()=>{s.isLeaving=!1,n.job.flags&8||n.update(),delete h.afterLeave,u=void 0},Om(r);a==="in-out"&&l.type!==sn?h.delayLeave=(d,p,g)=>{const m=FC(s,u);m[String(u.key)]=u,d[Br]=()=>{p(),d[Br]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{g(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return r}}};function LC(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==sn){t=n;break}}return t}const VC=HM;function FC(e,t){const{leavingVNodes:n}=e;let s=n.get(t.type);return s||(s=Object.create(null),n.set(t.type,s)),s}function xl(e,t,n,s,i){const{appear:r,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:h,onBeforeLeave:d,onLeave:p,onAfterLeave:g,onLeaveCancelled:m,onBeforeAppear:y,onAppear:E,onAfterAppear:A,onAppearCancelled:w}=t,C=String(e.key),O=FC(n,e),D=(_,S)=>{_&&Hs(_,s,9,S)},x=(_,S)=>{const P=S[1];D(_,S),wt(_)?_.every(R=>R.length<=1)&&P():_.length<=1&&P()},T={mode:o,persisted:a,beforeEnter(_){let S=l;if(!n.isMounted)if(r)S=y||l;else return;_[Br]&&_[Br](!0);const P=O[C];P&&ni(e,P)&&P.el[Br]&&P.el[Br](),D(S,[_])},enter(_){let S=c,P=u,R=h;if(!n.isMounted)if(r)S=E||c,P=A||u,R=w||h;else return;let I=!1;const z=_[mf]=Y=>{I||(I=!0,Y?D(R,[_]):D(P,[_]),T.delayedLeave&&T.delayedLeave(),_[mf]=void 0)};S?x(S,[_,z]):z()},leave(_,S){const P=String(e.key);if(_[mf]&&_[mf](!0),n.isUnmounting)return S();D(d,[_]);let R=!1;const I=_[Br]=z=>{R||(R=!0,S(),z?D(m,[_]):D(g,[_]),_[Br]=void 0,O[P]===e&&delete O[P])};O[P]=e,p?x(p,[_,I]):I()},clone(_){const S=xl(_,t,n,s,i);return i&&i(S),S}};return T}function Om(e){if(yh(e))return e=Di(e),e.children=null,e}function GT(e){if(!yh(e))return NC(e.type)&&e.children?LC(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&jt(n.default))return n.default()}}function gr(e,t){e.shapeFlag&6&&e.component?(e.transition=t,gr(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Zp(e,t=!1,n){let s=[],i=0;for(let r=0;r<e.length;r++){let o=e[r];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:r);o.type===ne?(o.patchFlag&128&&i++,s=s.concat(Zp(o.children,t,a))):(t||o.type!==sn)&&s.push(a!=null?Di(o,{key:a}):o)}if(i>1)for(let r=0;r<s.length;r++)s[r].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function vh(e,t){return jt(e)?ce({name:e.name},t,{setup:e}):e}function zM(){const e=Es();return e?(e.appContext.config.idPrefix||"v")+"-"+e.ids[0]+e.ids[1]++:""}function T_(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function WM(e){const t=Es(),n=v_(null);if(t){const i=t.refs===le?t.refs={}:t.refs;Object.defineProperty(i,e,{enumerable:!0,get:()=>n.value,set:r=>n.value=r})}return n}function _l(e,t,n,s,i=!1){if(wt(e)){e.forEach((g,m)=>_l(g,t&&(wt(t)?t[m]:t),n,s,i));return}if(so(s)&&!i){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&_l(e,t,n,s.component.subTree);return}const r=s.shapeFlag&4?bh(s.component):s.el,o=i?null:r,{i:a,r:l}=e,c=t&&t.r,u=a.refs===le?a.refs={}:a.refs,h=a.setupState,d=ve(h),p=h===le?()=>!1:g=>_e(d,g);if(c!=null&&c!==l&&(Gt(c)?(u[c]=null,p(c)&&(h[c]=null)):fn(c)&&(c.value=null)),jt(l))rc(l,a,12,[o,u]);else{const g=Gt(l),m=fn(l);if(g||m){const y=()=>{if(e.f){const E=g?p(l)?h[l]:u[l]:l.value;i?wt(E)&&Hp(E,r):wt(E)?E.includes(r)||E.push(r):g?(u[l]=[r],p(l)&&(h[l]=u[l])):(l.value=[r],e.k&&(u[e.k]=l.value))}else g?(u[l]=o,p(l)&&(h[l]=o)):m&&(l.value=o,e.k&&(u[e.k]=o))};o?(y.id=-1,hn(y,n)):y()}}}let XT=!1;const Ga=()=>{XT||(console.error("Hydration completed but contains mismatches."),XT=!0)},KM=e=>e.namespaceURI.includes("svg")&&e.tagName!=="foreignObject",GM=e=>e.namespaceURI.includes("MathML"),vf=e=>{if(e.nodeType===1){if(KM(e))return"svg";if(GM(e))return"mathml"}},pl=e=>e.nodeType===8;function XM(e){const{mt:t,p:n,o:{patchProp:s,createText:i,nextSibling:r,parentNode:o,remove:a,insert:l,createComment:c}}=e,u=(w,C)=>{if(!C.hasChildNodes()){n(null,w,C),jd(),C._vnode=w;return}h(C.firstChild,w,null,null,null),jd(),C._vnode=w},h=(w,C,O,D,x,T=!1)=>{T=T||!!C.dynamicChildren;const _=pl(w)&&w.data==="[",S=()=>m(w,C,O,D,x,_),{type:P,ref:R,shapeFlag:I,patchFlag:z}=C;let Y=w.nodeType;C.el=w,z===-2&&(T=!1,C.dynamicChildren=null);let B=null;switch(P){case io:Y!==3?C.children===""?(l(C.el=i(""),o(w),w),B=w):B=S():(w.data!==C.children&&(Ga(),w.data=C.children),B=r(w));break;case sn:A(w)?(B=r(w),E(C.el=w.content.firstChild,w,O)):Y!==8||_?B=S():B=r(w);break;case ha:if(_&&(w=r(w),Y=w.nodeType),Y===1||Y===3){B=w;const K=!C.children.length;for(let tt=0;tt<C.staticCount;tt++)K&&(C.children+=B.nodeType===1?B.outerHTML:B.data),tt===C.staticCount-1&&(C.anchor=B),B=r(B);return _?r(B):B}else S();break;case ne:_?B=g(w,C,O,D,x,T):B=S();break;default:if(I&1)(Y!==1||C.type.toLowerCase()!==w.tagName.toLowerCase())&&!A(w)?B=S():B=d(w,C,O,D,x,T);else if(I&6){C.slotScopeIds=x;const K=o(w);if(_?B=y(w):pl(w)&&w.data==="teleport start"?B=y(w,w.data,"teleport end"):B=r(w),t(C,K,null,O,D,vf(K),T),so(C)&&!C.type.__asyncResolved){let tt;_?(tt=Bt(ne),tt.anchor=B?B.previousSibling:K.lastChild):tt=w.nodeType===3?xe(""):Bt("div"),tt.el=w,C.component.subTree=tt}}else I&64?Y!==8?B=S():B=C.type.hydrate(w,C,O,D,x,T,e,p):I&128&&(B=C.type.hydrate(w,C,O,D,vf(o(w)),x,T,e,h))}return R!=null&&_l(R,null,D,C),B},d=(w,C,O,D,x,T)=>{T=T||!!C.dynamicChildren;const{type:_,props:S,patchFlag:P,shapeFlag:R,dirs:I,transition:z}=C,Y=_==="input"||_==="option";if(Y||P!==-1){I&&bi(C,null,O,"created");let B=!1;if(A(w)){B=c1(null,z)&&O&&O.vnode.props&&O.vnode.props.appear;const tt=w.content.firstChild;if(B){const Pt=tt.getAttribute("class");Pt&&(tt.$cls=Pt),z.beforeEnter(tt)}E(tt,w,O),C.el=w=tt}if(R&16&&!(S&&(S.innerHTML||S.textContent))){let tt=p(w.firstChild,C,w,O,D,x,T);for(;tt;){yf(w,1)||Ga();const Pt=tt;tt=tt.nextSibling,a(Pt)}}else if(R&8){let tt=C.children;tt[0]===`
`&&(w.tagName==="PRE"||w.tagName==="TEXTAREA")&&(tt=tt.slice(1)),w.textContent!==tt&&(yf(w,0)||Ga(),w.textContent=C.children)}if(S){if(Y||!T||P&48){const tt=w.tagName.includes("-");for(const Pt in S)(Y&&(Pt.endsWith("value")||Pt==="indeterminate")||Co(Pt)&&!sr(Pt)||Pt[0]==="."||tt)&&s(w,Pt,null,S[Pt],void 0,O)}else if(S.onClick)s(w,"onClick",null,S.onClick,void 0,O);else if(P&4&&no(S.style))for(const tt in S.style)S.style[tt]}let K;(K=S&&S.onVnodeBeforeMount)&&us(K,O,C),I&&bi(C,null,O,"beforeMount"),((K=S&&S.onVnodeMounted)||I||B)&&_1(()=>{K&&us(K,O,C),B&&z.enter(w),I&&bi(C,null,O,"mounted")},D)}return w.nextSibling},p=(w,C,O,D,x,T,_)=>{_=_||!!C.dynamicChildren;const S=C.children,P=S.length;for(let R=0;R<P;R++){const I=_?S[R]:S[R]=ds(S[R]),z=I.type===io;w?(z&&!_&&R+1<P&&ds(S[R+1]).type===io&&(l(i(w.data.slice(I.children.length)),O,r(w)),w.data=I.children),w=h(w,I,D,x,T,_)):z&&!I.children?l(I.el=i(""),O):(yf(O,1)||Ga(),n(null,I,O,null,D,x,vf(O),T))}return w},g=(w,C,O,D,x,T)=>{const{slotScopeIds:_}=C;_&&(x=x?x.concat(_):_);const S=o(w),P=p(r(w),C,S,O,D,x,T);return P&&pl(P)&&P.data==="]"?r(C.anchor=P):(Ga(),l(C.anchor=c("]"),S,P),P)},m=(w,C,O,D,x,T)=>{if(yf(w.parentElement,1)||Ga(),C.el=null,T){const P=y(w);for(;;){const R=r(w);if(R&&R!==P)a(R);else break}}const _=r(w),S=o(w);return a(w),n(null,C,S,_,O,D,vf(S),x),O&&(O.vnode.el=C.el,rg(O,C.el)),_},y=(w,C="[",O="]")=>{let D=0;for(;w;)if(w=r(w),w&&pl(w)&&(w.data===C&&D++,w.data===O)){if(D===0)return r(w);D--}return w},E=(w,C,O)=>{const D=C.parentNode;D&&D.replaceChild(w,C);let x=O;for(;x;)x.vnode.el===C&&(x.vnode.el=x.subTree.el=w),x=x.parent},A=w=>w.nodeType===1&&w.tagName==="TEMPLATE";return[u,h]}const YT="data-allow-mismatch",YM={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function yf(e,t){if(t===0||t===1)for(;e&&!e.hasAttribute(YT);)e=e.parentElement;const n=e&&e.getAttribute(YT);if(n==null)return!1;if(n==="")return!0;{const s=n.split(",");return t===0&&s.includes("children")?!0:s.includes(YM[t])}}const qM=gh().requestIdleCallback||(e=>setTimeout(e,1)),QM=gh().cancelIdleCallback||(e=>clearTimeout(e)),JM=(e=1e4)=>t=>{const n=qM(t,{timeout:e});return()=>QM(n)};function ZM(e){const{top:t,left:n,bottom:s,right:i}=e.getBoundingClientRect(),{innerHeight:r,innerWidth:o}=window;return(t>0&&t<r||s>0&&s<r)&&(n>0&&n<o||i>0&&i<o)}const tL=e=>(t,n)=>{const s=new IntersectionObserver(i=>{for(const r of i)if(r.isIntersecting){s.disconnect(),t();break}},e);return n(i=>{if(i instanceof Element){if(ZM(i))return t(),s.disconnect(),!1;s.observe(i)}}),()=>s.disconnect()},eL=e=>t=>{if(e){const n=matchMedia(e);if(n.matches)t();else return n.addEventListener("change",t,{once:!0}),()=>n.removeEventListener("change",t)}},nL=(e=[])=>(t,n)=>{Gt(e)&&(e=[e]);let s=!1;const i=o=>{s||(s=!0,r(),t(),o.target.dispatchEvent(new o.constructor(o.type,o)))},r=()=>{n(o=>{for(const a of e)o.removeEventListener(a,i)})};return n(o=>{for(const a of e)o.addEventListener(a,i,{once:!0})}),r};function sL(e,t){if(pl(e)&&e.data==="["){let n=1,s=e.nextSibling;for(;s;){if(s.nodeType===1){if(t(s)===!1)break}else if(pl(s))if(s.data==="]"){if(--n===0)break}else s.data==="["&&n++;s=s.nextSibling}}else t(e)}const so=e=>!!e.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function iL(e){jt(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:s,delay:i=200,hydrate:r,timeout:o,suspensible:a=!0,onError:l}=e;let c=null,u,h=0;const d=()=>(h++,c=null,p()),p=()=>{let g;return c||(g=c=t().catch(m=>{if(m=m instanceof Error?m:new Error(String(m)),l)return new Promise((y,E)=>{l(m,()=>y(d()),()=>E(m),h+1)});throw m}).then(m=>g!==c&&c?c:(m&&(m.__esModule||m[Symbol.toStringTag]==="Module")&&(m=m.default),u=m,m)))};return vh({name:"AsyncComponentWrapper",__asyncLoader:p,__asyncHydrate(g,m,y){let E=!1;(m.bu||(m.bu=[])).push(()=>E=!0);const A=()=>{E||y()},w=r?()=>{const C=r(A,O=>sL(g,O));C&&(m.bum||(m.bum=[])).push(C)}:A;u?w():p().then(()=>!m.isUnmounted&&w())},get __asyncResolved(){return u},setup(){const g=In;if(T_(g),u)return()=>Nm(u,g);const m=w=>{c=null,ka(w,g,13,!s)};if(a&&g.suspense||Pl)return p().then(w=>()=>Nm(w,g)).catch(w=>(m(w),()=>s?Bt(s,{error:w}):null));const y=It(!1),E=It(),A=It(!!i);return i&&setTimeout(()=>{A.value=!1},i),o!=null&&setTimeout(()=>{if(!y.value&&!E.value){const w=new Error(`Async component timed out after ${o}ms.`);m(w),E.value=w}},o),p().then(()=>{y.value=!0,g.parent&&yh(g.parent.vnode)&&g.parent.update()}).catch(w=>{m(w),E.value=w}),()=>{if(y.value&&u)return Nm(u,g);if(E.value&&s)return Bt(s,{error:E.value});if(n&&!A.value)return Bt(n)}}})}function Nm(e,t){const{ref:n,props:s,children:i,ce:r}=t.vnode,o=Bt(e,s,i);return o.ref=n,o.ce=r,delete t.vnode.ce,o}const yh=e=>e.type.__isKeepAlive,rL={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=Es(),s=n.ctx;if(!s.renderer)return()=>{const A=t.default&&t.default();return A&&A.length===1?A[0]:A};const i=new Map,r=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:h}}}=s,d=h("div");s.activate=(A,w,C,O,D)=>{const x=A.component;c(A,w,C,0,a),l(x.vnode,A,w,C,x,a,O,A.slotScopeIds,D),hn(()=>{x.isDeactivated=!1,x.a&&la(x.a);const T=A.props&&A.props.onVnodeMounted;T&&us(T,x.parent,A)},a)},s.deactivate=A=>{const w=A.component;zd(w.m),zd(w.a),c(A,d,null,1,a),hn(()=>{w.da&&la(w.da);const C=A.props&&A.props.onVnodeUnmounted;C&&us(C,w.parent,A),w.isDeactivated=!0},a)};function p(A){Dm(A),u(A,n,a,!0)}function g(A){i.forEach((w,C)=>{const O=ry(w.type);O&&!A(O)&&m(C)})}function m(A){const w=i.get(A);w&&(!o||!ni(w,o))?p(w):o&&Dm(o),i.delete(A),r.delete(A)}li(()=>[e.include,e.exclude],([A,w])=>{A&&g(C=>Yc(A,C)),w&&g(C=>!Yc(w,C))},{flush:"post",deep:!0});let y=null;const E=()=>{y!=null&&(Wd(n.subTree.type)?hn(()=>{i.set(y,_f(n.subTree))},n.subTree.suspense):i.set(y,_f(n.subTree)))};return On(E),eg(E),ng(()=>{i.forEach(A=>{const{subTree:w,suspense:C}=n,O=_f(w);if(A.type===O.type&&A.key===O.key){Dm(O);const D=O.component.da;D&&hn(D,C);return}p(A)})}),()=>{if(y=null,!t.default)return o=null;const A=t.default(),w=A[0];if(A.length>1)return o=null,A;if(!mr(w)||!(w.shapeFlag&4)&&!(w.shapeFlag&128))return o=null,w;let C=_f(w);if(C.type===sn)return o=null,C;const O=C.type,D=ry(so(C)?C.type.__asyncResolved||{}:O),{include:x,exclude:T,max:_}=e;if(x&&(!D||!Yc(x,D))||T&&D&&Yc(T,D))return C.shapeFlag&=-257,o=C,w;const S=C.key==null?O:C.key,P=i.get(S);return C.el&&(C=Di(C),w.shapeFlag&128&&(w.ssContent=C)),y=S,P?(C.el=P.el,C.component=P.component,C.transition&&gr(C,C.transition),C.shapeFlag|=512,r.delete(S),r.add(S)):(r.add(S),_&&r.size>parseInt(_,10)&&m(r.values().next().value)),C.shapeFlag|=256,o=C,Wd(w.type)?w:C}}},oL=rL;function Yc(e,t){return wt(e)?e.some(n=>Yc(n,t)):Gt(e)?e.split(",").includes(t):zI(e)?(e.lastIndex=0,e.test(t)):!1}function $C(e,t){BC(e,"a",t)}function UC(e,t){BC(e,"da",t)}function BC(e,t,n=In){const s=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(tg(t,s,n),n){let i=n.parent;for(;i&&i.parent;)yh(i.parent.vnode)&&aL(s,t,n,i),i=i.parent}}function aL(e,t,n,s){const i=tg(t,e,s,!0);sg(()=>{Hp(s[t],i)},n)}function Dm(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function _f(e){return e.shapeFlag&128?e.ssContent:e}function tg(e,t,n=In,s=!1){if(n){const i=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...o)=>{fr();const a=ba(n),l=Hs(t,n,e,o);return a(),dr(),l});return s?i.unshift(r):i.push(r),r}}const Ar=e=>(t,n=In)=>{(!Pl||e==="sp")&&tg(e,(...s)=>t(...s),n)},jC=Ar("bm"),On=Ar("m"),S_=Ar("bu"),eg=Ar("u"),ng=Ar("bum"),sg=Ar("um"),HC=Ar("sp"),zC=Ar("rtg"),WC=Ar("rtc");function KC(e,t=In){tg("ec",e,t)}const w_="components",lL="directives";function La(e,t){return A_(w_,e,!0,t)||e}const GC=Symbol.for("v-ndc");function cL(e){return Gt(e)?A_(w_,e,!1)||e:e||GC}function uL(e){return A_(lL,e)}function A_(e,t,n=!0,s=!1){const i=xn||In;if(i){const r=i.type;if(e===w_){const a=ry(r,!1);if(a&&(a===t||a===Le(t)||a===Po(Le(t))))return r}const o=qT(i[e]||r[e],t)||qT(i.appContext[e],t);return!o&&s?r:o}}function qT(e,t){return e&&(e[t]||e[Le(t)]||e[Po(Le(t))])}function tn(e,t,n,s){let i;const r=n&&n[s],o=wt(e);if(o||Gt(e)){const a=o&&no(e);let l=!1,c=!1;a&&(l=!Rs(e),c=pr(e),e=Xp(e)),i=new Array(e.length);for(let u=0,h=e.length;u<h;u++)i[u]=t(l?c?$d(An(e[u])):An(e[u]):e[u],u,void 0,r&&r[u])}else if(typeof e=="number"){i=new Array(e);for(let a=0;a<e;a++)i[a]=t(a+1,a,void 0,r&&r[a])}else if(we(e))if(e[Symbol.iterator])i=Array.from(e,(a,l)=>t(a,l,void 0,r&&r[l]));else{const a=Object.keys(e);i=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];i[l]=t(e[u],u,l,r&&r[l])}}else i=[];return n&&(n[s]=i),i}function hL(e,t){for(let n=0;n<t.length;n++){const s=t[n];if(wt(s))for(let i=0;i<s.length;i++)e[s[i].name]=s[i].fn;else s&&(e[s.name]=s.key?(...i)=>{const r=s.fn(...i);return r&&(r.key=s.key),r}:s.fn)}return e}function XC(e,t,n={},s,i){if(xn.ce||xn.parent&&so(xn.parent)&&xn.parent.ce)return t!=="default"&&(n.name=t),Q(),ts(ne,null,[Bt("slot",n,s&&s())],64);let r=e[t];r&&r._c&&(r._d=!1),Q();const o=r&&I_(r(n)),a=n.key||o&&o.key,l=ts(ne,{key:(a&&!is(a)?a:`_${t}`)+(!o&&s?"_fb":"")},o||(s?s():[]),o&&e._===1?64:-2);return!i&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),r&&r._c&&(r._d=!0),l}function I_(e){return e.some(t=>mr(t)?!(t.type===sn||t.type===ne&&!I_(t.children)):!0)?e:null}function fL(e,t){const n={};for(const s in e)n[t&&/[A-Z]/.test(s)?`on:${s}`:aa(s)]=e[s];return n}const Xv=e=>e?C1(e)?bh(e):Xv(e.parent):null,du=ce(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Xv(e.parent),$root:e=>Xv(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>C_(e),$forceUpdate:e=>e.f||(e.f=()=>{__(e.update)}),$nextTick:e=>e.n||(e.n=Ma.bind(e.proxy)),$watch:e=>HL.bind(e)}),km=(e,t)=>e!==le&&!e.__isScriptSetup&&_e(e,t),Yv={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return s[t];case 2:return i[t];case 4:return n[t];case 3:return r[t]}else{if(km(s,t))return o[t]=1,s[t];if(i!==le&&_e(i,t))return o[t]=2,i[t];if((c=e.propsOptions[0])&&_e(c,t))return o[t]=3,r[t];if(n!==le&&_e(n,t))return o[t]=4,n[t];qv&&(o[t]=0)}}const u=du[t];let h,d;if(u)return t==="$attrs"&&Bn(e.attrs,"get",""),u(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==le&&_e(n,t))return o[t]=4,n[t];if(d=l.config.globalProperties,_e(d,t))return d[t]},set({_:e},t,n){const{data:s,setupState:i,ctx:r}=e;return km(i,t)?(i[t]=n,!0):s!==le&&_e(s,t)?(s[t]=n,!0):_e(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let a;return!!n[o]||e!==le&&_e(e,o)||km(t,o)||(a=r[0])&&_e(a,o)||_e(s,o)||_e(du,o)||_e(i.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:_e(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},dL=ce({},Yv,{get(e,t){if(t!==Symbol.unscopables)return Yv.get(e,t,e)},has(e,t){return t[0]!=="_"&&!l_(t)}});function pL(){return null}function gL(){return null}function mL(e){}function vL(e){}function yL(){return null}function _L(){}function bL(e,t){return null}function EL(){return YC().slots}function TL(){return YC().attrs}function YC(e){const t=Es();return t.setupContext||(t.setupContext=R1(t))}function Hu(e){return wt(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function SL(e,t){const n=Hu(e);for(const s in t){if(s.startsWith("__skip"))continue;let i=n[s];i?wt(i)||jt(i)?i=n[s]={type:i,default:t[s]}:i.default=t[s]:i===null&&(i=n[s]={default:t[s]}),i&&t[`__skip_${s}`]&&(i.skipFactory=!0)}return n}function wL(e,t){return!e||!t?e||t:wt(e)&&wt(t)?e.concat(t):ce({},Hu(e),Hu(t))}function AL(e,t){const n={};for(const s in e)t.includes(s)||Object.defineProperty(n,s,{enumerable:!0,get:()=>e[s]});return n}function IL(e){const t=Es();let n=e();return ny(),zp(n)&&(n=n.catch(s=>{throw ba(t),s})),[n,()=>ba(t)]}let qv=!0;function CL(e){const t=C_(e),n=e.proxy,s=e.ctx;qv=!1,t.beforeCreate&&QT(t.beforeCreate,e,"bc");const{data:i,computed:r,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:p,updated:g,activated:m,deactivated:y,beforeDestroy:E,beforeUnmount:A,destroyed:w,unmounted:C,render:O,renderTracked:D,renderTriggered:x,errorCaptured:T,serverPrefetch:_,expose:S,inheritAttrs:P,components:R,directives:I,filters:z}=t;if(c&&xL(c,s,null),o)for(const K in o){const tt=o[K];jt(tt)&&(s[K]=tt.bind(n))}if(i){const K=i.call(n,n);we(K)&&(e.data=Si(K))}if(qv=!0,r)for(const K in r){const tt=r[K],Pt=jt(tt)?tt.bind(n,n):jt(tt.get)?tt.get.bind(n,n):_n,U=!jt(tt)&&jt(tt.set)?tt.set.bind(n):_n,V=Pe({get:Pt,set:U});Object.defineProperty(s,K,{enumerable:!0,configurable:!0,get:()=>V.value,set:at=>V.value=at})}if(a)for(const K in a)qC(a[K],s,n,K);if(l){const K=jt(l)?l.call(n):l;Reflect.ownKeys(K).forEach(tt=>{pu(tt,K[tt])})}u&&QT(u,e,"c");function B(K,tt){wt(tt)?tt.forEach(Pt=>K(Pt.bind(n))):tt&&K(tt.bind(n))}if(B(jC,h),B(On,d),B(S_,p),B(eg,g),B($C,m),B(UC,y),B(KC,T),B(WC,D),B(zC,x),B(ng,A),B(sg,C),B(HC,_),wt(S))if(S.length){const K=e.exposed||(e.exposed={});S.forEach(tt=>{Object.defineProperty(K,tt,{get:()=>n[tt],set:Pt=>n[tt]=Pt,enumerable:!0})})}else e.exposed||(e.exposed={});O&&e.render===_n&&(e.render=O),P!=null&&(e.inheritAttrs=P),R&&(e.components=R),I&&(e.directives=I),_&&T_(e)}function xL(e,t,n=_n){wt(e)&&(e=Qv(e));for(const s in e){const i=e[s];let r;we(i)?"default"in i?r=Fs(i.from||s,i.default,!0):r=Fs(i.from||s):r=Fs(i),fn(r)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):t[s]=r}}function QT(e,t,n){Hs(wt(e)?e.map(s=>s.bind(t.proxy)):e.bind(t.proxy),t,n)}function qC(e,t,n,s){let i=s.includes(".")?g1(n,s):()=>n[s];if(Gt(e)){const r=t[e];jt(r)&&li(i,r)}else if(jt(e))li(i,e.bind(n));else if(we(e))if(wt(e))e.forEach(r=>qC(r,t,n,s));else{const r=jt(e.handler)?e.handler.bind(n):t[e.handler];jt(r)&&li(i,r,e)}}function C_(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=e.appContext,a=r.get(t);let l;return a?l=a:!i.length&&!n&&!s?l=t:(l={},i.length&&i.forEach(c=>Hd(l,c,o,!0)),Hd(l,t,o)),we(t)&&r.set(t,l),l}function Hd(e,t,n,s=!1){const{mixins:i,extends:r}=t;r&&Hd(e,r,n,!0),i&&i.forEach(o=>Hd(e,o,n,!0));for(const o in t)if(!(s&&o==="expose")){const a=PL[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const PL={data:JT,props:ZT,emits:ZT,methods:qc,computed:qc,beforeCreate:qn,created:qn,beforeMount:qn,mounted:qn,beforeUpdate:qn,updated:qn,beforeDestroy:qn,beforeUnmount:qn,destroyed:qn,unmounted:qn,activated:qn,deactivated:qn,errorCaptured:qn,serverPrefetch:qn,components:qc,directives:qc,watch:OL,provide:JT,inject:RL};function JT(e,t){return t?e?function(){return ce(jt(e)?e.call(this,this):e,jt(t)?t.call(this,this):t)}:t:e}function RL(e,t){return qc(Qv(e),Qv(t))}function Qv(e){if(wt(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function qn(e,t){return e?[...new Set([].concat(e,t))]:t}function qc(e,t){return e?ce(Object.create(null),e,t):t}function ZT(e,t){return e?wt(e)&&wt(t)?[...new Set([...e,...t])]:ce(Object.create(null),Hu(e),Hu(t??{})):t}function OL(e,t){if(!e)return t;if(!t)return e;const n=ce(Object.create(null),e);for(const s in t)n[s]=qn(e[s],t[s]);return n}function QC(){return{app:null,config:{isNativeTag:dl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let NL=0;function DL(e,t){return function(s,i=null){jt(s)||(s=ce({},s)),i!=null&&!we(i)&&(i=null);const r=QC(),o=new WeakSet,a=[];let l=!1;const c=r.app={_uid:NL++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:N1,get config(){return r.config},set config(u){},use(u,...h){return o.has(u)||(u&&jt(u.install)?(o.add(u),u.install(c,...h)):jt(u)&&(o.add(u),u(c,...h))),c},mixin(u){return r.mixins.includes(u)||r.mixins.push(u),c},component(u,h){return h?(r.components[u]=h,c):r.components[u]},directive(u,h){return h?(r.directives[u]=h,c):r.directives[u]},mount(u,h,d){if(!l){const p=c._ceVNode||Bt(s,i);return p.appContext=r,d===!0?d="svg":d===!1&&(d=void 0),h&&t?t(p,u):e(p,u,d),l=!0,c._container=u,u.__vue_app__=c,bh(p.component)}},onUnmount(u){a.push(u)},unmount(){l&&(Hs(a,c._instance,16),e(null,c._container),delete c._container.__vue_app__)},provide(u,h){return r.provides[u]=h,c},runWithContext(u){const h=ua;ua=c;try{return u()}finally{ua=h}}};return c}}let ua=null;function pu(e,t){if(In){let n=In.provides;const s=In.parent&&In.parent.provides;s===n&&(n=In.provides=Object.create(s)),n[e]=t}}function Fs(e,t,n=!1){const s=Es();if(s||ua){let i=ua?ua._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&jt(t)?t.call(s&&s.proxy):t}}function kL(){return!!(Es()||ua)}const JC={},ZC=()=>Object.create(JC),t1=e=>Object.getPrototypeOf(e)===JC;function ML(e,t,n,s=!1){const i={},r=ZC();e.propsDefaults=Object.create(null),e1(e,t,i,r);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);n?e.props=s?i:g_(i):e.type.props?e.props=i:e.props=r,e.attrs=r}function LL(e,t,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=e,a=ve(i),[l]=e.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(ig(e.emitsOptions,d))continue;const p=t[d];if(l)if(_e(r,d))p!==r[d]&&(r[d]=p,c=!0);else{const g=Le(d);i[g]=Jv(l,a,g,p,e,!1)}else p!==r[d]&&(r[d]=p,c=!0)}}}else{e1(e,t,i,r)&&(c=!0);let u;for(const h in a)(!t||!_e(t,h)&&((u=Hn(h))===h||!_e(t,u)))&&(l?n&&(n[h]!==void 0||n[u]!==void 0)&&(i[h]=Jv(l,a,h,void 0,e,!0)):delete i[h]);if(r!==a)for(const h in r)(!t||!_e(t,h))&&(delete r[h],c=!0)}c&&Qi(e.attrs,"set","")}function e1(e,t,n,s){const[i,r]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(sr(l))continue;const c=t[l];let u;i&&_e(i,u=Le(l))?!r||!r.includes(u)?n[u]=c:(a||(a={}))[u]=c:ig(e.emitsOptions,l)||(!(l in s)||c!==s[l])&&(s[l]=c,o=!0)}if(r){const l=ve(n),c=a||le;for(let u=0;u<r.length;u++){const h=r[u];n[h]=Jv(i,l,h,c[h],e,!_e(c,h))}}return o}function Jv(e,t,n,s,i,r){const o=e[n];if(o!=null){const a=_e(o,"default");if(a&&s===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&jt(l)){const{propsDefaults:c}=i;if(n in c)s=c[n];else{const u=ba(i);s=c[n]=l.call(null,t),u()}}else s=l;i.ce&&i.ce._setProp(n,s)}o[0]&&(r&&!a?s=!1:o[1]&&(s===""||s===Hn(n))&&(s=!0))}return s}const VL=new WeakMap;function n1(e,t,n=!1){const s=n?VL:t.propsCache,i=s.get(e);if(i)return i;const r=e.props,o={},a=[];let l=!1;if(!jt(e)){const u=h=>{l=!0;const[d,p]=n1(h,t,!0);ce(o,d),p&&a.push(...p)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!r&&!l)return we(e)&&s.set(e,ra),ra;if(wt(r))for(let u=0;u<r.length;u++){const h=Le(r[u]);tS(h)&&(o[h]=le)}else if(r)for(const u in r){const h=Le(u);if(tS(h)){const d=r[u],p=o[h]=wt(d)||jt(d)?{type:d}:ce({},d),g=p.type;let m=!1,y=!0;if(wt(g))for(let E=0;E<g.length;++E){const A=g[E],w=jt(A)&&A.name;if(w==="Boolean"){m=!0;break}else w==="String"&&(y=!1)}else m=jt(g)&&g.name==="Boolean";p[0]=m,p[1]=y,(m||_e(p,"default"))&&a.push(h)}}const c=[o,a];return we(e)&&s.set(e,c),c}function tS(e){return e[0]!=="$"&&!sr(e)}const x_=e=>e==="_"||e==="__"||e==="_ctx"||e==="$stable",P_=e=>wt(e)?e.map(ds):[ds(e)],FL=(e,t,n)=>{if(t._n)return t;const s=fs((...i)=>P_(t(...i)),n);return s._c=!1,s},s1=(e,t,n)=>{const s=e._ctx;for(const i in e){if(x_(i))continue;const r=e[i];if(jt(r))t[i]=FL(i,r,s);else if(r!=null){const o=P_(r);t[i]=()=>o}}},i1=(e,t)=>{const n=P_(t);e.slots.default=()=>n},r1=(e,t,n)=>{for(const s in t)(n||!x_(s))&&(e[s]=t[s])},$L=(e,t,n)=>{const s=e.slots=ZC();if(e.vnode.shapeFlag&32){const i=t.__;i&&Vd(s,"__",i,!0);const r=t._;r?(r1(s,t,n),n&&Vd(s,"_",r,!0)):s1(t,s)}else t&&i1(e,t)},UL=(e,t,n)=>{const{vnode:s,slots:i}=e;let r=!0,o=le;if(s.shapeFlag&32){const a=t._;a?n&&a===1?r=!1:r1(i,t,n):(r=!t.$stable,s1(t,i)),o=t}else t&&(i1(e,t),o={default:1});if(r)for(const a in i)!x_(a)&&o[a]==null&&delete i[a]},hn=_1;function o1(e){return l1(e)}function a1(e){return l1(e,XM)}function l1(e,t){const n=gh();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:d,setScopeId:p=_n,insertStaticContent:g}=e,m=(M,L,j,Z=null,X=null,it=null,mt=void 0,ot=null,ht=!!L.dynamicChildren)=>{if(M===L)return;M&&!ni(M,L)&&(Z=F(M),at(M,X,it,!0),M=null),L.patchFlag===-2&&(ht=!1,L.dynamicChildren=null);const{type:ct,ref:Rt,shapeFlag:vt}=L;switch(ct){case io:y(M,L,j,Z);break;case sn:E(M,L,j,Z);break;case ha:M==null&&A(L,j,Z,mt);break;case ne:R(M,L,j,Z,X,it,mt,ot,ht);break;default:vt&1?O(M,L,j,Z,X,it,mt,ot,ht):vt&6?I(M,L,j,Z,X,it,mt,ot,ht):(vt&64||vt&128)&&ct.process(M,L,j,Z,X,it,mt,ot,ht,dt)}Rt!=null&&X?_l(Rt,M&&M.ref,it,L||M,!L):Rt==null&&M&&M.ref!=null&&_l(M.ref,null,it,M,!0)},y=(M,L,j,Z)=>{if(M==null)s(L.el=a(L.children),j,Z);else{const X=L.el=M.el;L.children!==M.children&&c(X,L.children)}},E=(M,L,j,Z)=>{M==null?s(L.el=l(L.children||""),j,Z):L.el=M.el},A=(M,L,j,Z)=>{[M.el,M.anchor]=g(M.children,L,j,Z,M.el,M.anchor)},w=({el:M,anchor:L},j,Z)=>{let X;for(;M&&M!==L;)X=d(M),s(M,j,Z),M=X;s(L,j,Z)},C=({el:M,anchor:L})=>{let j;for(;M&&M!==L;)j=d(M),i(M),M=j;i(L)},O=(M,L,j,Z,X,it,mt,ot,ht)=>{L.type==="svg"?mt="svg":L.type==="math"&&(mt="mathml"),M==null?D(L,j,Z,X,it,mt,ot,ht):_(M,L,X,it,mt,ot,ht)},D=(M,L,j,Z,X,it,mt,ot)=>{let ht,ct;const{props:Rt,shapeFlag:vt,transition:xt,dirs:St}=M;if(ht=M.el=o(M.type,it,Rt&&Rt.is,Rt),vt&8?u(ht,M.children):vt&16&&T(M.children,ht,null,Z,X,Mm(M,it),mt,ot),St&&bi(M,null,Z,"created"),x(ht,M,M.scopeId,mt,Z),Rt){for(const Zt in Rt)Zt!=="value"&&!sr(Zt)&&r(ht,Zt,null,Rt[Zt],it,Z);"value"in Rt&&r(ht,"value",null,Rt.value,it),(ct=Rt.onVnodeBeforeMount)&&us(ct,Z,M)}St&&bi(M,null,Z,"beforeMount");const kt=c1(X,xt);kt&&xt.beforeEnter(ht),s(ht,L,j),((ct=Rt&&Rt.onVnodeMounted)||kt||St)&&hn(()=>{ct&&us(ct,Z,M),kt&&xt.enter(ht),St&&bi(M,null,Z,"mounted")},X)},x=(M,L,j,Z,X)=>{if(j&&p(M,j),Z)for(let it=0;it<Z.length;it++)p(M,Z[it]);if(X){let it=X.subTree;if(L===it||Wd(it.type)&&(it.ssContent===L||it.ssFallback===L)){const mt=X.vnode;x(M,mt,mt.scopeId,mt.slotScopeIds,X.parent)}}},T=(M,L,j,Z,X,it,mt,ot,ht=0)=>{for(let ct=ht;ct<M.length;ct++){const Rt=M[ct]=ot?jr(M[ct]):ds(M[ct]);m(null,Rt,L,j,Z,X,it,mt,ot)}},_=(M,L,j,Z,X,it,mt)=>{const ot=L.el=M.el;let{patchFlag:ht,dynamicChildren:ct,dirs:Rt}=L;ht|=M.patchFlag&16;const vt=M.props||le,xt=L.props||le;let St;if(j&&Bo(j,!1),(St=xt.onVnodeBeforeUpdate)&&us(St,j,L,M),Rt&&bi(L,M,j,"beforeUpdate"),j&&Bo(j,!0),(vt.innerHTML&&xt.innerHTML==null||vt.textContent&&xt.textContent==null)&&u(ot,""),ct?S(M.dynamicChildren,ct,ot,j,Z,Mm(L,X),it):mt||tt(M,L,ot,null,j,Z,Mm(L,X),it,!1),ht>0){if(ht&16)P(ot,vt,xt,j,X);else if(ht&2&&vt.class!==xt.class&&r(ot,"class",null,xt.class,X),ht&4&&r(ot,"style",vt.style,xt.style,X),ht&8){const kt=L.dynamicProps;for(let Zt=0;Zt<kt.length;Zt++){const $=kt[Zt],H=vt[$],G=xt[$];(G!==H||$==="value")&&r(ot,$,H,G,X,j)}}ht&1&&M.children!==L.children&&u(ot,L.children)}else!mt&&ct==null&&P(ot,vt,xt,j,X);((St=xt.onVnodeUpdated)||Rt)&&hn(()=>{St&&us(St,j,L,M),Rt&&bi(L,M,j,"updated")},Z)},S=(M,L,j,Z,X,it,mt)=>{for(let ot=0;ot<L.length;ot++){const ht=M[ot],ct=L[ot],Rt=ht.el&&(ht.type===ne||!ni(ht,ct)||ht.shapeFlag&198)?h(ht.el):j;m(ht,ct,Rt,null,Z,X,it,mt,!0)}},P=(M,L,j,Z,X)=>{if(L!==j){if(L!==le)for(const it in L)!sr(it)&&!(it in j)&&r(M,it,L[it],null,X,Z);for(const it in j){if(sr(it))continue;const mt=j[it],ot=L[it];mt!==ot&&it!=="value"&&r(M,it,ot,mt,X,Z)}"value"in j&&r(M,"value",L.value,j.value,X)}},R=(M,L,j,Z,X,it,mt,ot,ht)=>{const ct=L.el=M?M.el:a(""),Rt=L.anchor=M?M.anchor:a("");let{patchFlag:vt,dynamicChildren:xt,slotScopeIds:St}=L;St&&(ot=ot?ot.concat(St):St),M==null?(s(ct,j,Z),s(Rt,j,Z),T(L.children||[],j,Rt,X,it,mt,ot,ht)):vt>0&&vt&64&&xt&&M.dynamicChildren?(S(M.dynamicChildren,xt,j,X,it,mt,ot),(L.key!=null||X&&L===X.subTree)&&R_(M,L,!0)):tt(M,L,j,Rt,X,it,mt,ot,ht)},I=(M,L,j,Z,X,it,mt,ot,ht)=>{L.slotScopeIds=ot,M==null?L.shapeFlag&512?X.ctx.activate(L,j,Z,mt,ht):z(L,j,Z,X,it,mt,ht):Y(M,L,ht)},z=(M,L,j,Z,X,it,mt)=>{const ot=M.component=I1(M,Z,X);if(yh(M)&&(ot.ctx.renderer=dt),x1(ot,!1,mt),ot.asyncDep){if(X&&X.registerDep(ot,B,mt),!M.el){const ht=ot.subTree=Bt(sn);E(null,ht,L,j),M.placeholder=ht.el}}else B(ot,M,L,j,X,it,mt)},Y=(M,L,j)=>{const Z=L.component=M.component;if(YL(M,L,j))if(Z.asyncDep&&!Z.asyncResolved){K(Z,L,j);return}else Z.next=L,Z.update();else L.el=M.el,Z.vnode=L},B=(M,L,j,Z,X,it,mt)=>{const ot=()=>{if(M.isMounted){let{next:vt,bu:xt,u:St,parent:kt,vnode:Zt}=M;{const bt=u1(M);if(bt){vt&&(vt.el=Zt.el,K(M,vt,mt)),bt.asyncDep.then(()=>{M.isUnmounted||ot()});return}}let $=vt,H;Bo(M,!1),vt?(vt.el=Zt.el,K(M,vt,mt)):vt=Zt,xt&&la(xt),(H=vt.props&&vt.props.onVnodeBeforeUpdate)&&us(H,kt,vt,Zt),Bo(M,!0);const G=id(M),rt=M.subTree;M.subTree=G,m(rt,G,h(rt.el),F(rt),M,X,it),vt.el=G.el,$===null&&rg(M,G.el),St&&hn(St,X),(H=vt.props&&vt.props.onVnodeUpdated)&&hn(()=>us(H,kt,vt,Zt),X)}else{let vt;const{el:xt,props:St}=L,{bm:kt,m:Zt,parent:$,root:H,type:G}=M,rt=so(L);if(Bo(M,!1),kt&&la(kt),!rt&&(vt=St&&St.onVnodeBeforeMount)&&us(vt,$,L),Bo(M,!0),xt&&Dt){const bt=()=>{M.subTree=id(M),Dt(xt,M.subTree,M,X,null)};rt&&G.__asyncHydrate?G.__asyncHydrate(xt,M,bt):bt()}else{H.ce&&H.ce._def.shadowRoot!==!1&&H.ce._injectChildStyle(G);const bt=M.subTree=id(M);m(null,bt,j,Z,M,X,it),L.el=bt.el}if(Zt&&hn(Zt,X),!rt&&(vt=St&&St.onVnodeMounted)){const bt=L;hn(()=>us(vt,$,bt),X)}(L.shapeFlag&256||$&&so($.vnode)&&$.vnode.shapeFlag&256)&&M.a&&hn(M.a,X),M.isMounted=!0,L=j=Z=null}};M.scope.on();const ht=M.effect=new Vu(ot);M.scope.off();const ct=M.update=ht.run.bind(ht),Rt=M.job=ht.runIfDirty.bind(ht);Rt.i=M,Rt.id=M.uid,ht.scheduler=()=>__(Rt),Bo(M,!0),ct()},K=(M,L,j)=>{L.component=M;const Z=M.vnode.props;M.vnode=L,M.next=null,LL(M,L.props,Z,j),UL(M,L.children,j),fr(),HT(M),dr()},tt=(M,L,j,Z,X,it,mt,ot,ht=!1)=>{const ct=M&&M.children,Rt=M?M.shapeFlag:0,vt=L.children,{patchFlag:xt,shapeFlag:St}=L;if(xt>0){if(xt&128){U(ct,vt,j,Z,X,it,mt,ot,ht);return}else if(xt&256){Pt(ct,vt,j,Z,X,it,mt,ot,ht);return}}St&8?(Rt&16&&gt(ct,X,it),vt!==ct&&u(j,vt)):Rt&16?St&16?U(ct,vt,j,Z,X,it,mt,ot,ht):gt(ct,X,it,!0):(Rt&8&&u(j,""),St&16&&T(vt,j,Z,X,it,mt,ot,ht))},Pt=(M,L,j,Z,X,it,mt,ot,ht)=>{M=M||ra,L=L||ra;const ct=M.length,Rt=L.length,vt=Math.min(ct,Rt);let xt;for(xt=0;xt<vt;xt++){const St=L[xt]=ht?jr(L[xt]):ds(L[xt]);m(M[xt],St,j,null,X,it,mt,ot,ht)}ct>Rt?gt(M,X,it,!0,!1,vt):T(L,j,Z,X,it,mt,ot,ht,vt)},U=(M,L,j,Z,X,it,mt,ot,ht)=>{let ct=0;const Rt=L.length;let vt=M.length-1,xt=Rt-1;for(;ct<=vt&&ct<=xt;){const St=M[ct],kt=L[ct]=ht?jr(L[ct]):ds(L[ct]);if(ni(St,kt))m(St,kt,j,null,X,it,mt,ot,ht);else break;ct++}for(;ct<=vt&&ct<=xt;){const St=M[vt],kt=L[xt]=ht?jr(L[xt]):ds(L[xt]);if(ni(St,kt))m(St,kt,j,null,X,it,mt,ot,ht);else break;vt--,xt--}if(ct>vt){if(ct<=xt){const St=xt+1,kt=St<Rt?L[St].el:Z;for(;ct<=xt;)m(null,L[ct]=ht?jr(L[ct]):ds(L[ct]),j,kt,X,it,mt,ot,ht),ct++}}else if(ct>xt)for(;ct<=vt;)at(M[ct],X,it,!0),ct++;else{const St=ct,kt=ct,Zt=new Map;for(ct=kt;ct<=xt;ct++){const Xt=L[ct]=ht?jr(L[ct]):ds(L[ct]);Xt.key!=null&&Zt.set(Xt.key,ct)}let $,H=0;const G=xt-kt+1;let rt=!1,bt=0;const Lt=new Array(G);for(ct=0;ct<G;ct++)Lt[ct]=0;for(ct=St;ct<=vt;ct++){const Xt=M[ct];if(H>=G){at(Xt,X,it,!0);continue}let ge;if(Xt.key!=null)ge=Zt.get(Xt.key);else for($=kt;$<=xt;$++)if(Lt[$-kt]===0&&ni(Xt,L[$])){ge=$;break}ge===void 0?at(Xt,X,it,!0):(Lt[ge-kt]=ct+1,ge>=bt?bt=ge:rt=!0,m(Xt,L[ge],j,null,X,it,mt,ot,ht),H++)}const Kt=rt?BL(Lt):ra;for($=Kt.length-1,ct=G-1;ct>=0;ct--){const Xt=kt+ct,ge=L[Xt],Ft=L[Xt+1],Nt=Xt+1<Rt?Ft.el||Ft.placeholder:Z;Lt[ct]===0?m(null,ge,j,Nt,X,it,mt,ot,ht):rt&&($<0||ct!==Kt[$]?V(ge,j,Nt,2):$--)}}},V=(M,L,j,Z,X=null)=>{const{el:it,type:mt,transition:ot,children:ht,shapeFlag:ct}=M;if(ct&6){V(M.component.subTree,L,j,Z);return}if(ct&128){M.suspense.move(L,j,Z);return}if(ct&64){mt.move(M,L,j,dt);return}if(mt===ne){s(it,L,j);for(let vt=0;vt<ht.length;vt++)V(ht[vt],L,j,Z);s(M.anchor,L,j);return}if(mt===ha){w(M,L,j);return}if(Z!==2&&ct&1&&ot)if(Z===0)ot.beforeEnter(it),s(it,L,j),hn(()=>ot.enter(it),X);else{const{leave:vt,delayLeave:xt,afterLeave:St}=ot,kt=()=>{M.ctx.isUnmounted?i(it):s(it,L,j)},Zt=()=>{vt(it,()=>{kt(),St&&St()})};xt?xt(it,kt,Zt):Zt()}else s(it,L,j)},at=(M,L,j,Z=!1,X=!1)=>{const{type:it,props:mt,ref:ot,children:ht,dynamicChildren:ct,shapeFlag:Rt,patchFlag:vt,dirs:xt,cacheIndex:St}=M;if(vt===-2&&(X=!1),ot!=null&&(fr(),_l(ot,null,j,M,!0),dr()),St!=null&&(L.renderCache[St]=void 0),Rt&256){L.ctx.deactivate(M);return}const kt=Rt&1&&xt,Zt=!so(M);let $;if(Zt&&($=mt&&mt.onVnodeBeforeUnmount)&&us($,L,M),Rt&6)yt(M.component,j,Z);else{if(Rt&128){M.suspense.unmount(j,Z);return}kt&&bi(M,null,L,"beforeUnmount"),Rt&64?M.type.remove(M,L,j,dt,Z):ct&&!ct.hasOnce&&(it!==ne||vt>0&&vt&64)?gt(ct,L,j,!1,!0):(it===ne&&vt&384||!X&&Rt&16)&&gt(ht,L,j),Z&&ut(M)}(Zt&&($=mt&&mt.onVnodeUnmounted)||kt)&&hn(()=>{$&&us($,L,M),kt&&bi(M,null,L,"unmounted")},j)},ut=M=>{const{type:L,el:j,anchor:Z,transition:X}=M;if(L===ne){_t(j,Z);return}if(L===ha){C(M);return}const it=()=>{i(j),X&&!X.persisted&&X.afterLeave&&X.afterLeave()};if(M.shapeFlag&1&&X&&!X.persisted){const{leave:mt,delayLeave:ot}=X,ht=()=>mt(j,it);ot?ot(M.el,it,ht):ht()}else it()},_t=(M,L)=>{let j;for(;M!==L;)j=d(M),i(M),M=j;i(L)},yt=(M,L,j)=>{const{bum:Z,scope:X,job:it,subTree:mt,um:ot,m:ht,a:ct,parent:Rt,slots:{__:vt}}=M;zd(ht),zd(ct),Z&&la(Z),Rt&&wt(vt)&&vt.forEach(xt=>{Rt.renderCache[xt]=void 0}),X.stop(),it&&(it.flags|=8,at(mt,M,L,j)),ot&&hn(ot,L),hn(()=>{M.isUnmounted=!0},L),L&&L.pendingBranch&&!L.isUnmounted&&M.asyncDep&&!M.asyncResolved&&M.suspenseId===L.pendingId&&(L.deps--,L.deps===0&&L.resolve())},gt=(M,L,j,Z=!1,X=!1,it=0)=>{for(let mt=it;mt<M.length;mt++)at(M[mt],L,j,Z,X)},F=M=>{if(M.shapeFlag&6)return F(M.component.subTree);if(M.shapeFlag&128)return M.suspense.next();const L=d(M.anchor||M.el),j=L&&L[OC];return j?d(j):L};let J=!1;const et=(M,L,j)=>{M==null?L._vnode&&at(L._vnode,null,null,!0):m(L._vnode||null,M,L,null,null,null,j),L._vnode=M,J||(J=!0,HT(),jd(),J=!1)},dt={p:m,um:at,m:V,r:ut,mt:z,mc:T,pc:tt,pbc:S,n:F,o:e};let At,Dt;return t&&([At,Dt]=t(dt)),{render:et,hydrate:At,createApp:DL(et,At)}}function Mm({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Bo({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function c1(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function R_(e,t,n=!1){const s=e.children,i=t.children;if(wt(s)&&wt(i))for(let r=0;r<s.length;r++){const o=s[r];let a=i[r];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[r]=jr(i[r]),a.el=o.el),!n&&a.patchFlag!==-2&&R_(o,a)),a.type===io&&(a.el=o.el),a.type===sn&&!a.el&&(a.el=o.el)}}function BL(e){const t=e.slice(),n=[0];let s,i,r,o,a;const l=e.length;for(s=0;s<l;s++){const c=e[s];if(c!==0){if(i=n[n.length-1],e[i]<c){t[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)a=r+o>>1,e[n[a]]<c?r=a+1:o=a;c<e[n[r]]&&(r>0&&(t[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=t[o];return n}function u1(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:u1(t)}function zd(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const h1=Symbol.for("v-scx"),f1=()=>Fs(h1);function d1(e,t){return _h(e,null,t)}function jL(e,t){return _h(e,null,{flush:"post"})}function p1(e,t){return _h(e,null,{flush:"sync"})}function li(e,t,n){return _h(e,t,n)}function _h(e,t,n=le){const{immediate:s,deep:i,flush:r,once:o}=n,a=ce({},n),l=t&&s||!t&&r!=="post";let c;if(Pl){if(r==="sync"){const p=f1();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=_n,p.resume=_n,p.pause=_n,p}}const u=In;a.call=(p,g,m)=>Hs(p,u,g,m);let h=!1;r==="post"?a.scheduler=p=>{hn(p,u&&u.suspense)}:r!=="sync"&&(h=!0,a.scheduler=(p,g)=>{g?p():__(p)}),a.augmentJob=p=>{t&&(p.flags|=4),h&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const d=RM(e,t,a);return Pl&&(c?c.push(d):l&&d()),d}function HL(e,t,n){const s=this.proxy,i=Gt(e)?e.includes(".")?g1(s,e):()=>s[e]:e.bind(s,s);let r;jt(t)?r=t:(r=t.handler,n=t);const o=ba(this),a=_h(i,r.bind(s),n);return o(),a}function g1(e,t){const n=t.split(".");return()=>{let s=e;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}function zL(e,t,n=le){const s=Es(),i=Le(t),r=Hn(t),o=m1(e,i),a=SC((l,c)=>{let u,h=le,d;return p1(()=>{const p=e[i];Un(u,p)&&(u=p,c())}),{get(){return l(),n.get?n.get(u):u},set(p){const g=n.set?n.set(p):p;if(!Un(g,u)&&!(h!==le&&Un(p,h)))return;const m=s.vnode.props;m&&(t in m||i in m||r in m)&&(`onUpdate:${t}`in m||`onUpdate:${i}`in m||`onUpdate:${r}`in m)||(u=p,c()),s.emit(`update:${t}`,g),Un(p,g)&&Un(p,h)&&!Un(g,d)&&c(),h=p,d=g}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||le:a,done:!1}:{done:!0}}}},a}const m1=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${Le(t)}Modifiers`]||e[`${Hn(t)}Modifiers`];function WL(e,t,...n){if(e.isUnmounted)return;const s=e.vnode.props||le;let i=n;const r=t.startsWith("update:"),o=r&&m1(s,t.slice(7));o&&(o.trim&&(i=n.map(u=>Gt(u)?u.trim():u)),o.number&&(i=n.map(Mu)));let a,l=s[a=aa(t)]||s[a=aa(Le(t))];!l&&r&&(l=s[a=aa(Hn(t))]),l&&Hs(l,e,6,i);const c=s[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Hs(c,e,6,i)}}function v1(e,t,n=!1){const s=t.emitsCache,i=s.get(e);if(i!==void 0)return i;const r=e.emits;let o={},a=!1;if(!jt(e)){const l=c=>{const u=v1(c,t,!0);u&&(a=!0,ce(o,u))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!r&&!a?(we(e)&&s.set(e,null),null):(wt(r)?r.forEach(l=>o[l]=null):ce(o,r),we(e)&&s.set(e,o),o)}function ig(e,t){return!e||!Co(t)?!1:(t=t.slice(2).replace(/Once$/,""),_e(e,t[0].toLowerCase()+t.slice(1))||_e(e,Hn(t))||_e(e,t))}function id(e){const{type:t,vnode:n,proxy:s,withProxy:i,propsOptions:[r],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:h,data:d,setupState:p,ctx:g,inheritAttrs:m}=e,y=ju(e);let E,A;try{if(n.shapeFlag&4){const C=i||s,O=C;E=ds(c.call(O,C,u,h,p,d,g)),A=a}else{const C=t;E=ds(C.length>1?C(h,{attrs:a,slots:o,emit:l}):C(h,null)),A=t.props?a:GL(a)}}catch(C){gu.length=0,ka(C,e,1),E=Bt(sn)}let w=E;if(A&&m!==!1){const C=Object.keys(A),{shapeFlag:O}=w;C.length&&O&7&&(r&&C.some(jp)&&(A=XL(A,r)),w=Di(w,A,!1,!0))}return n.dirs&&(w=Di(w,null,!1,!0),w.dirs=w.dirs?w.dirs.concat(n.dirs):n.dirs),n.transition&&gr(w,n.transition),E=w,ju(y),E}function KL(e,t=!0){let n;for(let s=0;s<e.length;s++){const i=e[s];if(mr(i)){if(i.type!==sn||i.children==="v-if"){if(n)return;n=i}}else return}return n}const GL=e=>{let t;for(const n in e)(n==="class"||n==="style"||Co(n))&&((t||(t={}))[n]=e[n]);return t},XL=(e,t)=>{const n={};for(const s in e)(!jp(s)||!(s.slice(9)in t))&&(n[s]=e[s]);return n};function YL(e,t,n){const{props:s,children:i,component:r}=e,{props:o,children:a,patchFlag:l}=t,c=r.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return s?eS(s,o,c):!!o;if(l&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==s[d]&&!ig(c,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?eS(s,o,c):!0:!!o;return!1}function eS(e,t,n){const s=Object.keys(t);if(s.length!==Object.keys(e).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(t[r]!==e[r]&&!ig(n,r))return!0}return!1}function rg({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s===e)(e=t.vnode).el=n,t=t.parent;else break}}const Wd=e=>e.__isSuspense;let Zv=0;const qL={name:"Suspense",__isSuspense:!0,process(e,t,n,s,i,r,o,a,l,c){if(e==null)JL(t,n,s,i,r,o,a,l,c);else{if(r&&r.deps>0&&!e.suspense.isInFallback){t.suspense=e.suspense,t.suspense.vnode=t,t.el=e.el;return}ZL(e,t,n,s,i,o,a,l,c)}},hydrate:t2,normalize:e2},QL=qL;function zu(e,t){const n=e.props&&e.props[t];jt(n)&&n()}function JL(e,t,n,s,i,r,o,a,l){const{p:c,o:{createElement:u}}=l,h=u("div"),d=e.suspense=y1(e,i,s,t,h,n,r,o,a,l);c(null,d.pendingBranch=e.ssContent,h,null,s,d,r,o),d.deps>0?(zu(e,"onPending"),zu(e,"onFallback"),c(null,e.ssFallback,t,n,s,null,r,o),bl(d,e.ssFallback)):d.resolve(!1,!0)}function ZL(e,t,n,s,i,r,o,a,{p:l,um:c,o:{createElement:u}}){const h=t.suspense=e.suspense;h.vnode=t,t.el=e.el;const d=t.ssContent,p=t.ssFallback,{activeBranch:g,pendingBranch:m,isInFallback:y,isHydrating:E}=h;if(m)h.pendingBranch=d,ni(d,m)?(l(m,d,h.hiddenContainer,null,i,h,r,o,a),h.deps<=0?h.resolve():y&&(E||(l(g,p,n,s,i,null,r,o,a),bl(h,p)))):(h.pendingId=Zv++,E?(h.isHydrating=!1,h.activeBranch=m):c(m,i,h),h.deps=0,h.effects.length=0,h.hiddenContainer=u("div"),y?(l(null,d,h.hiddenContainer,null,i,h,r,o,a),h.deps<=0?h.resolve():(l(g,p,n,s,i,null,r,o,a),bl(h,p))):g&&ni(d,g)?(l(g,d,n,s,i,h,r,o,a),h.resolve(!0)):(l(null,d,h.hiddenContainer,null,i,h,r,o,a),h.deps<=0&&h.resolve()));else if(g&&ni(d,g))l(g,d,n,s,i,h,r,o,a),bl(h,d);else if(zu(t,"onPending"),h.pendingBranch=d,d.shapeFlag&512?h.pendingId=d.component.suspenseId:h.pendingId=Zv++,l(null,d,h.hiddenContainer,null,i,h,r,o,a),h.deps<=0)h.resolve();else{const{timeout:A,pendingId:w}=h;A>0?setTimeout(()=>{h.pendingId===w&&h.fallback(p)},A):A===0&&h.fallback(p)}}function y1(e,t,n,s,i,r,o,a,l,c,u=!1){const{p:h,m:d,um:p,n:g,o:{parentNode:m,remove:y}}=c;let E;const A=n2(e);A&&t&&t.pendingBranch&&(E=t.pendingId,t.deps++);const w=e.props?Lu(e.props.timeout):void 0,C=r,O={vnode:e,parent:t,parentComponent:n,namespace:o,container:s,hiddenContainer:i,deps:0,pendingId:Zv++,timeout:typeof w=="number"?w:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(D=!1,x=!1){const{vnode:T,activeBranch:_,pendingBranch:S,pendingId:P,effects:R,parentComponent:I,container:z}=O;let Y=!1;O.isHydrating?O.isHydrating=!1:D||(Y=_&&S.transition&&S.transition.mode==="out-in",Y&&(_.transition.afterLeave=()=>{P===O.pendingId&&(d(S,z,r===C?g(_):r,0),Uu(R))}),_&&(m(_.el)===z&&(r=g(_)),p(_,I,O,!0)),Y||d(S,z,r,0)),bl(O,S),O.pendingBranch=null,O.isInFallback=!1;let B=O.parent,K=!1;for(;B;){if(B.pendingBranch){B.effects.push(...R),K=!0;break}B=B.parent}!K&&!Y&&Uu(R),O.effects=[],A&&t&&t.pendingBranch&&E===t.pendingId&&(t.deps--,t.deps===0&&!x&&t.resolve()),zu(T,"onResolve")},fallback(D){if(!O.pendingBranch)return;const{vnode:x,activeBranch:T,parentComponent:_,container:S,namespace:P}=O;zu(x,"onFallback");const R=g(T),I=()=>{O.isInFallback&&(h(null,D,S,R,_,null,P,a,l),bl(O,D))},z=D.transition&&D.transition.mode==="out-in";z&&(T.transition.afterLeave=I),O.isInFallback=!0,p(T,_,null,!0),z||I()},move(D,x,T){O.activeBranch&&d(O.activeBranch,D,x,T),O.container=D},next(){return O.activeBranch&&g(O.activeBranch)},registerDep(D,x,T){const _=!!O.pendingBranch;_&&O.deps++;const S=D.vnode.el;D.asyncDep.catch(P=>{ka(P,D,0)}).then(P=>{if(D.isUnmounted||O.isUnmounted||O.pendingId!==D.suspenseId)return;D.asyncResolved=!0;const{vnode:R}=D;sy(D,P,!1),S&&(R.el=S);const I=!S&&D.subTree.el;x(D,R,m(S||D.subTree.el),S?null:g(D.subTree),O,o,T),I&&y(I),rg(D,R.el),_&&--O.deps===0&&O.resolve()})},unmount(D,x){O.isUnmounted=!0,O.activeBranch&&p(O.activeBranch,n,D,x),O.pendingBranch&&p(O.pendingBranch,n,D,x)}};return O}function t2(e,t,n,s,i,r,o,a,l){const c=t.suspense=y1(t,s,n,e.parentNode,document.createElement("div"),null,i,r,o,a,!0),u=l(e,c.pendingBranch=t.ssContent,n,c,r,o);return c.deps===0&&c.resolve(!1,!0),u}function e2(e){const{shapeFlag:t,children:n}=e,s=t&32;e.ssContent=nS(s?n.default:n),e.ssFallback=s?nS(n.fallback):Bt(sn)}function nS(e){let t;if(jt(e)){const n=_a&&e._c;n&&(e._d=!1,Q()),e=e(),n&&(e._d=!0,t=Wn,b1())}return wt(e)&&(e=KL(e)),e=ds(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function _1(e,t){t&&t.pendingBranch?wt(e)?t.effects.push(...e):t.effects.push(e):Uu(e)}function bl(e,t){e.activeBranch=t;const{vnode:n,parentComponent:s}=e;let i=t.el;for(;!i&&t.component;)t=t.component.subTree,i=t.el;n.el=i,s&&s.subTree===n&&(s.vnode.el=i,rg(s,i))}function n2(e){const t=e.props&&e.props.suspensible;return t!=null&&t!==!1}const ne=Symbol.for("v-fgt"),io=Symbol.for("v-txt"),sn=Symbol.for("v-cmt"),ha=Symbol.for("v-stc"),gu=[];let Wn=null;function Q(e=!1){gu.push(Wn=e?null:[])}function b1(){gu.pop(),Wn=gu[gu.length-1]||null}let _a=1;function ty(e,t=!1){_a+=e,e<0&&Wn&&t&&(Wn.hasOnce=!0)}function E1(e){return e.dynamicChildren=_a>0?Wn||ra:null,b1(),_a>0&&Wn&&Wn.push(e),e}function st(e,t,n,s,i,r){return E1(N(e,t,n,s,i,r,!0))}function ts(e,t,n,s,i){return E1(Bt(e,t,n,s,i,!0))}function mr(e){return e?e.__v_isVNode===!0:!1}function ni(e,t){return e.type===t.type&&e.key===t.key}function s2(e){}const T1=({key:e})=>e??null,rd=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Gt(e)||fn(e)||jt(e)?{i:xn,r:e,k:t,f:!!n}:e:null);function N(e,t=null,n=null,s=0,i=null,r=e===ne?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&T1(t),ref:t&&rd(t),scopeId:Jp,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:xn};return a?(O_(l,n),r&128&&e.normalize(l)):n&&(l.shapeFlag|=Gt(n)?8:16),_a>0&&!o&&Wn&&(l.patchFlag>0||r&6)&&l.patchFlag!==32&&Wn.push(l),l}const Bt=i2;function i2(e,t=null,n=null,s=0,i=null,r=!1){if((!e||e===GC)&&(e=sn),mr(e)){const a=Di(e,t,!0);return n&&O_(a,n),_a>0&&!r&&Wn&&(a.shapeFlag&6?Wn[Wn.indexOf(e)]=a:Wn.push(a)),a.patchFlag=-2,a}if(h2(e)&&(e=e.__vccOpts),t){t=S1(t);let{class:a,style:l}=t;a&&!Gt(a)&&(t.class=Pn(a)),we(l)&&(Qp(l)&&!wt(l)&&(l=ce({},l)),t.style=Ni(l))}const o=Gt(e)?1:Wd(e)?128:NC(e)?64:we(e)?4:jt(e)?2:0;return N(e,t,n,s,i,o,r,!0)}function S1(e){return e?Qp(e)||t1(e)?ce({},e):e:null}function Di(e,t,n=!1,s=!1){const{props:i,ref:r,patchFlag:o,children:a,transition:l}=e,c=t?A1(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&T1(c),ref:t&&t.ref?n&&r?wt(r)?r.concat(rd(t)):[r,rd(t)]:rd(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ne?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Di(e.ssContent),ssFallback:e.ssFallback&&Di(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&s&&gr(u,l.clone(u)),u}function xe(e=" ",t=0){return Bt(io,null,e,t)}function w1(e,t){const n=Bt(ha,null,e);return n.staticCount=t,n}function Ee(e="",t=!1){return t?(Q(),ts(sn,null,e)):Bt(sn,null,e)}function ds(e){return e==null||typeof e=="boolean"?Bt(sn):wt(e)?Bt(ne,null,e.slice()):mr(e)?jr(e):Bt(io,null,String(e))}function jr(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Di(e)}function O_(e,t){let n=0;const{shapeFlag:s}=e;if(t==null)t=null;else if(wt(t))n=16;else if(typeof t=="object")if(s&65){const i=t.default;i&&(i._c&&(i._d=!1),O_(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!t1(t)?t._ctx=xn:i===3&&xn&&(xn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else jt(t)?(t={default:t,_ctx:xn},n=32):(t=String(t),s&64?(n=16,t=[xe(t)]):n=8);e.children=t,e.shapeFlag|=n}function A1(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const i in s)if(i==="class")t.class!==s.class&&(t.class=Pn([t.class,s.class]));else if(i==="style")t.style=Ni([t.style,s.style]);else if(Co(i)){const r=t[i],o=s[i];o&&r!==o&&!(wt(r)&&r.includes(o))&&(t[i]=r?[].concat(r,o):o)}else i!==""&&(t[i]=s[i])}return t}function us(e,t,n,s=null){Hs(e,t,7,[n,s])}const r2=QC();let o2=0;function I1(e,t,n){const s=e.type,i=(t?t.appContext:e.appContext)||r2,r={uid:o2++,vnode:e,type:s,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new h_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:n1(s,i),emitsOptions:v1(s,i),emit:null,emitted:null,propsDefaults:le,inheritAttrs:s.inheritAttrs,ctx:le,data:le,props:le,attrs:le,slots:le,refs:le,setupState:le,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=t?t.root:r,r.emit=WL.bind(null,r),e.ce&&e.ce(r),r}let In=null;const Es=()=>In||xn;let Kd,ey;{const e=gh(),t=(n,s)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(s),r=>{i.length>1?i.forEach(o=>o(r)):i[0](r)}};Kd=t("__VUE_INSTANCE_SETTERS__",n=>In=n),ey=t("__VUE_SSR_SETTERS__",n=>Pl=n)}const ba=e=>{const t=In;return Kd(e),e.scope.on(),()=>{e.scope.off(),Kd(t)}},ny=()=>{In&&In.scope.off(),Kd(null)};function C1(e){return e.vnode.shapeFlag&4}let Pl=!1;function x1(e,t=!1,n=!1){t&&ey(t);const{props:s,children:i}=e.vnode,r=C1(e);ML(e,s,r,t),$L(e,i,n||t);const o=r?a2(e,t):void 0;return t&&ey(!1),o}function a2(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Yv);const{setup:s}=n;if(s){fr();const i=e.setupContext=s.length>1?R1(e):null,r=ba(e),o=rc(s,e,0,[e.props,i]),a=zp(o);if(dr(),r(),(a||e.sp)&&!so(e)&&T_(e),a){if(o.then(ny,ny),t)return o.then(l=>{sy(e,l,t)}).catch(l=>{ka(l,e,0)});e.asyncDep=o}else sy(e,o,t)}else P1(e,t)}function sy(e,t,n){jt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:we(t)&&(e.setupState=y_(t)),P1(e,n)}let Gd,iy;function l2(e){Gd=e,iy=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,dL))}}const c2=()=>!Gd;function P1(e,t,n){const s=e.type;if(!e.render){if(!t&&Gd&&!s.render){const i=s.template||C_(e).template;if(i){const{isCustomElement:r,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=s,c=ce(ce({isCustomElement:r,delimiters:a},o),l);s.render=Gd(i,c)}}e.render=s.render||_n,iy&&iy(e)}{const i=ba(e);fr();try{CL(e)}finally{dr(),i()}}}const u2={get(e,t){return Bn(e,"get",""),e[t]}};function R1(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,u2),slots:e.slots,emit:e.emit,expose:t}}function bh(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(y_(EC(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in du)return du[n](e)},has(t,n){return n in t||n in du}})):e.proxy}function ry(e,t=!0){return jt(e)?e.displayName||e.name:e.name||t&&e.__name}function h2(e){return jt(e)&&"__vccOpts"in e}const Pe=(e,t)=>IM(e,t,Pl);function og(e,t,n){const s=arguments.length;return s===2?we(t)&&!wt(t)?mr(t)?Bt(e,null,[t]):Bt(e,t):Bt(e,null,t):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&mr(n)&&(n=[n]),Bt(e,t,n))}function f2(){}function d2(e,t,n,s){const i=n[s];if(i&&O1(i,e))return i;const r=t();return r.memo=e.slice(),r.cacheIndex=s,n[s]=r}function O1(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let s=0;s<n.length;s++)if(Un(n[s],t[s]))return!1;return _a>0&&Wn&&Wn.push(e),!0}const N1="3.5.18",p2=_n,g2=MM,m2=sl,v2=RC,y2={createComponentInstance:I1,setupComponent:x1,renderComponentRoot:id,setCurrentRenderingInstance:ju,isVNode:mr,normalizeVNode:ds,getComponentPublicInstance:bh,ensureValidVNode:I_,pushWarningContext:OM,popWarningContext:NM},_2=y2,b2=null,E2=null,T2=null;/**
* @vue/runtime-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let oy;const sS=typeof window<"u"&&window.trustedTypes;if(sS)try{oy=sS.createPolicy("vue",{createHTML:e=>e})}catch{}const D1=oy?e=>oy.createHTML(e):e=>e,S2="http://www.w3.org/2000/svg",w2="http://www.w3.org/1998/Math/MathML",Yi=typeof document<"u"?document:null,iS=Yi&&Yi.createElement("template"),A2={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,s)=>{const i=t==="svg"?Yi.createElementNS(S2,e):t==="mathml"?Yi.createElementNS(w2,e):n?Yi.createElement(e,{is:n}):Yi.createElement(e);return e==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:e=>Yi.createTextNode(e),createComment:e=>Yi.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Yi.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,s,i,r){const o=n?n.previousSibling:t.lastChild;if(i&&(i===r||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{iS.innerHTML=D1(s==="svg"?`<svg>${e}</svg>`:s==="mathml"?`<math>${e}</math>`:e);const a=iS.content;if(s==="svg"||s==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Dr="transition",Mc="animation",Rl=Symbol("_vtc"),k1={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},M1=ce({},E_,k1),I2=e=>(e.displayName="Transition",e.props=M1,e),C2=I2((e,{slots:t})=>og(VC,L1(e),t)),jo=(e,t=[])=>{wt(e)?e.forEach(n=>n(...t)):e&&e(...t)},rS=e=>e?wt(e)?e.some(t=>t.length>1):e.length>1:!1;function L1(e){const t={};for(const R in e)R in k1||(t[R]=e[R]);if(e.css===!1)return t;const{name:n="v",type:s,duration:i,enterFromClass:r=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=r,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,g=x2(i),m=g&&g[0],y=g&&g[1],{onBeforeEnter:E,onEnter:A,onEnterCancelled:w,onLeave:C,onLeaveCancelled:O,onBeforeAppear:D=E,onAppear:x=A,onAppearCancelled:T=w}=t,_=(R,I,z,Y)=>{R._enterCancelled=Y,Fr(R,I?u:a),Fr(R,I?c:o),z&&z()},S=(R,I)=>{R._isLeaving=!1,Fr(R,h),Fr(R,p),Fr(R,d),I&&I()},P=R=>(I,z)=>{const Y=R?x:A,B=()=>_(I,R,z);jo(Y,[I,B]),oS(()=>{Fr(I,R?l:r),mi(I,R?u:a),rS(Y)||aS(I,s,m,B)})};return ce(t,{onBeforeEnter(R){jo(E,[R]),mi(R,r),mi(R,o)},onBeforeAppear(R){jo(D,[R]),mi(R,l),mi(R,c)},onEnter:P(!1),onAppear:P(!0),onLeave(R,I){R._isLeaving=!0;const z=()=>S(R,I);mi(R,h),R._enterCancelled?(mi(R,d),ay()):(ay(),mi(R,d)),oS(()=>{R._isLeaving&&(Fr(R,h),mi(R,p),rS(C)||aS(R,s,y,z))}),jo(C,[R,z])},onEnterCancelled(R){_(R,!1,void 0,!0),jo(w,[R])},onAppearCancelled(R){_(R,!0,void 0,!0),jo(T,[R])},onLeaveCancelled(R){S(R),jo(O,[R])}})}function x2(e){if(e==null)return null;if(we(e))return[Lm(e.enter),Lm(e.leave)];{const t=Lm(e);return[t,t]}}function Lm(e){return Lu(e)}function mi(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[Rl]||(e[Rl]=new Set)).add(t)}function Fr(e,t){t.split(/\s+/).forEach(s=>s&&e.classList.remove(s));const n=e[Rl];n&&(n.delete(t),n.size||(e[Rl]=void 0))}function oS(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let P2=0;function aS(e,t,n,s){const i=e._endId=++P2,r=()=>{i===e._endId&&s()};if(n!=null)return setTimeout(r,n);const{type:o,timeout:a,propCount:l}=V1(e,t);if(!o)return s();const c=o+"end";let u=0;const h=()=>{e.removeEventListener(c,d),r()},d=p=>{p.target===e&&++u>=l&&h()};setTimeout(()=>{u<l&&h()},a+1),e.addEventListener(c,d)}function V1(e,t){const n=window.getComputedStyle(e),s=g=>(n[g]||"").split(", "),i=s(`${Dr}Delay`),r=s(`${Dr}Duration`),o=lS(i,r),a=s(`${Mc}Delay`),l=s(`${Mc}Duration`),c=lS(a,l);let u=null,h=0,d=0;t===Dr?o>0&&(u=Dr,h=o,d=r.length):t===Mc?c>0&&(u=Mc,h=c,d=l.length):(h=Math.max(o,c),u=h>0?o>c?Dr:Mc:null,d=u?u===Dr?r.length:l.length:0);const p=u===Dr&&/\b(transform|all)(,|$)/.test(s(`${Dr}Property`).toString());return{type:u,timeout:h,propCount:d,hasTransform:p}}function lS(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,s)=>cS(n)+cS(e[s])))}function cS(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function ay(){return document.body.offsetHeight}function R2(e,t,n){const s=e[Rl];s&&(t=(t?[t,...s]:[...s]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const Xd=Symbol("_vod"),F1=Symbol("_vsh"),$1={beforeMount(e,{value:t},{transition:n}){e[Xd]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Lc(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:s}){!t!=!n&&(s?t?(s.beforeEnter(e),Lc(e,!0),s.enter(e)):s.leave(e,()=>{Lc(e,!1)}):Lc(e,t))},beforeUnmount(e,{value:t}){Lc(e,t)}};function Lc(e,t){e.style.display=t?e[Xd]:"none",e[F1]=!t}function O2(){$1.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const U1=Symbol("");function N2(e){const t=Es();if(!t)return;const n=t.ut=(i=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(r=>Yd(r,i))},s=()=>{const i=e(t.proxy);t.ce?Yd(t.ce,i):ly(t.subTree,i),n(i)};S_(()=>{Uu(s)}),On(()=>{li(s,_n,{flush:"post"});const i=new MutationObserver(s);i.observe(t.subTree.el.parentNode,{childList:!0}),sg(()=>i.disconnect())})}function ly(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{ly(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)Yd(e.el,t);else if(e.type===ne)e.children.forEach(n=>ly(n,t));else if(e.type===ha){let{el:n,anchor:s}=e;for(;n&&(Yd(n,t),n!==s);)n=n.nextSibling}}function Yd(e,t){if(e.nodeType===1){const n=e.style;let s="";for(const i in t){const r=iC(t[i]);n.setProperty(`--${i}`,r),s+=`--${i}: ${r};`}n[U1]=s}}const D2=/(^|;)\s*display\s*:/;function k2(e,t,n){const s=e.style,i=Gt(n);let r=!1;if(n&&!i){if(t)if(Gt(t))for(const o of t.split(";")){const a=o.slice(0,o.indexOf(":")).trim();n[a]==null&&od(s,a,"")}else for(const o in t)n[o]==null&&od(s,o,"");for(const o in n)o==="display"&&(r=!0),od(s,o,n[o])}else if(i){if(t!==n){const o=s[U1];o&&(n+=";"+o),s.cssText=n,r=D2.test(n)}}else t&&e.removeAttribute("style");Xd in e&&(e[Xd]=r?s.display:"",e[F1]&&(s.display="none"))}const uS=/\s*!important$/;function od(e,t,n){if(wt(n))n.forEach(s=>od(e,t,s));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const s=M2(e,t);uS.test(n)?e.setProperty(Hn(s),n.replace(uS,""),"important"):e[s]=n}}const hS=["Webkit","Moz","ms"],Vm={};function M2(e,t){const n=Vm[t];if(n)return n;let s=Le(t);if(s!=="filter"&&s in e)return Vm[t]=s;s=Po(s);for(let i=0;i<hS.length;i++){const r=hS[i]+s;if(r in e)return Vm[t]=r}return t}const fS="http://www.w3.org/1999/xlink";function dS(e,t,n,s,i,r=tC(t)){s&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(fS,t.slice(6,t.length)):e.setAttributeNS(fS,t,n):n==null||r&&!u_(n)?e.removeAttribute(t):e.setAttribute(t,r?"":is(n)?String(n):n)}function pS(e,t,n,s,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?D1(n):n);return}const r=e.tagName;if(t==="value"&&r!=="PROGRESS"&&!r.includes("-")){const a=r==="OPTION"?e.getAttribute("value")||"":e.value,l=n==null?e.type==="checkbox"?"on":"":String(n);(a!==l||!("_value"in e))&&(e.value=l),n==null&&e.removeAttribute(t),e._value=n;return}let o=!1;if(n===""||n==null){const a=typeof e[t];a==="boolean"?n=u_(n):n==null&&a==="string"?(n="",o=!0):a==="number"&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(i||t)}function Zi(e,t,n,s){e.addEventListener(t,n,s)}function L2(e,t,n,s){e.removeEventListener(t,n,s)}const gS=Symbol("_vei");function V2(e,t,n,s,i=null){const r=e[gS]||(e[gS]={}),o=r[t];if(s&&o)o.value=s;else{const[a,l]=F2(t);if(s){const c=r[t]=B2(s,i);Zi(e,a,c,l)}else o&&(L2(e,a,o,l),r[t]=void 0)}}const mS=/(?:Once|Passive|Capture)$/;function F2(e){let t;if(mS.test(e)){t={};let s;for(;s=e.match(mS);)e=e.slice(0,e.length-s[0].length),t[s[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Hn(e.slice(2)),t]}let Fm=0;const $2=Promise.resolve(),U2=()=>Fm||($2.then(()=>Fm=0),Fm=Date.now());function B2(e,t){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Hs(j2(s,n.value),t,5,[s])};return n.value=e,n.attached=U2(),n}function j2(e,t){if(wt(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(s=>i=>!i._stopped&&s&&s(i))}else return t}const vS=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,H2=(e,t,n,s,i,r)=>{const o=i==="svg";t==="class"?R2(e,s,o):t==="style"?k2(e,n,s):Co(t)?jp(t)||V2(e,t,n,s,r):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):z2(e,t,s,o))?(pS(e,t,s),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&dS(e,t,s,o,r,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!Gt(s))?pS(e,Le(t),s,r,t):(t==="true-value"?e._trueValue=s:t==="false-value"&&(e._falseValue=s),dS(e,t,s,o))};function z2(e,t,n,s){if(s)return!!(t==="innerHTML"||t==="textContent"||t in e&&vS(t)&&jt(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return vS(t)&&Gt(n)?!1:t in e}const yS={};/*! #__NO_SIDE_EFFECTS__ */function B1(e,t,n){const s=vh(e,t);ph(s)&&ce(s,t);class i extends ag{constructor(o){super(s,o,n)}}return i.def=s,i}/*! #__NO_SIDE_EFFECTS__ */const W2=(e,t)=>B1(e,t,J1),K2=typeof HTMLElement<"u"?HTMLElement:class{};class ag extends K2{constructor(t,n={},s=Qd){super(),this._def=t,this._props=n,this._createApp=s,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&s!==Qd?this._root=this.shadowRoot:t.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this}connectedCallback(){if(!this.isConnected)return;!this.shadowRoot&&!this._resolved&&this._parseSlots(),this._connected=!0;let t=this;for(;t=t&&(t.parentNode||t.host);)if(t instanceof ag){this._parent=t;break}this._instance||(this._resolved?this._mount(this._def):t&&t._pendingResolve?this._pendingResolve=t._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(t=this._parent){t&&(this._instance.parent=t._instance,this._inheritParentContext(t))}_inheritParentContext(t=this._parent){t&&this._app&&Object.setPrototypeOf(this._app._context.provides,t._instance.provides)}disconnectedCallback(){this._connected=!1,Ma(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let s=0;s<this.attributes.length;s++)this._setAttr(this.attributes[s].name);this._ob=new MutationObserver(s=>{for(const i of s)this._setAttr(i.attributeName)}),this._ob.observe(this,{attributes:!0});const t=(s,i=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:r,styles:o}=s;let a;if(r&&!wt(r))for(const l in r){const c=r[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=Lu(this._props[l])),(a||(a=Object.create(null)))[Le(l)]=!0)}this._numberProps=a,this._resolveProps(s),this.shadowRoot&&this._applyStyles(o),this._mount(s)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(s=>{s.configureApp=this._def.configureApp,t(this._def=s,!0)}):t(this._def)}_mount(t){this._app=this._createApp(t),this._inheritParentContext(),t.configureApp&&t.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const s in n)_e(this,s)||Object.defineProperty(this,s,{get:()=>ai(n[s])})}_resolveProps(t){const{props:n}=t,s=wt(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&s.includes(i)&&this._setProp(i,this[i]);for(const i of s.map(Le))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(r){this._setProp(i,r,!0,!0)}})}_setAttr(t){if(t.startsWith("data-v-"))return;const n=this.hasAttribute(t);let s=n?this.getAttribute(t):yS;const i=Le(t);n&&this._numberProps&&this._numberProps[i]&&(s=Lu(s)),this._setProp(i,s,!1,!0)}_getProp(t){return this._props[t]}_setProp(t,n,s=!0,i=!1){if(n!==this._props[t]&&(n===yS?delete this._props[t]:(this._props[t]=n,t==="key"&&this._app&&(this._app._ceVNode.key=n)),i&&this._instance&&this._update(),s)){const r=this._ob;r&&r.disconnect(),n===!0?this.setAttribute(Hn(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Hn(t),n+""):n||this.removeAttribute(Hn(t)),r&&r.observe(this,{attributes:!0})}}_update(){const t=this._createVNode();this._app&&(t.appContext=this._app._context),Q1(t,this._root)}_createVNode(){const t={};this.shadowRoot||(t.onVnodeMounted=t.onVnodeUpdated=this._renderSlots.bind(this));const n=Bt(this._def,ce(t,this._props));return this._instance||(n.ce=s=>{this._instance=s,s.ce=this,s.isCE=!0;const i=(r,o)=>{this.dispatchEvent(new CustomEvent(r,ph(o[0])?ce({detail:o},o[0]):{detail:o}))};s.emit=(r,...o)=>{i(r,o),Hn(r)!==r&&i(Hn(r),o)},this._setParent()}),n}_applyStyles(t,n){if(!t)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const s=this._nonce;for(let i=t.length-1;i>=0;i--){const r=document.createElement("style");s&&r.setAttribute("nonce",s),r.textContent=t[i],this.shadowRoot.prepend(r)}}_parseSlots(){const t=this._slots={};let n;for(;n=this.firstChild;){const s=n.nodeType===1&&n.getAttribute("slot")||"default";(t[s]||(t[s]=[])).push(n),this.removeChild(n)}}_renderSlots(){const t=(this._teleportTarget||this).querySelectorAll("slot"),n=this._instance.type.__scopeId;for(let s=0;s<t.length;s++){const i=t[s],r=i.getAttribute("name")||"default",o=this._slots[r],a=i.parentNode;if(o)for(const l of o){if(n&&l.nodeType===1){const c=n+"-s",u=document.createTreeWalker(l,1);l.setAttribute(c,"");let h;for(;h=u.nextNode();)h.setAttribute(c,"")}a.insertBefore(l,i)}else for(;i.firstChild;)a.insertBefore(i.firstChild,i);a.removeChild(i)}}_injectChildStyle(t){this._applyStyles(t.styles,t)}_removeChildStyle(t){}}function j1(e){const t=Es(),n=t&&t.ce;return n||null}function G2(){const e=j1();return e&&e.shadowRoot}function X2(e="$style"){{const t=Es();if(!t)return le;const n=t.type.__cssModules;if(!n)return le;const s=n[e];return s||le}}const H1=new WeakMap,z1=new WeakMap,qd=Symbol("_moveCb"),_S=Symbol("_enterCb"),Y2=e=>(delete e.props.mode,e),q2=Y2({name:"TransitionGroup",props:ce({},M1,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Es(),s=b_();let i,r;return eg(()=>{if(!i.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!eV(i[0].el,n.vnode.el,o)){i=[];return}i.forEach(J2),i.forEach(Z2);const a=i.filter(tV);ay(),a.forEach(l=>{const c=l.el,u=c.style;mi(c,o),u.transform=u.webkitTransform=u.transitionDuration="";const h=c[qd]=d=>{d&&d.target!==c||(!d||/transform$/.test(d.propertyName))&&(c.removeEventListener("transitionend",h),c[qd]=null,Fr(c,o))};c.addEventListener("transitionend",h)}),i=[]}),()=>{const o=ve(e),a=L1(o);let l=o.tag||ne;if(i=[],r)for(let c=0;c<r.length;c++){const u=r[c];u.el&&u.el instanceof Element&&(i.push(u),gr(u,xl(u,a,s,n)),H1.set(u,u.el.getBoundingClientRect()))}r=t.default?Zp(t.default()):[];for(let c=0;c<r.length;c++){const u=r[c];u.key!=null&&gr(u,xl(u,a,s,n))}return Bt(l,null,r)}}}),Q2=q2;function J2(e){const t=e.el;t[qd]&&t[qd](),t[_S]&&t[_S]()}function Z2(e){z1.set(e,e.el.getBoundingClientRect())}function tV(e){const t=H1.get(e),n=z1.get(e),s=t.left-n.left,i=t.top-n.top;if(s||i){const r=e.el.style;return r.transform=r.webkitTransform=`translate(${s}px,${i}px)`,r.transitionDuration="0s",e}}function eV(e,t,n){const s=e.cloneNode(),i=e[Rl];i&&i.forEach(a=>{a.split(/\s+/).forEach(l=>l&&s.classList.remove(l))}),n.split(/\s+/).forEach(a=>a&&s.classList.add(a)),s.style.display="none";const r=t.nodeType===1?t:t.parentNode;r.appendChild(s);const{hasTransform:o}=V1(s);return r.removeChild(s),o}const go=e=>{const t=e.props["onUpdate:modelValue"]||!1;return wt(t)?n=>la(t,n):t};function nV(e){e.target.composing=!0}function bS(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const $s=Symbol("_assign"),re={created(e,{modifiers:{lazy:t,trim:n,number:s}},i){e[$s]=go(i);const r=s||i.props&&i.props.type==="number";Zi(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),r&&(a=Mu(a)),e[$s](a)}),n&&Zi(e,"change",()=>{e.value=e.value.trim()}),t||(Zi(e,"compositionstart",nV),Zi(e,"compositionend",bS),Zi(e,"change",bS))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:s,trim:i,number:r}},o){if(e[$s]=go(o),e.composing)return;const a=(r||e.type==="number")&&!/^0\d/.test(e.value)?Mu(e.value):e.value,l=t??"";a!==l&&(document.activeElement===e&&e.type!=="range"&&(s&&t===n||i&&e.value.trim()===l)||(e.value=l))}},Eh={deep:!0,created(e,t,n){e[$s]=go(n),Zi(e,"change",()=>{const s=e._modelValue,i=Ol(e),r=e.checked,o=e[$s];if(wt(s)){const a=mh(s,i),l=a!==-1;if(r&&!l)o(s.concat(i));else if(!r&&l){const c=[...s];c.splice(a,1),o(c)}}else if(xo(s)){const a=new Set(s);r?a.add(i):a.delete(i),o(a)}else o(W1(e,r))})},mounted:ES,beforeUpdate(e,t,n){e[$s]=go(n),ES(e,t,n)}};function ES(e,{value:t,oldValue:n},s){e._modelValue=t;let i;if(wt(t))i=mh(t,s.props.value)>-1;else if(xo(t))i=t.has(s.props.value);else{if(t===n)return;i=hr(t,W1(e,!0))}e.checked!==i&&(e.checked=i)}const N_={created(e,{value:t},n){e.checked=hr(t,n.props.value),e[$s]=go(n),Zi(e,"change",()=>{e[$s](Ol(e))})},beforeUpdate(e,{value:t,oldValue:n},s){e[$s]=go(s),t!==n&&(e.checked=hr(t,s.props.value))}},lg={deep:!0,created(e,{value:t,modifiers:{number:n}},s){const i=xo(t);Zi(e,"change",()=>{const r=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?Mu(Ol(o)):Ol(o));e[$s](e.multiple?i?new Set(r):r:r[0]),e._assigning=!0,Ma(()=>{e._assigning=!1})}),e[$s]=go(s)},mounted(e,{value:t}){TS(e,t)},beforeUpdate(e,t,n){e[$s]=go(n)},updated(e,{value:t}){e._assigning||TS(e,t)}};function TS(e,t){const n=e.multiple,s=wt(t);if(!(n&&!s&&!xo(t))){for(let i=0,r=e.options.length;i<r;i++){const o=e.options[i],a=Ol(o);if(n)if(s){const l=typeof a;l==="string"||l==="number"?o.selected=t.some(c=>String(c)===String(a)):o.selected=mh(t,a)>-1}else o.selected=t.has(a);else if(hr(Ol(o),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Ol(e){return"_value"in e?e._value:e.value}function W1(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const K1={created(e,t,n){bf(e,t,n,null,"created")},mounted(e,t,n){bf(e,t,n,null,"mounted")},beforeUpdate(e,t,n,s){bf(e,t,n,s,"beforeUpdate")},updated(e,t,n,s){bf(e,t,n,s,"updated")}};function G1(e,t){switch(e){case"SELECT":return lg;case"TEXTAREA":return re;default:switch(t){case"checkbox":return Eh;case"radio":return N_;default:return re}}}function bf(e,t,n,s,i){const o=G1(e.tagName,n.props&&n.props.type)[i];o&&o(e,t,n,s)}function sV(){re.getSSRProps=({value:e})=>({value:e}),N_.getSSRProps=({value:e},t)=>{if(t.props&&hr(t.props.value,e))return{checked:!0}},Eh.getSSRProps=({value:e},t)=>{if(wt(e)){if(t.props&&mh(e,t.props.value)>-1)return{checked:!0}}else if(xo(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},K1.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const n=G1(t.type.toUpperCase(),t.props&&t.props.type);if(n.getSSRProps)return n.getSSRProps(e,t)}}const iV=["ctrl","shift","alt","meta"],rV={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>iV.some(n=>e[`${n}Key`]&&!t.includes(n))},rs=(e,t)=>{const n=e._withMods||(e._withMods={}),s=t.join(".");return n[s]||(n[s]=(i,...r)=>{for(let o=0;o<t.length;o++){const a=rV[t[o]];if(a&&a(i,t))return}return e(i,...r)})},oV={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},aV=(e,t)=>{const n=e._withKeys||(e._withKeys={}),s=t.join(".");return n[s]||(n[s]=i=>{if(!("key"in i))return;const r=Hn(i.key);if(t.some(o=>o===r||oV[o]===r))return e(i)})},X1=ce({patchProp:H2},A2);let mu,SS=!1;function Y1(){return mu||(mu=o1(X1))}function q1(){return mu=SS?mu:a1(X1),SS=!0,mu}const Q1=(...e)=>{Y1().render(...e)},lV=(...e)=>{q1().hydrate(...e)},Qd=(...e)=>{const t=Y1().createApp(...e),{mount:n}=t;return t.mount=s=>{const i=tx(s);if(!i)return;const r=t._component;!jt(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=n(i,!1,Z1(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t},J1=(...e)=>{const t=q1().createApp(...e),{mount:n}=t;return t.mount=s=>{const i=tx(s);if(i)return n(i,!0,Z1(i))},t};function Z1(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function tx(e){return Gt(e)?document.querySelector(e):e}let wS=!1;const cV=()=>{wS||(wS=!0,sV(),O2())},uV=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:VC,BaseTransitionPropsValidators:E_,Comment:sn,DeprecationTypes:T2,EffectScope:h_,ErrorCodes:kM,ErrorTypeStrings:g2,Fragment:ne,KeepAlive:oL,ReactiveEffect:Vu,Static:ha,Suspense:QL,Teleport:jM,Text:io,TrackOpTypes:CM,Transition:C2,TransitionGroup:Q2,TriggerOpTypes:xM,VueElement:ag,assertNumber:DM,callWithAsyncErrorHandling:Hs,callWithErrorHandling:rc,camelize:Le,capitalize:Po,cloneVNode:Di,compatUtils:E2,computed:Pe,createApp:Qd,createBlock:ts,createCommentVNode:Ee,createElementBlock:st,createElementVNode:N,createHydrationRenderer:a1,createPropsRestProxy:AL,createRenderer:o1,createSSRApp:J1,createSlots:hL,createStaticVNode:w1,createTextVNode:xe,createVNode:Bt,customRef:SC,defineAsyncComponent:iL,defineComponent:vh,defineCustomElement:B1,defineEmits:gL,defineExpose:mL,defineModel:_L,defineOptions:vL,defineProps:pL,defineSSRCustomElement:W2,defineSlots:yL,devtools:m2,effect:Yk,effectScope:Kk,getCurrentInstance:Es,getCurrentScope:rC,getCurrentWatcher:PM,getTransitionRawChildren:Zp,guardReactiveProps:S1,h:og,handleError:ka,hasInjectionContext:kL,hydrate:lV,hydrateOnIdle:JM,hydrateOnInteraction:nL,hydrateOnMediaQuery:eL,hydrateOnVisible:tL,initCustomFormatter:f2,initDirectivesForSSR:cV,inject:Fs,isMemoSame:O1,isProxy:Qp,isReactive:no,isReadonly:pr,isRef:fn,isRuntimeOnly:c2,isShallow:Rs,isVNode:mr,markRaw:EC,mergeDefaults:SL,mergeModels:wL,mergeProps:A1,nextTick:Ma,normalizeClass:Pn,normalizeProps:XI,normalizeStyle:Ni,onActivated:$C,onBeforeMount:jC,onBeforeUnmount:ng,onBeforeUpdate:S_,onDeactivated:UC,onErrorCaptured:KC,onMounted:On,onRenderTracked:WC,onRenderTriggered:zC,onScopeDispose:Gk,onServerPrefetch:HC,onUnmounted:sg,onUpdated:eg,onWatcherCleanup:AC,openBlock:Q,popScopeId:$M,provide:pu,proxyRefs:y_,pushScopeId:FM,queuePostFlushCb:Uu,reactive:Si,readonly:m_,ref:It,registerRuntimeCompiler:l2,render:Q1,renderList:tn,renderSlot:XC,resolveComponent:La,resolveDirective:uL,resolveDynamicComponent:cL,resolveFilter:b2,resolveTransitionHooks:xl,setBlockTracking:ty,setDevtoolsHook:v2,setTransitionHooks:gr,shallowReactive:g_,shallowReadonly:gM,shallowRef:v_,ssrContextKey:h1,ssrUtils:_2,stop:qk,toDisplayString:pt,toHandlerKey:aa,toHandlers:fL,toRaw:ve,toRef:wM,toRefs:EM,toValue:yM,transformVNodeArgs:s2,triggerRef:vM,unref:ai,useAttrs:TL,useCssModule:X2,useCssVars:N2,useHost:j1,useId:zM,useModel:zL,useSSRContext:f1,useShadowRoot:G2,useSlots:EL,useTemplateRef:WM,useTransitionState:b_,vModelCheckbox:Eh,vModelDynamic:K1,vModelRadio:N_,vModelSelect:lg,vModelText:re,vShow:$1,version:N1,warn:p2,watch:li,watchEffect:d1,watchPostEffect:jL,watchSyncEffect:p1,withAsyncContext:IL,withCtx:fs,withDefaults:bL,withDirectives:se,withKeys:aV,withMemo:d2,withModifiers:rs,withScopeId:UM},Symbol.toStringTag,{value:"Module"})),hV={class:"app bg-dark text-light min-vh-100"},fV={__name:"App",setup(e){return(t,n)=>{const s=La("router-view");return Q(),st("div",hV,[Bt(s)])}}};/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const il=typeof document<"u";function ex(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function dV(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&ex(e.default)}const Ae=Object.assign;function $m(e,t){const n={};for(const s in t){const i=t[s];n[s]=hi(i)?i.map(e):e(i)}return n}const vu=()=>{},hi=Array.isArray,nx=/#/g,pV=/&/g,gV=/\//g,mV=/=/g,vV=/\?/g,sx=/\+/g,yV=/%5B/g,_V=/%5D/g,ix=/%5E/g,bV=/%60/g,rx=/%7B/g,EV=/%7C/g,ox=/%7D/g,TV=/%20/g;function D_(e){return encodeURI(""+e).replace(EV,"|").replace(yV,"[").replace(_V,"]")}function SV(e){return D_(e).replace(rx,"{").replace(ox,"}").replace(ix,"^")}function cy(e){return D_(e).replace(sx,"%2B").replace(TV,"+").replace(nx,"%23").replace(pV,"%26").replace(bV,"`").replace(rx,"{").replace(ox,"}").replace(ix,"^")}function wV(e){return cy(e).replace(mV,"%3D")}function AV(e){return D_(e).replace(nx,"%23").replace(vV,"%3F")}function IV(e){return e==null?"":AV(e).replace(gV,"%2F")}function Wu(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const CV=/\/$/,xV=e=>e.replace(CV,"");function Um(e,t,n="/"){let s,i={},r="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(s=t.slice(0,l),r=t.slice(l+1,a>-1?a:t.length),i=e(r)),a>-1&&(s=s||t.slice(0,a),o=t.slice(a,t.length)),s=NV(s??t,n),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:Wu(o)}}function PV(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function AS(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function RV(e,t,n){const s=t.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&Nl(t.matched[s],n.matched[i])&&ax(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Nl(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function ax(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!OV(e[n],t[n]))return!1;return!0}function OV(e,t){return hi(e)?IS(e,t):hi(t)?IS(t,e):e===t}function IS(e,t){return hi(t)?e.length===t.length&&e.every((n,s)=>n===t[s]):e.length===1&&e[0]===t}function NV(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),s=e.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=n.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(o).join("/")}const kr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Ku;(function(e){e.pop="pop",e.push="push"})(Ku||(Ku={}));var yu;(function(e){e.back="back",e.forward="forward",e.unknown=""})(yu||(yu={}));function DV(e){if(!e)if(il){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),xV(e)}const kV=/^[^#]+#/;function MV(e,t){return e.replace(kV,"#")+t}function LV(e,t){const n=document.documentElement.getBoundingClientRect(),s=e.getBoundingClientRect();return{behavior:t.behavior,left:s.left-n.left-(t.left||0),top:s.top-n.top-(t.top||0)}}const cg=()=>({left:window.scrollX,top:window.scrollY});function VV(e){let t;if("el"in e){const n=e.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=LV(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function CS(e,t){return(history.state?history.state.position-t:-1)+e}const uy=new Map;function FV(e,t){uy.set(e,t)}function $V(e){const t=uy.get(e);return uy.delete(e),t}let UV=()=>location.protocol+"//"+location.host;function lx(e,t){const{pathname:n,search:s,hash:i}=t,r=e.indexOf("#");if(r>-1){let a=i.includes(e.slice(r))?e.slice(r).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),AS(l,"")}return AS(n,e)+s+i}function BV(e,t,n,s){let i=[],r=[],o=null;const a=({state:d})=>{const p=lx(e,location),g=n.value,m=t.value;let y=0;if(d){if(n.value=p,t.value=d,o&&o===g){o=null;return}y=m?d.position-m.position:0}else s(p);i.forEach(E=>{E(n.value,g,{delta:y,type:Ku.pop,direction:y?y>0?yu.forward:yu.back:yu.unknown})})};function l(){o=n.value}function c(d){i.push(d);const p=()=>{const g=i.indexOf(d);g>-1&&i.splice(g,1)};return r.push(p),p}function u(){const{history:d}=window;d.state&&d.replaceState(Ae({},d.state,{scroll:cg()}),"")}function h(){for(const d of r)d();r=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function xS(e,t,n,s=!1,i=!1){return{back:e,current:t,forward:n,replaced:s,position:window.history.length,scroll:i?cg():null}}function jV(e){const{history:t,location:n}=window,s={value:lx(e,n)},i={value:t.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function r(l,c,u){const h=e.indexOf("#"),d=h>-1?(n.host&&document.querySelector("base")?e:e.slice(h))+l:UV()+e+l;try{t[u?"replaceState":"pushState"](c,"",d),i.value=c}catch(p){console.error(p),n[u?"replace":"assign"](d)}}function o(l,c){const u=Ae({},t.state,xS(i.value.back,l,i.value.forward,!0),c,{position:i.value.position});r(l,u,!0),s.value=l}function a(l,c){const u=Ae({},i.value,t.state,{forward:l,scroll:cg()});r(u.current,u,!0);const h=Ae({},xS(s.value,l,null),{position:u.position+1},c);r(l,h,!1),s.value=l}return{location:s,state:i,push:a,replace:o}}function HV(e){e=DV(e);const t=jV(e),n=BV(e,t.state,t.location,t.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=Ae({location:"",base:e,go:s,createHref:MV.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function zV(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),HV(e)}function WV(e){return typeof e=="string"||e&&typeof e=="object"}function cx(e){return typeof e=="string"||typeof e=="symbol"}const ux=Symbol("");var PS;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(PS||(PS={}));function Dl(e,t){return Ae(new Error,{type:e,[ux]:!0},t)}function Hi(e,t){return e instanceof Error&&ux in e&&(t==null||!!(e.type&t))}const RS="[^/]+?",KV={sensitive:!1,strict:!1,start:!0,end:!0},GV=/[.+*?^${}()[\]/\\]/g;function XV(e,t){const n=Ae({},KV,t),s=[];let i=n.start?"^":"";const r=[];for(const c of e){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let h=0;h<c.length;h++){const d=c[h];let p=40+(n.sensitive?.25:0);if(d.type===0)h||(i+="/"),i+=d.value.replace(GV,"\\$&"),p+=40;else if(d.type===1){const{value:g,repeatable:m,optional:y,regexp:E}=d;r.push({name:g,repeatable:m,optional:y});const A=E||RS;if(A!==RS){p+=10;try{new RegExp(`(${A})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${g}" (${A}): `+C.message)}}let w=m?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;h||(w=y&&c.length<2?`(?:/${w})`:"/"+w),y&&(w+="?"),i+=w,p+=20,y&&(p+=-8),m&&(p+=-20),A===".*"&&(p+=-50)}u.push(p)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let d=1;d<u.length;d++){const p=u[d]||"",g=r[d-1];h[g.name]=p&&g.repeatable?p.split("/"):p}return h}function l(c){let u="",h=!1;for(const d of e){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const p of d)if(p.type===0)u+=p.value;else if(p.type===1){const{value:g,repeatable:m,optional:y}=p,E=g in c?c[g]:"";if(hi(E)&&!m)throw new Error(`Provided param "${g}" is an array but it is not repeatable (* or + modifiers)`);const A=hi(E)?E.join("/"):E;if(!A)if(y)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${g}"`);u+=A}}return u||"/"}return{re:o,score:s,keys:r,parse:a,stringify:l}}function YV(e,t){let n=0;for(;n<e.length&&n<t.length;){const s=t[n]-e[n];if(s)return s;n++}return e.length<t.length?e.length===1&&e[0]===80?-1:1:e.length>t.length?t.length===1&&t[0]===80?1:-1:0}function hx(e,t){let n=0;const s=e.score,i=t.score;for(;n<s.length&&n<i.length;){const r=YV(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(OS(s))return 1;if(OS(i))return-1}return i.length-s.length}function OS(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const qV={type:0,value:""},QV=/[a-zA-Z0-9_]/;function JV(e){if(!e)return[[]];if(e==="/")return[[qV]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${n})/"${c}": ${p}`)}let n=0,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let a=0,l,c="",u="";function h(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),n=1):d();break;case 4:d(),n=s;break;case 1:l==="("?n=2:QV.test(l)?d():(h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:n=3:u+=l;break;case 3:h(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${c}"`),h(),o(),i}function ZV(e,t,n){const s=XV(JV(e.path),n),i=Ae(s,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function tF(e,t){const n=[],s=new Map;t=MS({strict:!1,end:!0,sensitive:!1},t);function i(h){return s.get(h)}function r(h,d,p){const g=!p,m=DS(h);m.aliasOf=p&&p.record;const y=MS(t,h),E=[m];if("alias"in h){const C=typeof h.alias=="string"?[h.alias]:h.alias;for(const O of C)E.push(DS(Ae({},m,{components:p?p.record.components:m.components,path:O,aliasOf:p?p.record:m})))}let A,w;for(const C of E){const{path:O}=C;if(d&&O[0]!=="/"){const D=d.record.path,x=D[D.length-1]==="/"?"":"/";C.path=d.record.path+(O&&x+O)}if(A=ZV(C,d,y),p?p.alias.push(A):(w=w||A,w!==A&&w.alias.push(A),g&&h.name&&!kS(A)&&o(h.name)),fx(A)&&l(A),m.children){const D=m.children;for(let x=0;x<D.length;x++)r(D[x],A,p&&p.children[x])}p=p||A}return w?()=>{o(w)}:vu}function o(h){if(cx(h)){const d=s.get(h);d&&(s.delete(h),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(h);d>-1&&(n.splice(d,1),h.record.name&&s.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return n}function l(h){const d=sF(h,n);n.splice(d,0,h),h.record.name&&!kS(h)&&s.set(h.record.name,h)}function c(h,d){let p,g={},m,y;if("name"in h&&h.name){if(p=s.get(h.name),!p)throw Dl(1,{location:h});y=p.record.name,g=Ae(NS(d.params,p.keys.filter(w=>!w.optional).concat(p.parent?p.parent.keys.filter(w=>w.optional):[]).map(w=>w.name)),h.params&&NS(h.params,p.keys.map(w=>w.name))),m=p.stringify(g)}else if(h.path!=null)m=h.path,p=n.find(w=>w.re.test(m)),p&&(g=p.parse(m),y=p.record.name);else{if(p=d.name?s.get(d.name):n.find(w=>w.re.test(d.path)),!p)throw Dl(1,{location:h,currentLocation:d});y=p.record.name,g=Ae({},d.params,h.params),m=p.stringify(g)}const E=[];let A=p;for(;A;)E.unshift(A.record),A=A.parent;return{name:y,path:m,params:g,matched:E,meta:nF(E)}}e.forEach(h=>r(h));function u(){n.length=0,s.clear()}return{addRoute:r,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function NS(e,t){const n={};for(const s of t)s in e&&(n[s]=e[s]);return n}function DS(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:eF(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function eF(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const s in e.components)t[s]=typeof n=="object"?n[s]:n;return t}function kS(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function nF(e){return e.reduce((t,n)=>Ae(t,n.meta),{})}function MS(e,t){const n={};for(const s in e)n[s]=s in t?t[s]:e[s];return n}function sF(e,t){let n=0,s=t.length;for(;n!==s;){const r=n+s>>1;hx(e,t[r])<0?s=r:n=r+1}const i=iF(e);return i&&(s=t.lastIndexOf(i,s-1)),s}function iF(e){let t=e;for(;t=t.parent;)if(fx(t)&&hx(e,t)===0)return t}function fx({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function rF(e){const t={};if(e===""||e==="?")return t;const s=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(sx," "),o=r.indexOf("="),a=Wu(o<0?r:r.slice(0,o)),l=o<0?null:Wu(r.slice(o+1));if(a in t){let c=t[a];hi(c)||(c=t[a]=[c]),c.push(l)}else t[a]=l}return t}function LS(e){let t="";for(let n in e){const s=e[n];if(n=wV(n),s==null){s!==void 0&&(t+=(t.length?"&":"")+n);continue}(hi(s)?s.map(r=>r&&cy(r)):[s&&cy(s)]).forEach(r=>{r!==void 0&&(t+=(t.length?"&":"")+n,r!=null&&(t+="="+r))})}return t}function oF(e){const t={};for(const n in e){const s=e[n];s!==void 0&&(t[n]=hi(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return t}const aF=Symbol(""),VS=Symbol(""),ug=Symbol(""),k_=Symbol(""),hy=Symbol("");function Vc(){let e=[];function t(s){return e.push(s),()=>{const i=e.indexOf(s);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Hr(e,t,n,s,i,r=o=>o()){const o=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(Dl(4,{from:n,to:t})):d instanceof Error?l(d):WV(d)?l(Dl(2,{from:t,to:d})):(o&&s.enterCallbacks[i]===o&&typeof d=="function"&&o.push(d),a())},u=r(()=>e.call(s&&s.instances[i],t,n,c));let h=Promise.resolve(u);e.length<3&&(h=h.then(c)),h.catch(d=>l(d))})}function Bm(e,t,n,s,i=r=>r()){const r=[];for(const o of e)for(const a in o.components){let l=o.components[a];if(!(t!=="beforeRouteEnter"&&!o.instances[a]))if(ex(l)){const u=(l.__vccOpts||l)[t];u&&r.push(Hr(u,n,s,o,a,i))}else{let c=l();r.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=dV(u)?u.default:u;o.mods[a]=u,o.components[a]=h;const p=(h.__vccOpts||h)[t];return p&&Hr(p,n,s,o,a,i)()}))}}return r}function FS(e){const t=Fs(ug),n=Fs(k_),s=Pe(()=>{const l=ai(e.to);return t.resolve(l)}),i=Pe(()=>{const{matched:l}=s.value,{length:c}=l,u=l[c-1],h=n.matched;if(!u||!h.length)return-1;const d=h.findIndex(Nl.bind(null,u));if(d>-1)return d;const p=$S(l[c-2]);return c>1&&$S(u)===p&&h[h.length-1].path!==p?h.findIndex(Nl.bind(null,l[c-2])):d}),r=Pe(()=>i.value>-1&&fF(n.params,s.value.params)),o=Pe(()=>i.value>-1&&i.value===n.matched.length-1&&ax(n.params,s.value.params));function a(l={}){if(hF(l)){const c=t[ai(e.replace)?"replace":"push"](ai(e.to)).catch(vu);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:s,href:Pe(()=>s.value.href),isActive:r,isExactActive:o,navigate:a}}function lF(e){return e.length===1?e[0]:e}const cF=vh({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:FS,setup(e,{slots:t}){const n=Si(FS(e)),{options:s}=Fs(ug),i=Pe(()=>({[US(e.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[US(e.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=t.default&&lF(t.default(n));return e.custom?r:og("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),uF=cF;function hF(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function fF(e,t){for(const n in t){const s=t[n],i=e[n];if(typeof s=="string"){if(s!==i)return!1}else if(!hi(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function $S(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const US=(e,t,n)=>e??t??n,dF=vh({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const s=Fs(hy),i=Pe(()=>e.route||s.value),r=Fs(VS,0),o=Pe(()=>{let c=ai(r);const{matched:u}=i.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=Pe(()=>i.value.matched[o.value]);pu(VS,Pe(()=>o.value+1)),pu(aF,a),pu(hy,i);const l=It();return li(()=>[l.value,a.value,e.name],([c,u,h],[d,p,g])=>{u&&(u.instances[h]=c,p&&p!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),c&&u&&(!p||!Nl(u,p)||!d)&&(u.enterCallbacks[h]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=i.value,u=e.name,h=a.value,d=h&&h.components[u];if(!d)return BS(n.default,{Component:d,route:c});const p=h.props[u],g=p?p===!0?c.params:typeof p=="function"?p(c):p:null,y=og(d,Ae({},g,t,{onVnodeUnmounted:E=>{E.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return BS(n.default,{Component:y,route:c})||y}}});function BS(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const pF=dF;function gF(e){const t=tF(e.routes,e),n=e.parseQuery||rF,s=e.stringifyQuery||LS,i=e.history,r=Vc(),o=Vc(),a=Vc(),l=v_(kr);let c=kr;il&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=$m.bind(null,F=>""+F),h=$m.bind(null,IV),d=$m.bind(null,Wu);function p(F,J){let et,dt;return cx(F)?(et=t.getRecordMatcher(F),dt=J):dt=F,t.addRoute(dt,et)}function g(F){const J=t.getRecordMatcher(F);J&&t.removeRoute(J)}function m(){return t.getRoutes().map(F=>F.record)}function y(F){return!!t.getRecordMatcher(F)}function E(F,J){if(J=Ae({},J||l.value),typeof F=="string"){const L=Um(n,F,J.path),j=t.resolve({path:L.path},J),Z=i.createHref(L.fullPath);return Ae(L,j,{params:d(j.params),hash:Wu(L.hash),redirectedFrom:void 0,href:Z})}let et;if(F.path!=null)et=Ae({},F,{path:Um(n,F.path,J.path).path});else{const L=Ae({},F.params);for(const j in L)L[j]==null&&delete L[j];et=Ae({},F,{params:h(L)}),J.params=h(J.params)}const dt=t.resolve(et,J),At=F.hash||"";dt.params=u(d(dt.params));const Dt=PV(s,Ae({},F,{hash:SV(At),path:dt.path})),M=i.createHref(Dt);return Ae({fullPath:Dt,hash:At,query:s===LS?oF(F.query):F.query||{}},dt,{redirectedFrom:void 0,href:M})}function A(F){return typeof F=="string"?Um(n,F,l.value.path):Ae({},F)}function w(F,J){if(c!==F)return Dl(8,{from:J,to:F})}function C(F){return x(F)}function O(F){return C(Ae(A(F),{replace:!0}))}function D(F){const J=F.matched[F.matched.length-1];if(J&&J.redirect){const{redirect:et}=J;let dt=typeof et=="function"?et(F):et;return typeof dt=="string"&&(dt=dt.includes("?")||dt.includes("#")?dt=A(dt):{path:dt},dt.params={}),Ae({query:F.query,hash:F.hash,params:dt.path!=null?{}:F.params},dt)}}function x(F,J){const et=c=E(F),dt=l.value,At=F.state,Dt=F.force,M=F.replace===!0,L=D(et);if(L)return x(Ae(A(L),{state:typeof L=="object"?Ae({},At,L.state):At,force:Dt,replace:M}),J||et);const j=et;j.redirectedFrom=J;let Z;return!Dt&&RV(s,dt,et)&&(Z=Dl(16,{to:j,from:dt}),V(dt,dt,!0,!1)),(Z?Promise.resolve(Z):S(j,dt)).catch(X=>Hi(X)?Hi(X,2)?X:U(X):tt(X,j,dt)).then(X=>{if(X){if(Hi(X,2))return x(Ae({replace:M},A(X.to),{state:typeof X.to=="object"?Ae({},At,X.to.state):At,force:Dt}),J||j)}else X=R(j,dt,!0,M,At);return P(j,dt,X),X})}function T(F,J){const et=w(F,J);return et?Promise.reject(et):Promise.resolve()}function _(F){const J=_t.values().next().value;return J&&typeof J.runWithContext=="function"?J.runWithContext(F):F()}function S(F,J){let et;const[dt,At,Dt]=mF(F,J);et=Bm(dt.reverse(),"beforeRouteLeave",F,J);for(const L of dt)L.leaveGuards.forEach(j=>{et.push(Hr(j,F,J))});const M=T.bind(null,F,J);return et.push(M),gt(et).then(()=>{et=[];for(const L of r.list())et.push(Hr(L,F,J));return et.push(M),gt(et)}).then(()=>{et=Bm(At,"beforeRouteUpdate",F,J);for(const L of At)L.updateGuards.forEach(j=>{et.push(Hr(j,F,J))});return et.push(M),gt(et)}).then(()=>{et=[];for(const L of Dt)if(L.beforeEnter)if(hi(L.beforeEnter))for(const j of L.beforeEnter)et.push(Hr(j,F,J));else et.push(Hr(L.beforeEnter,F,J));return et.push(M),gt(et)}).then(()=>(F.matched.forEach(L=>L.enterCallbacks={}),et=Bm(Dt,"beforeRouteEnter",F,J,_),et.push(M),gt(et))).then(()=>{et=[];for(const L of o.list())et.push(Hr(L,F,J));return et.push(M),gt(et)}).catch(L=>Hi(L,8)?L:Promise.reject(L))}function P(F,J,et){a.list().forEach(dt=>_(()=>dt(F,J,et)))}function R(F,J,et,dt,At){const Dt=w(F,J);if(Dt)return Dt;const M=J===kr,L=il?history.state:{};et&&(dt||M?i.replace(F.fullPath,Ae({scroll:M&&L&&L.scroll},At)):i.push(F.fullPath,At)),l.value=F,V(F,J,et,M),U()}let I;function z(){I||(I=i.listen((F,J,et)=>{if(!yt.listening)return;const dt=E(F),At=D(dt);if(At){x(Ae(At,{replace:!0,force:!0}),dt).catch(vu);return}c=dt;const Dt=l.value;il&&FV(CS(Dt.fullPath,et.delta),cg()),S(dt,Dt).catch(M=>Hi(M,12)?M:Hi(M,2)?(x(Ae(A(M.to),{force:!0}),dt).then(L=>{Hi(L,20)&&!et.delta&&et.type===Ku.pop&&i.go(-1,!1)}).catch(vu),Promise.reject()):(et.delta&&i.go(-et.delta,!1),tt(M,dt,Dt))).then(M=>{M=M||R(dt,Dt,!1),M&&(et.delta&&!Hi(M,8)?i.go(-et.delta,!1):et.type===Ku.pop&&Hi(M,20)&&i.go(-1,!1)),P(dt,Dt,M)}).catch(vu)}))}let Y=Vc(),B=Vc(),K;function tt(F,J,et){U(F);const dt=B.list();return dt.length?dt.forEach(At=>At(F,J,et)):console.error(F),Promise.reject(F)}function Pt(){return K&&l.value!==kr?Promise.resolve():new Promise((F,J)=>{Y.add([F,J])})}function U(F){return K||(K=!F,z(),Y.list().forEach(([J,et])=>F?et(F):J()),Y.reset()),F}function V(F,J,et,dt){const{scrollBehavior:At}=e;if(!il||!At)return Promise.resolve();const Dt=!et&&$V(CS(F.fullPath,0))||(dt||!et)&&history.state&&history.state.scroll||null;return Ma().then(()=>At(F,J,Dt)).then(M=>M&&VV(M)).catch(M=>tt(M,F,J))}const at=F=>i.go(F);let ut;const _t=new Set,yt={currentRoute:l,listening:!0,addRoute:p,removeRoute:g,clearRoutes:t.clearRoutes,hasRoute:y,getRoutes:m,resolve:E,options:e,push:C,replace:O,go:at,back:()=>at(-1),forward:()=>at(1),beforeEach:r.add,beforeResolve:o.add,afterEach:a.add,onError:B.add,isReady:Pt,install(F){const J=this;F.component("RouterLink",uF),F.component("RouterView",pF),F.config.globalProperties.$router=J,Object.defineProperty(F.config.globalProperties,"$route",{enumerable:!0,get:()=>ai(l)}),il&&!ut&&l.value===kr&&(ut=!0,C(i.location).catch(At=>{}));const et={};for(const At in kr)Object.defineProperty(et,At,{get:()=>l.value[At],enumerable:!0});F.provide(ug,J),F.provide(k_,g_(et)),F.provide(hy,l);const dt=F.unmount;_t.add(F),F.unmount=function(){_t.delete(F),_t.size<1&&(c=kr,I&&I(),I=null,l.value=kr,ut=!1,K=!1),dt()}}};function gt(F){return F.reduce((J,et)=>J.then(()=>_(et)),Promise.resolve())}return yt}function mF(e,t){const n=[],s=[],i=[],r=Math.max(t.matched.length,e.matched.length);for(let o=0;o<r;o++){const a=t.matched[o];a&&(e.matched.find(c=>Nl(c,a))?s.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(c=>Nl(c,l))||i.push(l))}return[n,s,i]}function M_(){return Fs(ug)}function dx(e){return Fs(k_)}const vF=()=>{};var jS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let i=e.charCodeAt(s);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},yF=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const i=e[n++];if(i<128)t[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=e[n++];t[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(r&63)<<12|(o&63)<<6|a&63)-65536;t[s++]=String.fromCharCode(55296+(l>>10)),t[s++]=String.fromCharCode(56320+(l&1023))}else{const r=e[n++],o=e[n++];t[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return t.join("")},gx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<e.length;i+=3){const r=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,c=l?e[i+2]:0,u=r>>2,h=(r&3)<<4|a>>4;let d=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(d=64)),s.push(n[u],n[h],n[d],n[p])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(px(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):yF(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<e.length;){const r=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const c=i<e.length?n[e.charAt(i)]:64;++i;const h=i<e.length?n[e.charAt(i)]:64;if(++i,r==null||a==null||c==null||h==null)throw new _F;const d=r<<2|a>>4;if(s.push(d),c!==64){const p=a<<4&240|c>>2;if(s.push(p),h!==64){const g=c<<6&192|h;s.push(g)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class _F extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bF=function(e){const t=px(e);return gx.encodeByteArray(t,!0)},Jd=function(e){return bF(e).replace(/\./g,"")},mx=function(e){try{return gx.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF=()=>EF().__FIREBASE_DEFAULTS__,SF=()=>{if(typeof process>"u"||typeof jS>"u")return;const e=jS.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},wF=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&mx(e[1]);return t&&JSON.parse(t)},hg=()=>{try{return vF()||TF()||SF()||wF()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},vx=e=>hg()?.emulatorHosts?.[e],AF=e=>{const t=vx(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},yx=()=>hg()?.config,_x=e=>hg()?.[`_${e}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bx(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",i=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Jd(JSON.stringify(n)),Jd(JSON.stringify(o)),""].join(".")}const _u={};function xF(){const e={prod:[],emulator:[]};for(const t of Object.keys(_u))_u[t]?e.emulator.push(t):e.prod.push(t);return e}function PF(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}let HS=!1;function Ex(e,t){if(typeof window>"u"||typeof document>"u"||!oc(window.location.host)||_u[e]===t||_u[e]||HS)return;_u[e]=t;function n(d){return`__firebase__banner__${d}`}const s="__firebase__banner",r=xF().prod.length>0;function o(){const d=document.getElementById(s);d&&d.remove()}function a(d){d.style.display="flex",d.style.background="#7faaf0",d.style.position="fixed",d.style.bottom="5px",d.style.left="5px",d.style.padding=".5em",d.style.borderRadius="5px",d.style.alignItems="center"}function l(d,p){d.setAttribute("width","24"),d.setAttribute("id",p),d.setAttribute("height","24"),d.setAttribute("viewBox","0 0 24 24"),d.setAttribute("fill","none"),d.style.marginLeft="-6px"}function c(){const d=document.createElement("span");return d.style.cursor="pointer",d.style.marginLeft="16px",d.style.fontSize="24px",d.innerHTML=" &times;",d.onclick=()=>{HS=!0,o()},d}function u(d,p){d.setAttribute("id",p),d.innerText="Learn more",d.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",d.setAttribute("target","__blank"),d.style.paddingLeft="5px",d.style.textDecoration="underline"}function h(){const d=PF(s),p=n("text"),g=document.getElementById(p)||document.createElement("span"),m=n("learnmore"),y=document.getElementById(m)||document.createElement("a"),E=n("preprendIcon"),A=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(d.created){const w=d.element;a(w),u(y,m);const C=c();l(A,E),w.append(A,g,y,C),document.body.appendChild(w)}r?(g.innerText="Preview backend disconnected.",A.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(A.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xn())}function OF(){const e=hg()?.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DF(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function kF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MF(){const e=Xn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function LF(){return!OF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VF(){try{return typeof indexedDB=="object"}catch{return!1}}function FF(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F="FirebaseError";class Ir extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=$F,Object.setPrototypeOf(this,Ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Th.prototype.create)}}class Th{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},i=`${this.service}/${t}`,r=this.errors[t],o=r?UF(r,s):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ir(i,a,s)}}function UF(e,t){return e.replace(BF,(n,s)=>{const i=t[s];return i!=null?String(i):`<${s}?>`})}const BF=/\{\$([^}]+)}/g;function jF(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function vr(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const i of n){if(!s.includes(i))return!1;const r=e[i],o=t[i];if(zS(r)&&zS(o)){if(!vr(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function zS(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(e){const t=[];for(const[n,s]of Object.entries(e))Array.isArray(s)?s.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Qc(e){const t={};return e.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,r]=s.split("=");t[decodeURIComponent(i)]=decodeURIComponent(r)}}),t}function Jc(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function HF(e,t){const n=new zF(e,t);return n.subscribe.bind(n)}class zF{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let i;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");WF(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:s},i.next===void 0&&(i.next=jm),i.error===void 0&&(i.error=jm),i.complete===void 0&&(i.complete=jm);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WF(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function jm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(e){return e&&e._delegate?e._delegate:e}class Ea{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new IF;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(XF(t))try{this.getOrInitializeService({instanceIdentifier:Yo})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(t=Yo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Yo){return this.instances.has(t)}getOptions(t=Yo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);s===a&&o.resolve(i)}return i}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(s)??new Set;i.add(t),this.onInitCallbacks.set(s,i);const r=this.instances.get(s);return r&&t(r,s),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:GF(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Yo){return this.component?this.component.multipleInstances?t:Yo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GF(e){return e===Yo?void 0:e}function XF(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new KF(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fe;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(fe||(fe={}));const qF={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},QF=fe.INFO,JF={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},ZF=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),i=JF[t];if(i)console[i](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class L_{constructor(t){this.name=t,this._logLevel=QF,this._logHandler=ZF,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in fe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?qF[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...t),this._logHandler(this,fe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...t),this._logHandler(this,fe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...t),this._logHandler(this,fe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...t),this._logHandler(this,fe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...t),this._logHandler(this,fe.ERROR,...t)}}const t$=(e,t)=>t.some(n=>e instanceof n);let WS,KS;function e$(){return WS||(WS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n$(){return KS||(KS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Tx=new WeakMap,fy=new WeakMap,Sx=new WeakMap,Hm=new WeakMap,V_=new WeakMap;function s$(e){const t=new Promise((n,s)=>{const i=()=>{e.removeEventListener("success",r),e.removeEventListener("error",o)},r=()=>{n(ro(e.result)),i()},o=()=>{s(e.error),i()};e.addEventListener("success",r),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Tx.set(n,e)}).catch(()=>{}),V_.set(t,e),t}function i$(e){if(fy.has(e))return;const t=new Promise((n,s)=>{const i=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",o),e.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",r),e.addEventListener("error",o),e.addEventListener("abort",o)});fy.set(e,t)}let dy={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return fy.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Sx.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ro(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function r$(e){dy=e(dy)}function o$(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(zm(this),t,...n);return Sx.set(s,t.sort?t.sort():[t]),ro(s)}:n$().includes(e)?function(...t){return e.apply(zm(this),t),ro(Tx.get(this))}:function(...t){return ro(e.apply(zm(this),t))}}function a$(e){return typeof e=="function"?o$(e):(e instanceof IDBTransaction&&i$(e),t$(e,e$())?new Proxy(e,dy):e)}function ro(e){if(e instanceof IDBRequest)return s$(e);if(Hm.has(e))return Hm.get(e);const t=a$(e);return t!==e&&(Hm.set(e,t),V_.set(t,e)),t}const zm=e=>V_.get(e);function l$(e,t,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(e,t),a=ro(o);return s&&o.addEventListener("upgradeneeded",l=>{s(ro(o.result),l.oldVersion,l.newVersion,ro(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{r&&l.addEventListener("close",()=>r()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const c$=["get","getKey","getAll","getAllKeys","count"],u$=["put","add","delete","clear"],Wm=new Map;function GS(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Wm.get(t))return Wm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,i=u$.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||c$.includes(n)))return;const r=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return s&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Wm.set(t,r),r}r$(e=>({...e,get:(t,n,s)=>GS(t,n)||e.get(t,n,s),has:(t,n)=>!!GS(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(f$(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function f$(e){return e.getComponent()?.type==="VERSION"}const py="@firebase/app",XS="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=new L_("@firebase/app"),d$="@firebase/app-compat",p$="@firebase/analytics-compat",g$="@firebase/analytics",m$="@firebase/app-check-compat",v$="@firebase/app-check",y$="@firebase/auth",_$="@firebase/auth-compat",b$="@firebase/database",E$="@firebase/data-connect",T$="@firebase/database-compat",S$="@firebase/functions",w$="@firebase/functions-compat",A$="@firebase/installations",I$="@firebase/installations-compat",C$="@firebase/messaging",x$="@firebase/messaging-compat",P$="@firebase/performance",R$="@firebase/performance-compat",O$="@firebase/remote-config",N$="@firebase/remote-config-compat",D$="@firebase/storage",k$="@firebase/storage-compat",M$="@firebase/firestore",L$="@firebase/ai",V$="@firebase/firestore-compat",F$="firebase",$$="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy="[DEFAULT]",U$={[py]:"fire-core",[d$]:"fire-core-compat",[g$]:"fire-analytics",[p$]:"fire-analytics-compat",[v$]:"fire-app-check",[m$]:"fire-app-check-compat",[y$]:"fire-auth",[_$]:"fire-auth-compat",[b$]:"fire-rtdb",[E$]:"fire-data-connect",[T$]:"fire-rtdb-compat",[S$]:"fire-fn",[w$]:"fire-fn-compat",[A$]:"fire-iid",[I$]:"fire-iid-compat",[C$]:"fire-fcm",[x$]:"fire-fcm-compat",[P$]:"fire-perf",[R$]:"fire-perf-compat",[O$]:"fire-rc",[N$]:"fire-rc-compat",[D$]:"fire-gcs",[k$]:"fire-gcs-compat",[M$]:"fire-fst",[V$]:"fire-fst-compat",[L$]:"fire-vertex","fire-js":"fire-js",[F$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zd=new Map,B$=new Map,my=new Map;function YS(e,t){try{e.container.addComponent(t)}catch(n){yr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function kl(e){const t=e.name;if(my.has(t))return yr.debug(`There were multiple attempts to register component ${t}.`),!1;my.set(t,e);for(const n of Zd.values())YS(n,e);for(const n of B$.values())YS(n,e);return!0}function F_(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Cs(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oo=new Th("app","Firebase",j$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw oo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=$$;function wx(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s={name:gy,automaticDataCollectionEnabled:!0,...t},i=s.name;if(typeof i!="string"||!i)throw oo.create("bad-app-name",{appName:String(i)});if(n||(n=yx()),!n)throw oo.create("no-options");const r=Zd.get(i);if(r){if(vr(n,r.options)&&vr(s,r.config))return r;throw oo.create("duplicate-app",{appName:i})}const o=new YF(i);for(const l of my.values())o.addComponent(l);const a=new H$(n,s,o);return Zd.set(i,a),a}function Ax(e=gy){const t=Zd.get(e);if(!t&&e===gy&&yx())return wx();if(!t)throw oo.create("no-app",{appName:e});return t}function ao(e,t,n){let s=U$[e]??e;n&&(s+=`-${n}`);const i=s.match(/\s|\//),r=t.match(/\s|\//);if(i||r){const o=[`Unable to register library "${s}" with version "${t}":`];i&&o.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&r&&o.push("and"),r&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),yr.warn(o.join(" "));return}kl(new Ea(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$="firebase-heartbeat-database",W$=1,Gu="firebase-heartbeat-store";let Km=null;function Ix(){return Km||(Km=l$(z$,W$,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Gu)}catch(n){console.warn(n)}}}}).catch(e=>{throw oo.create("idb-open",{originalErrorMessage:e.message})})),Km}async function K$(e){try{const n=(await Ix()).transaction(Gu),s=await n.objectStore(Gu).get(Cx(e));return await n.done,s}catch(t){if(t instanceof Ir)yr.warn(t.message);else{const n=oo.create("idb-get",{originalErrorMessage:t?.message});yr.warn(n.message)}}}async function qS(e,t){try{const s=(await Ix()).transaction(Gu,"readwrite");await s.objectStore(Gu).put(t,Cx(e)),await s.done}catch(n){if(n instanceof Ir)yr.warn(n.message);else{const s=oo.create("idb-set",{originalErrorMessage:n?.message});yr.warn(s.message)}}}function Cx(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G$=1024,X$=30;class Y${constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Q$(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=QS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>X$){const i=J$(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){yr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=QS(),{heartbeatsToSend:n,unsentEntries:s}=q$(this._heartbeatsCache.heartbeats),i=Jd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return yr.warn(t),""}}}function QS(){return new Date().toISOString().substring(0,10)}function q$(e,t=G$){const n=[];let s=e.slice();for(const i of e){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),JS(n)>t){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),JS(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Q${constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VF()?FF().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await K$(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return qS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return qS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function JS(e){return Jd(JSON.stringify({version:2,heartbeats:e})).length}function J$(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let s=1;s<e.length;s++)e[s].date<n&&(n=e[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z$(e){kl(new Ea("platform-logger",t=>new h$(t),"PRIVATE")),kl(new Ea("heartbeat",t=>new Y$(t),"PRIVATE")),ao(py,XS,e),ao(py,XS,"esm2020"),ao("fire-js","")}Z$("");function xx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const t4=xx,Px=new Th("auth","Firebase",xx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp=new L_("@firebase/auth");function e4(e,...t){tp.logLevel<=fe.WARN&&tp.warn(`Auth (${ac}): ${e}`,...t)}function ad(e,...t){tp.logLevel<=fe.ERROR&&tp.error(`Auth (${ac}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(e,...t){throw U_(e,...t)}function ci(e,...t){return U_(e,...t)}function $_(e,t,n){const s={...t4(),[t]:n};return new Th("auth","Firebase",s).create(t,{appName:e.name})}function ir(e){return $_(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function n4(e,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&zs(e,"argument-error"),$_(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function U_(e,...t){if(typeof e!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(n,...s)}return Px.create(e,...t)}function zt(e,t,...n){if(!e)throw U_(t,...n)}function er(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ad(t),new Error(t)}function _r(e,t){e||er(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(){return typeof self<"u"&&self.location?.href||""}function s4(){return ZS()==="http:"||ZS()==="https:"}function ZS(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(s4()||DF()||"connection"in navigator)?navigator.onLine:!0}function r4(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(t,n){this.shortDelay=t,this.longDelay=n,_r(n>t,"Short delay should be less than long delay!"),this.isMobile=RF()||kF()}get(){return i4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(e,t){_r(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],l4=new wh(3e4,6e4);function Ro(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Oo(e,t,n,s,i={}){return Ox(e,i,async()=>{let r={},o={};s&&(t==="GET"?o=s:r={body:JSON.stringify(s)});const a=Sh({key:e.config.apiKey,...o}).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c={method:t,headers:l,...r};return NF()||(c.referrerPolicy="no-referrer"),e.emulatorConfig&&oc(e.emulatorConfig.host)&&(c.credentials="include"),Rx.fetch()(await Nx(e,e.config.apiHost,n,a),c)})}async function Ox(e,t,n){e._canInitEmulator=!1;const s={...o4,...t};try{const i=new u4(e),r=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw Ef(e,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const a=r.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ef(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Ef(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw Ef(e,"user-disabled",o);const u=s[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw $_(e,u,c);zs(e,u)}}catch(i){if(i instanceof Ir)throw i;zs(e,"network-request-failed",{message:String(i)})}}async function Ah(e,t,n,s,i={}){const r=await Oo(e,t,n,s,i);return"mfaPendingCredential"in r&&zs(e,"multi-factor-auth-required",{_serverResponse:r}),r}async function Nx(e,t,n,s){const i=`${t}${n}?${s}`,r=e,o=r.config.emulator?B_(e.config,i):`${e.config.apiScheme}://${i}`;return a4.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(o).toString():o}function c4(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class u4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ci(this.auth,"network-request-failed")),l4.get())})}}function Ef(e,t,n){const s={appName:e.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=ci(e,t,s);return i.customData._tokenResponse=n,i}function tw(e){return e!==void 0&&e.enterprise!==void 0}class h4{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return c4(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function f4(e,t){return Oo(e,"GET","/v2/recaptchaConfig",Ro(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d4(e,t){return Oo(e,"POST","/v1/accounts:delete",t)}async function ep(e,t){return Oo(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function p4(e,t=!1){const n=pn(e),s=await n.getIdToken(t),i=j_(s);zt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,o=r?.sign_in_provider;return{claims:i,token:s,authTime:bu(Gm(i.auth_time)),issuedAtTime:bu(Gm(i.iat)),expirationTime:bu(Gm(i.exp)),signInProvider:o||null,signInSecondFactor:r?.sign_in_second_factor||null}}function Gm(e){return Number(e)*1e3}function j_(e){const[t,n,s]=e.split(".");if(t===void 0||n===void 0||s===void 0)return ad("JWT malformed, contained fewer than 3 sections"),null;try{const i=mx(n);return i?JSON.parse(i):(ad("Failed to decode base64 JWT payload"),null)}catch(i){return ad("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ew(e){const t=j_(e);return zt(t,"internal-error"),zt(typeof t.exp<"u","internal-error"),zt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xu(e,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Ir&&g4(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}function g4({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bu(this.lastLoginAt),this.creationTime=bu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function np(e){const t=e.auth,n=await e.getIdToken(),s=await Xu(e,ep(t,{idToken:n}));zt(s?.users.length,t,"internal-error");const i=s.users[0];e._notifyReloadListener(i);const r=i.providerUserInfo?.length?Dx(i.providerUserInfo):[],o=y4(e.providerData,r),a=e.isAnonymous,l=!(e.email&&i.passwordHash)&&!o?.length,c=a?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new yy(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(e,u)}async function v4(e){const t=pn(e);await np(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function y4(e,t){return[...e.filter(s=>!t.some(i=>i.providerId===s.providerId)),...t]}function Dx(e){return e.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _4(e,t){const n=await Ox(e,{},async()=>{const s=Sh({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:r}=e.config,o=await Nx(e,i,"/v1/token",`key=${r}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:s};return e.emulatorConfig&&oc(e.emulatorConfig.host)&&(l.credentials="include"),Rx.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function b4(e,t){return Oo(e,"POST","/v2/accounts:revokeToken",Ro(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){zt(t.idToken,"internal-error"),zt(typeof t.idToken<"u","internal-error"),zt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):ew(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){zt(t.length!==0,"internal-error");const n=ew(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(zt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:i,expiresIn:r}=await _4(t,n);this.updateTokensAndExpiration(s,i,Number(r))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:i,expirationTime:r}=n,o=new El;return s&&(zt(typeof s=="string","internal-error",{appName:t}),o.refreshToken=s),i&&(zt(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),r&&(zt(typeof r=="number","internal-error",{appName:t}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new El,this.toJSON())}_performRefresh(){return er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(e,t){zt(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class si{constructor({uid:t,auth:n,stsTokenManager:s,...i}){this.providerId="firebase",this.proactiveRefresh=new m4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new yy(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const n=await Xu(this,this.stsTokenManager.getToken(this.auth,t));return zt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return p4(this,t)}reload(){return v4(this)}_assign(t){this!==t&&(zt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new si({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){zt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await np(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cs(this.auth.app))return Promise.reject(ir(this.auth));const t=await this.getIdToken();return await Xu(this,d4(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,i=n.email??void 0,r=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:h,emailVerified:d,isAnonymous:p,providerData:g,stsTokenManager:m}=n;zt(h&&m,t,"internal-error");const y=El.fromJSON(this.name,m);zt(typeof h=="string",t,"internal-error"),Mr(s,t.name),Mr(i,t.name),zt(typeof d=="boolean",t,"internal-error"),zt(typeof p=="boolean",t,"internal-error"),Mr(r,t.name),Mr(o,t.name),Mr(a,t.name),Mr(l,t.name),Mr(c,t.name),Mr(u,t.name);const E=new si({uid:h,auth:t,email:i,emailVerified:d,displayName:s,isAnonymous:p,photoURL:o,phoneNumber:r,tenantId:a,stsTokenManager:y,createdAt:c,lastLoginAt:u});return g&&Array.isArray(g)&&(E.providerData=g.map(A=>({...A}))),l&&(E._redirectEventId=l),E}static async _fromIdTokenResponse(t,n,s=!1){const i=new El;i.updateFromServerResponse(n);const r=new si({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:s});return await np(r),r}static async _fromGetAccountInfoResponse(t,n,s){const i=n.users[0];zt(i.localId!==void 0,"internal-error");const r=i.providerUserInfo!==void 0?Dx(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!r?.length,a=new El;a.updateFromIdToken(s);const l=new si({uid:i.localId,auth:t,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new yy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!r?.length};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=new Map;function nr(e){_r(e instanceof Function,"Expected a class definition");let t=nw.get(e);return t?(_r(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,nw.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}kx.type="NONE";const sw=kx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ld(e,t,n){return`firebase:${e}:${t}:${n}`}class Tl{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:i,name:r}=this.auth;this.fullUserKey=ld(this.userKey,i.apiKey,r),this.fullPersistenceKey=ld("persistence",i.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await ep(this.auth,{idToken:t}).catch(()=>{});return n?si._fromGetAccountInfoResponse(this.auth,n,t):null}return si._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new Tl(nr(sw),t,s);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=i[0]||nr(sw);const o=ld(s,t.config.apiKey,t.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){let h;if(typeof u=="string"){const d=await ep(t,{idToken:u}).catch(()=>{});if(!d)break;h=await si._fromGetAccountInfoResponse(t,d,u)}else h=si._fromJSON(t,u);c!==r&&(a=h),r=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new Tl(r,t,s):(r=l[0],a&&await r._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(o)}catch{}})),new Tl(r,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Fx(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Mx(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ux(t))return"Blackberry";if(Bx(t))return"Webos";if(Lx(t))return"Safari";if((t.includes("chrome/")||Vx(t))&&!t.includes("edge/"))return"Chrome";if($x(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=e.match(n);if(s?.length===2)return s[1]}return"Other"}function Mx(e=Xn()){return/firefox\//i.test(e)}function Lx(e=Xn()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Vx(e=Xn()){return/crios\//i.test(e)}function Fx(e=Xn()){return/iemobile/i.test(e)}function $x(e=Xn()){return/android/i.test(e)}function Ux(e=Xn()){return/blackberry/i.test(e)}function Bx(e=Xn()){return/webos/i.test(e)}function H_(e=Xn()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function E4(e=Xn()){return H_(e)&&!!window.navigator?.standalone}function T4(){return MF()&&document.documentMode===10}function jx(e=Xn()){return H_(e)||$x(e)||Bx(e)||Ux(e)||/windows phone/i.test(e)||Fx(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(e,t=[]){let n;switch(e){case"Browser":n=iw(Xn());break;case"Worker":n=`${iw(Xn())}-${e}`;break;default:n=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${ac}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=r=>new Promise((o,a)=>{try{const l=t(r);o(l)}catch(l){a(l)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w4(e,t={}){return Oo(e,"GET","/v2/passwordPolicy",Ro(e,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=6;class I4{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??A4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),i&&(n.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let i=0;i<t.length;i++)s=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,i,r){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(t,n,s,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rw(this),this.idTokenSubscription=new rw(this),this.beforeStateQueue=new S4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Px,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=nr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Tl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await ep(this,{idToken:t}),s=await si._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Cs(this.app)){const r=this.app.settings.authIdToken;return r?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(r).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const r=this.redirectUser?._redirectEventId,o=s?._redirectEventId,a=await this.tryRedirectSignIn(t);(!r||r===o)&&a?.user&&(s=a.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(r){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(r))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return zt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await np(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=r4()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Cs(this.app))return Promise.reject(ir(this));const n=t?pn(t):null;return n&&zt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&zt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Cs(this.app)?Promise.reject(ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Cs(this.app)?Promise.reject(ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(nr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await w4(this),n=new I4(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Th("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await b4(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&nr(t)||this._popupRedirectResolver;zt(n,this,"argument-error"),this.redirectPersistenceManager=await Tl.create(this,[nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,i){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(zt(a,this,"internal-error"),a.then(()=>{o||r(this.currentUser)}),typeof n=="function"){const l=t.addObserver(n,s,i);return()=>{o=!0,l()}}else{const l=t.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return zt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Hx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Cs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&e4(`Error while retrieving App Check token: ${t.error}`),t?.token}}function No(e){return pn(e)}class rw{constructor(t){this.auth=t,this.observer=null,this.addObserver=HF(n=>this.observer=n)}get next(){return zt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function x4(e){fg=e}function zx(e){return fg.loadJS(e)}function P4(){return fg.recaptchaEnterpriseScript}function R4(){return fg.gapiScript}function O4(e){return`__${e}${Math.floor(Math.random()*1e6)}`}class N4{constructor(){this.enterprise=new D4}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class D4{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const k4="recaptcha-enterprise",Wx="NO_RECAPTCHA";class M4{constructor(t){this.type=k4,this.auth=No(t)}async verify(t="verify",n=!1){async function s(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,a)=>{f4(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new h4(l);return r.tenantId==null?r._agentRecaptchaConfig=c:r._tenantRecaptchaConfigs[r.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(r,o,a){const l=window.grecaptcha;tw(l)?l.enterprise.ready(()=>{l.enterprise.execute(r,{action:t}).then(c=>{o(c)}).catch(()=>{o(Wx)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new N4().execute("siteKey",{action:"verify"}):new Promise((r,o)=>{s(this.auth).then(a=>{if(!n&&tw(window.grecaptcha))i(a,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=P4();l.length!==0&&(l+=a),zx(l).then(()=>{i(a,r,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function ow(e,t,n,s=!1,i=!1){const r=new M4(e);let o;if(i)o=Wx;else try{o=await r.verify(n)}catch{o=await r.verify(n,!0)}const a={...t};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return s?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function _y(e,t,n,s,i){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await ow(e,t,n,n==="getOobCode");return s(e,r)}else return s(e,t).catch(async r=>{if(r.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await ow(e,t,n,n==="getOobCode");return s(e,o)}else return Promise.reject(r)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(e,t){const n=F_(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),r=n.getOptions();if(vr(r,t??{}))return i;zs(i,"already-initialized")}return n.initialize({options:t})}function V4(e,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(nr);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}function F4(e,t,n){const s=No(e);zt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const i=!1,r=Kx(t),{host:o,port:a}=$4(t),l=a===null?"":`:${a}`,c={url:`${r}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!s._canInitEmulator){zt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),zt(vr(c,s.config.emulator)&&vr(u,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=c,s.emulatorConfig=u,s.settings.appVerificationDisabledForTesting=!0,oc(o)?(bx(`${r}//${o}${l}`),Ex("Auth",!0)):U4()}function Kx(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function $4(e){const t=Kx(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const r=i[1];return{host:r,port:aw(s.substr(r.length+1))}}else{const[r,o]=s.split(":");return{host:r,port:aw(o)}}}function aw(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function U4(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return er("not implemented")}_getIdTokenResponse(t){return er("not implemented")}_linkToIdToken(t,n){return er("not implemented")}_getReauthenticationResolver(t){return er("not implemented")}}async function B4(e,t){return Oo(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j4(e,t){return Ah(e,"POST","/v1/accounts:signInWithPassword",Ro(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H4(e,t){return Ah(e,"POST","/v1/accounts:signInWithEmailLink",Ro(e,t))}async function z4(e,t){return Ah(e,"POST","/v1/accounts:signInWithEmailLink",Ro(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu extends z_{constructor(t,n,s,i=null){super("password",s),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new Yu(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Yu(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _y(t,n,"signInWithPassword",j4);case"emailLink":return H4(t,{email:this._email,oobCode:this._password});default:zs(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _y(t,s,"signUpPassword",B4);case"emailLink":return z4(t,{idToken:n,email:this._email,oobCode:this._password});default:zs(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sl(e,t){return Ah(e,"POST","/v1/accounts:signInWithIdp",Ro(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W4="http://localhost";class Ta extends z_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ta(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):zs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:i,...r}=n;if(!s||!i)return null;const o=new Ta(s,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Sl(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,Sl(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Sl(t,n)}buildRequest(){const t={requestUri:W4,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Sh(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function G4(e){const t=Qc(Jc(e)).link,n=t?Qc(Jc(t)).deep_link_id:null,s=Qc(Jc(e)).deep_link_id;return(s?Qc(Jc(s)).link:null)||s||n||t||e}class W_{constructor(t){const n=Qc(Jc(t)),s=n.apiKey??null,i=n.oobCode??null,r=K4(n.mode??null);zt(s&&i&&r,"argument-error"),this.apiKey=s,this.operation=r,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(t){const n=G4(t);try{return new W_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(){this.providerId=lc.PROVIDER_ID}static credential(t,n){return Yu._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=W_.parseLink(n);return zt(s,"argument-error"),Yu._fromEmailAndCode(t,s.code,s.tenantId)}}lc.PROVIDER_ID="password";lc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";lc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih extends K_{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Ih{constructor(){super("facebook.com")}static credential(t){return Ta._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Kr.credentialFromTaggedObject(t)}static credentialFromError(t){return Kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Kr.credential(t.oauthAccessToken)}catch{return null}}}Kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends Ih{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ta._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ti.credentialFromTaggedObject(t)}static credentialFromError(t){return Ti.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Ti.credential(n,s)}catch{return null}}}Ti.GOOGLE_SIGN_IN_METHOD="google.com";Ti.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends Ih{constructor(){super("github.com")}static credential(t){return Ta._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gr.credential(t.oauthAccessToken)}catch{return null}}}Gr.GITHUB_SIGN_IN_METHOD="github.com";Gr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Ih{constructor(){super("twitter.com")}static credential(t,n){return Ta._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Xr.credentialFromTaggedObject(t)}static credentialFromError(t){return Xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Xr.credential(n,s)}catch{return null}}}Xr.TWITTER_SIGN_IN_METHOD="twitter.com";Xr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X4(e,t){return Ah(e,"POST","/v1/accounts:signUp",Ro(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,i=!1){const r=await si._fromIdTokenResponse(t,s,i),o=lw(s);return new Sa({user:r,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const i=lw(s);return new Sa({user:t,providerId:i,_tokenResponse:s,operationType:n})}}function lw(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp extends Ir{constructor(t,n,s,i){super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,sp.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,i){return new sp(t,n,s,i)}}function Gx(e,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?sp._fromErrorAndOperation(e,r,t,s):r})}async function Y4(e,t,n=!1){const s=await Xu(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Sa._forOperation(e,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q4(e,t,n=!1){const{auth:s}=e;if(Cs(s.app))return Promise.reject(ir(s));const i="reauthenticate";try{const r=await Xu(e,Gx(s,i,t,e),n);zt(r.idToken,s,"internal-error");const o=j_(r.idToken);zt(o,s,"internal-error");const{sub:a}=o;return zt(e.uid===a,s,"user-mismatch"),Sa._forOperation(e,i,r)}catch(r){throw r?.code==="auth/user-not-found"&&zs(s,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xx(e,t,n=!1){if(Cs(e.app))return Promise.reject(ir(e));const s="signIn",i=await Gx(e,s,t),r=await Sa._fromIdTokenResponse(e,s,i);return n||await e._updateCurrentUser(r.user),r}async function Q4(e,t){return Xx(No(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yx(e){const t=No(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function J4(e,t,n){if(Cs(e.app))return Promise.reject(ir(e));const s=No(e),o=await _y(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",X4).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Yx(e),l}),a=await Sa._fromIdTokenResponse(s,"signIn",o);return await s._updateCurrentUser(a.user),a}function Z4(e,t,n){return Cs(e.app)?Promise.reject(ir(e)):Q4(pn(e),lc.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Yx(e),s})}function tU(e,t,n,s){return pn(e).onIdTokenChanged(t,n,s)}function eU(e,t,n){return pn(e).beforeAuthStateChanged(t,n)}function G_(e,t,n,s){return pn(e).onAuthStateChanged(t,n,s)}function nU(e){return pn(e).signOut()}const ip="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ip,"1"),this.storage.removeItem(ip),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU=1e3,iU=10;class Qx extends qx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jx(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&t(n,i,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const s=t.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},r=this.storage.getItem(s);T4()&&r!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,iU):i()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},sU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Qx.type="LOCAL";const rU=Qx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx extends qx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Jx.type="SESSION";const Zx=Jx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oU(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const s=new dg(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:i,data:r}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,r)),l=await oU(a);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(e="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise((a,l)=>{const c=X_("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},s);o={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(d.data.response);break;default:clearTimeout(u),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(){return window}function lU(e){wi().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(){return typeof wi().WorkerGlobalScope<"u"&&typeof wi().importScripts=="function"}async function cU(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uU(){return navigator?.serviceWorker?.controller||null}function hU(){return tP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP="firebaseLocalStorageDb",fU=1,rp="firebaseLocalStorage",nP="fbase_key";class Ch{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pg(e,t){return e.transaction([rp],t?"readwrite":"readonly").objectStore(rp)}function dU(){const e=indexedDB.deleteDatabase(eP);return new Ch(e).toPromise()}function by(){const e=indexedDB.open(eP,fU);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const s=e.result;try{s.createObjectStore(rp,{keyPath:nP})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const s=e.result;s.objectStoreNames.contains(rp)?t(s):(s.close(),await dU(),t(await by()))})})}async function cw(e,t,n){const s=pg(e,!0).put({[nP]:t,value:n});return new Ch(s).toPromise()}async function pU(e,t){const n=pg(e,!1).get(t),s=await new Ch(n).toPromise();return s===void 0?null:s.value}function uw(e,t){const n=pg(e,!0).delete(t);return new Ch(n).toPromise()}const gU=800,mU=3;class sP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await by(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>mU)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dg._getInstance(hU()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await cU(),!this.activeServiceWorker)return;this.sender=new aU(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||uU()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await by();return await cw(t,ip,"1"),await uw(t,ip),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>cw(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>pU(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>uw(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const r=pg(i,!1).getAll();return new Ch(r).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:i,value:r}of t)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sP.type="LOCAL";const vU=sP;new wh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(e,t){return t?nr(t):(zt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_ extends z_{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Sl(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Sl(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Sl(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function yU(e){return Xx(e.auth,new Y_(e),e.bypassAuthState)}function _U(e){const{auth:t,user:n}=e;return zt(n,t,"internal-error"),q4(n,new Y_(e),e.bypassAuthState)}async function bU(e){const{auth:t,user:n}=e;return zt(n,t,"internal-error"),Y4(n,new Y_(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(t,n,s,i,r=!1){this.auth=t,this.resolver=s,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:i,tenantId:r,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:s,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return yU;case"linkViaPopup":case"linkViaRedirect":return bU;case"reauthViaPopup":case"reauthViaRedirect":return _U;default:zs(this.auth,"internal-error")}}resolve(t){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU=new wh(2e3,1e4);async function TU(e,t,n){if(Cs(e.app))return Promise.reject(ci(e,"operation-not-supported-in-this-environment"));const s=No(e);n4(e,t,K_);const i=iP(s,n);return new Zo(s,"signInViaPopup",t,i).executeNotNull()}class Zo extends rP{constructor(t,n,s,i,r){super(t,n,i,r),this.provider=s,this.authWindow=null,this.pollId=null,Zo.currentPopupAction&&Zo.currentPopupAction.cancel(),Zo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return zt(t,this.auth,"internal-error"),t}async onExecution(){_r(this.filter.length===1,"Popup operations only handle one event");const t=X_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,EU.get())};t()}}Zo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SU="pendingRedirect",cd=new Map;class wU extends rP{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=cd.get(this.auth._key());if(!t){try{const s=await AU(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}cd.set(this.auth._key(),t)}return this.bypassAuthState||cd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AU(e,t){const n=xU(t),s=CU(e);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function IU(e,t){cd.set(e._key(),t)}function CU(e){return nr(e._redirectPersistence)}function xU(e){return ld(SU,e.config.apiKey,e.name)}async function PU(e,t,n=!1){if(Cs(e.app))return Promise.reject(ir(e));const s=No(e),i=iP(s,t),o=await new wU(s,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU=600*1e3;class OU{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!NU(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!oP(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(ci(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=RU&&this.cachedEventUids.clear(),this.cachedEventUids.has(hw(t))}saveEventToCache(t){this.cachedEventUids.add(hw(t)),this.lastProcessedEventTime=Date.now()}}function hw(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function oP({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function NU(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oP(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DU(e,t={}){return Oo(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MU=/^https?/;async function LU(e){if(e.config.emulator)return;const{authorizedDomains:t}=await DU(e);for(const n of t)try{if(VU(n))return}catch{}zs(e,"unauthorized-domain")}function VU(e){const t=vy(),{protocol:n,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&s===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!MU.test(n))return!1;if(kU.test(e))return s===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FU=new wh(3e4,6e4);function fw(){const e=wi().___jsl;if(e?.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function $U(e){return new Promise((t,n)=>{function s(){fw(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{fw(),n(ci(e,"network-request-failed"))},timeout:FU.get()})}if(wi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(wi().gapi?.load)s();else{const i=O4("iframefcb");return wi()[i]=()=>{gapi.load?s():n(ci(e,"network-request-failed"))},zx(`${R4()}?onload=${i}`).catch(r=>n(r))}}).catch(t=>{throw ud=null,t})}let ud=null;function UU(e){return ud=ud||$U(e),ud}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU=new wh(5e3,15e3),jU="__/auth/iframe",HU="emulator/auth/iframe",zU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KU(e){const t=e.config;zt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?B_(t,HU):`https://${e.config.authDomain}/${jU}`,s={apiKey:t.apiKey,appName:e.name,v:ac},i=WU.get(e.config.apiHost);i&&(s.eid=i);const r=e._getFrameworks();return r.length&&(s.fw=r.join(",")),`${n}?${Sh(s).slice(1)}`}async function GU(e){const t=await UU(e),n=wi().gapi;return zt(n,e,"internal-error"),t.open({where:document.body,url:KU(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zU,dontclear:!0},s=>new Promise(async(i,r)=>{await s.restyle({setHideOnLeave:!1});const o=ci(e,"network-request-failed"),a=wi().setTimeout(()=>{r(o)},BU.get());function l(){wi().clearTimeout(a),i(s)}s.ping(l).then(l,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YU=500,qU=600,QU="_blank",JU="http://localhost";class dw{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZU(e,t,n,s=YU,i=qU){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let a="";const l={...XU,width:s.toString(),height:i.toString(),top:r,left:o},c=Xn().toLowerCase();n&&(a=Vx(c)?QU:n),Mx(c)&&(t=t||JU,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[p,g])=>`${d}${p}=${g},`,"");if(E4(c)&&a!=="_self")return t3(t||"",a),new dw(null);const h=window.open(t||"",a,u);zt(h,e,"popup-blocked");try{h.focus()}catch{}return new dw(h)}function t3(e,t){const n=document.createElement("a");n.href=e,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3="__/auth/handler",n3="emulator/auth/handler",s3=encodeURIComponent("fac");async function pw(e,t,n,s,i,r){zt(e.config.authDomain,e,"auth-domain-config-required"),zt(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:ac,eventId:i};if(t instanceof K_){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",jF(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[u,h]of Object.entries({}))o[u]=h}if(t instanceof Ih){const u=t.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await e._getAppCheckToken(),c=l?`#${s3}=${encodeURIComponent(l)}`:"";return`${i3(e)}?${Sh(a).slice(1)}${c}`}function i3({config:e}){return e.emulator?B_(e,n3):`https://${e.authDomain}/${e3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="webStorageSupport";class r3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zx,this._completeRedirectFn=PU,this._overrideRedirectResult=IU}async _openPopup(t,n,s,i){_r(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const r=await pw(t,n,s,vy(),i);return ZU(t,r,X_())}async _openRedirect(t,n,s,i){await this._originValidation(t);const r=await pw(t,n,s,vy(),i);return lU(r),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:r}=this.eventManagers[n];return i?Promise.resolve(i):(_r(r,"If manager is not set, promise should be"),r)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await GU(t),s=new OU(t);return n.register("authEvent",i=>(zt(i?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Xm,{type:Xm},i=>{const r=i?.[0]?.[Xm];r!==void 0&&n(!!r),zs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=LU(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return jx()||Lx()||H_()}}const o3=r3;var gw="@firebase/auth",mw="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){zt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l3(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function c3(e){kl(new Ea("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),r=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=s.options;zt(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hx(e)},c=new C4(s,i,r,l);return V4(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),kl(new Ea("auth-internal",t=>{const n=No(t.getProvider("auth").getImmediate());return(s=>new a3(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ao(gw,mw,l3(e)),ao(gw,mw,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u3=300,h3=_x("authIdTokenMaxAge")||u3;let vw=null;const f3=e=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>h3)return;const i=n?.token;vw!==i&&(vw=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function q_(e=Ax()){const t=F_(e,"auth");if(t.isInitialized())return t.getImmediate();const n=L4(e,{popupRedirectResolver:o3,persistence:[vU,rU,Zx]}),s=_x("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(s,location.origin);if(location.origin===r.origin){const o=f3(r.toString());eU(n,o,()=>o(n.currentUser)),tU(n,a=>o(a))}}const i=vx("auth");return i&&F4(n,`http://${i}`),n}function d3(){return document.getElementsByTagName("head")?.[0]??document}x4({loadJS(e){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=i=>{const r=ci("internal-error");r.customData=i,n(r)},s.type="text/javascript",s.charset="UTF-8",d3().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});c3("Browser");var yw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lo,aP;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(x,T){function _(){}_.prototype=T.prototype,x.D=T.prototype,x.prototype=new _,x.prototype.constructor=x,x.C=function(S,P,R){for(var I=Array(arguments.length-2),z=2;z<arguments.length;z++)I[z-2]=arguments[z];return T.prototype[P].apply(S,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,T,_){_||(_=0);var S=Array(16);if(typeof T=="string")for(var P=0;16>P;++P)S[P]=T.charCodeAt(_++)|T.charCodeAt(_++)<<8|T.charCodeAt(_++)<<16|T.charCodeAt(_++)<<24;else for(P=0;16>P;++P)S[P]=T[_++]|T[_++]<<8|T[_++]<<16|T[_++]<<24;T=x.g[0],_=x.g[1],P=x.g[2];var R=x.g[3],I=T+(R^_&(P^R))+S[0]+3614090360&4294967295;T=_+(I<<7&4294967295|I>>>25),I=R+(P^T&(_^P))+S[1]+3905402710&4294967295,R=T+(I<<12&4294967295|I>>>20),I=P+(_^R&(T^_))+S[2]+606105819&4294967295,P=R+(I<<17&4294967295|I>>>15),I=_+(T^P&(R^T))+S[3]+3250441966&4294967295,_=P+(I<<22&4294967295|I>>>10),I=T+(R^_&(P^R))+S[4]+4118548399&4294967295,T=_+(I<<7&4294967295|I>>>25),I=R+(P^T&(_^P))+S[5]+1200080426&4294967295,R=T+(I<<12&4294967295|I>>>20),I=P+(_^R&(T^_))+S[6]+2821735955&4294967295,P=R+(I<<17&4294967295|I>>>15),I=_+(T^P&(R^T))+S[7]+4249261313&4294967295,_=P+(I<<22&4294967295|I>>>10),I=T+(R^_&(P^R))+S[8]+1770035416&4294967295,T=_+(I<<7&4294967295|I>>>25),I=R+(P^T&(_^P))+S[9]+2336552879&4294967295,R=T+(I<<12&4294967295|I>>>20),I=P+(_^R&(T^_))+S[10]+4294925233&4294967295,P=R+(I<<17&4294967295|I>>>15),I=_+(T^P&(R^T))+S[11]+2304563134&4294967295,_=P+(I<<22&4294967295|I>>>10),I=T+(R^_&(P^R))+S[12]+1804603682&4294967295,T=_+(I<<7&4294967295|I>>>25),I=R+(P^T&(_^P))+S[13]+4254626195&4294967295,R=T+(I<<12&4294967295|I>>>20),I=P+(_^R&(T^_))+S[14]+2792965006&4294967295,P=R+(I<<17&4294967295|I>>>15),I=_+(T^P&(R^T))+S[15]+1236535329&4294967295,_=P+(I<<22&4294967295|I>>>10),I=T+(P^R&(_^P))+S[1]+4129170786&4294967295,T=_+(I<<5&4294967295|I>>>27),I=R+(_^P&(T^_))+S[6]+3225465664&4294967295,R=T+(I<<9&4294967295|I>>>23),I=P+(T^_&(R^T))+S[11]+643717713&4294967295,P=R+(I<<14&4294967295|I>>>18),I=_+(R^T&(P^R))+S[0]+3921069994&4294967295,_=P+(I<<20&4294967295|I>>>12),I=T+(P^R&(_^P))+S[5]+3593408605&4294967295,T=_+(I<<5&4294967295|I>>>27),I=R+(_^P&(T^_))+S[10]+38016083&4294967295,R=T+(I<<9&4294967295|I>>>23),I=P+(T^_&(R^T))+S[15]+3634488961&4294967295,P=R+(I<<14&4294967295|I>>>18),I=_+(R^T&(P^R))+S[4]+3889429448&4294967295,_=P+(I<<20&4294967295|I>>>12),I=T+(P^R&(_^P))+S[9]+568446438&4294967295,T=_+(I<<5&4294967295|I>>>27),I=R+(_^P&(T^_))+S[14]+3275163606&4294967295,R=T+(I<<9&4294967295|I>>>23),I=P+(T^_&(R^T))+S[3]+4107603335&4294967295,P=R+(I<<14&4294967295|I>>>18),I=_+(R^T&(P^R))+S[8]+1163531501&4294967295,_=P+(I<<20&4294967295|I>>>12),I=T+(P^R&(_^P))+S[13]+2850285829&4294967295,T=_+(I<<5&4294967295|I>>>27),I=R+(_^P&(T^_))+S[2]+4243563512&4294967295,R=T+(I<<9&4294967295|I>>>23),I=P+(T^_&(R^T))+S[7]+1735328473&4294967295,P=R+(I<<14&4294967295|I>>>18),I=_+(R^T&(P^R))+S[12]+2368359562&4294967295,_=P+(I<<20&4294967295|I>>>12),I=T+(_^P^R)+S[5]+4294588738&4294967295,T=_+(I<<4&4294967295|I>>>28),I=R+(T^_^P)+S[8]+2272392833&4294967295,R=T+(I<<11&4294967295|I>>>21),I=P+(R^T^_)+S[11]+1839030562&4294967295,P=R+(I<<16&4294967295|I>>>16),I=_+(P^R^T)+S[14]+4259657740&4294967295,_=P+(I<<23&4294967295|I>>>9),I=T+(_^P^R)+S[1]+2763975236&4294967295,T=_+(I<<4&4294967295|I>>>28),I=R+(T^_^P)+S[4]+1272893353&4294967295,R=T+(I<<11&4294967295|I>>>21),I=P+(R^T^_)+S[7]+4139469664&4294967295,P=R+(I<<16&4294967295|I>>>16),I=_+(P^R^T)+S[10]+3200236656&4294967295,_=P+(I<<23&4294967295|I>>>9),I=T+(_^P^R)+S[13]+681279174&4294967295,T=_+(I<<4&4294967295|I>>>28),I=R+(T^_^P)+S[0]+3936430074&4294967295,R=T+(I<<11&4294967295|I>>>21),I=P+(R^T^_)+S[3]+3572445317&4294967295,P=R+(I<<16&4294967295|I>>>16),I=_+(P^R^T)+S[6]+76029189&4294967295,_=P+(I<<23&4294967295|I>>>9),I=T+(_^P^R)+S[9]+3654602809&4294967295,T=_+(I<<4&4294967295|I>>>28),I=R+(T^_^P)+S[12]+3873151461&4294967295,R=T+(I<<11&4294967295|I>>>21),I=P+(R^T^_)+S[15]+530742520&4294967295,P=R+(I<<16&4294967295|I>>>16),I=_+(P^R^T)+S[2]+3299628645&4294967295,_=P+(I<<23&4294967295|I>>>9),I=T+(P^(_|~R))+S[0]+4096336452&4294967295,T=_+(I<<6&4294967295|I>>>26),I=R+(_^(T|~P))+S[7]+1126891415&4294967295,R=T+(I<<10&4294967295|I>>>22),I=P+(T^(R|~_))+S[14]+2878612391&4294967295,P=R+(I<<15&4294967295|I>>>17),I=_+(R^(P|~T))+S[5]+4237533241&4294967295,_=P+(I<<21&4294967295|I>>>11),I=T+(P^(_|~R))+S[12]+1700485571&4294967295,T=_+(I<<6&4294967295|I>>>26),I=R+(_^(T|~P))+S[3]+2399980690&4294967295,R=T+(I<<10&4294967295|I>>>22),I=P+(T^(R|~_))+S[10]+4293915773&4294967295,P=R+(I<<15&4294967295|I>>>17),I=_+(R^(P|~T))+S[1]+2240044497&4294967295,_=P+(I<<21&4294967295|I>>>11),I=T+(P^(_|~R))+S[8]+1873313359&4294967295,T=_+(I<<6&4294967295|I>>>26),I=R+(_^(T|~P))+S[15]+4264355552&4294967295,R=T+(I<<10&4294967295|I>>>22),I=P+(T^(R|~_))+S[6]+2734768916&4294967295,P=R+(I<<15&4294967295|I>>>17),I=_+(R^(P|~T))+S[13]+1309151649&4294967295,_=P+(I<<21&4294967295|I>>>11),I=T+(P^(_|~R))+S[4]+4149444226&4294967295,T=_+(I<<6&4294967295|I>>>26),I=R+(_^(T|~P))+S[11]+3174756917&4294967295,R=T+(I<<10&4294967295|I>>>22),I=P+(T^(R|~_))+S[2]+718787259&4294967295,P=R+(I<<15&4294967295|I>>>17),I=_+(R^(P|~T))+S[9]+3951481745&4294967295,x.g[0]=x.g[0]+T&4294967295,x.g[1]=x.g[1]+(P+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+P&4294967295,x.g[3]=x.g[3]+R&4294967295}s.prototype.u=function(x,T){T===void 0&&(T=x.length);for(var _=T-this.blockSize,S=this.B,P=this.h,R=0;R<T;){if(P==0)for(;R<=_;)i(this,x,R),R+=this.blockSize;if(typeof x=="string"){for(;R<T;)if(S[P++]=x.charCodeAt(R++),P==this.blockSize){i(this,S),P=0;break}}else for(;R<T;)if(S[P++]=x[R++],P==this.blockSize){i(this,S),P=0;break}}this.h=P,this.o+=T},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var T=1;T<x.length-8;++T)x[T]=0;var _=8*this.o;for(T=x.length-8;T<x.length;++T)x[T]=_&255,_/=256;for(this.u(x),x=Array(16),T=_=0;4>T;++T)for(var S=0;32>S;S+=8)x[_++]=this.g[T]>>>S&255;return x};function r(x,T){var _=a;return Object.prototype.hasOwnProperty.call(_,x)?_[x]:_[x]=T(x)}function o(x,T){this.h=T;for(var _=[],S=!0,P=x.length-1;0<=P;P--){var R=x[P]|0;S&&R==T||(_[P]=R,S=!1)}this.g=_}var a={};function l(x){return-128<=x&&128>x?r(x,function(T){return new o([T|0],0>T?-1:0)}):new o([x|0],0>x?-1:0)}function c(x){if(isNaN(x)||!isFinite(x))return h;if(0>x)return y(c(-x));for(var T=[],_=1,S=0;x>=_;S++)T[S]=x/_|0,_*=4294967296;return new o(T,0)}function u(x,T){if(x.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(x.charAt(0)=="-")return y(u(x.substring(1),T));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=c(Math.pow(T,8)),S=h,P=0;P<x.length;P+=8){var R=Math.min(8,x.length-P),I=parseInt(x.substring(P,P+R),T);8>R?(R=c(Math.pow(T,R)),S=S.j(R).add(c(I))):(S=S.j(_),S=S.add(c(I)))}return S}var h=l(0),d=l(1),p=l(16777216);e=o.prototype,e.m=function(){if(m(this))return-y(this).m();for(var x=0,T=1,_=0;_<this.g.length;_++){var S=this.i(_);x+=(0<=S?S:4294967296+S)*T,T*=4294967296}return x},e.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(g(this))return"0";if(m(this))return"-"+y(this).toString(x);for(var T=c(Math.pow(x,6)),_=this,S="";;){var P=C(_,T).g;_=E(_,P.j(T));var R=((0<_.g.length?_.g[0]:_.h)>>>0).toString(x);if(_=P,g(_))return R+S;for(;6>R.length;)R="0"+R;S=R+S}},e.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function g(x){if(x.h!=0)return!1;for(var T=0;T<x.g.length;T++)if(x.g[T]!=0)return!1;return!0}function m(x){return x.h==-1}e.l=function(x){return x=E(this,x),m(x)?-1:g(x)?0:1};function y(x){for(var T=x.g.length,_=[],S=0;S<T;S++)_[S]=~x.g[S];return new o(_,~x.h).add(d)}e.abs=function(){return m(this)?y(this):this},e.add=function(x){for(var T=Math.max(this.g.length,x.g.length),_=[],S=0,P=0;P<=T;P++){var R=S+(this.i(P)&65535)+(x.i(P)&65535),I=(R>>>16)+(this.i(P)>>>16)+(x.i(P)>>>16);S=I>>>16,R&=65535,I&=65535,_[P]=I<<16|R}return new o(_,_[_.length-1]&-2147483648?-1:0)};function E(x,T){return x.add(y(T))}e.j=function(x){if(g(this)||g(x))return h;if(m(this))return m(x)?y(this).j(y(x)):y(y(this).j(x));if(m(x))return y(this.j(y(x)));if(0>this.l(p)&&0>x.l(p))return c(this.m()*x.m());for(var T=this.g.length+x.g.length,_=[],S=0;S<2*T;S++)_[S]=0;for(S=0;S<this.g.length;S++)for(var P=0;P<x.g.length;P++){var R=this.i(S)>>>16,I=this.i(S)&65535,z=x.i(P)>>>16,Y=x.i(P)&65535;_[2*S+2*P]+=I*Y,A(_,2*S+2*P),_[2*S+2*P+1]+=R*Y,A(_,2*S+2*P+1),_[2*S+2*P+1]+=I*z,A(_,2*S+2*P+1),_[2*S+2*P+2]+=R*z,A(_,2*S+2*P+2)}for(S=0;S<T;S++)_[S]=_[2*S+1]<<16|_[2*S];for(S=T;S<2*T;S++)_[S]=0;return new o(_,0)};function A(x,T){for(;(x[T]&65535)!=x[T];)x[T+1]+=x[T]>>>16,x[T]&=65535,T++}function w(x,T){this.g=x,this.h=T}function C(x,T){if(g(T))throw Error("division by zero");if(g(x))return new w(h,h);if(m(x))return T=C(y(x),T),new w(y(T.g),y(T.h));if(m(T))return T=C(x,y(T)),new w(y(T.g),T.h);if(30<x.g.length){if(m(x)||m(T))throw Error("slowDivide_ only works with positive integers.");for(var _=d,S=T;0>=S.l(x);)_=O(_),S=O(S);var P=D(_,1),R=D(S,1);for(S=D(S,2),_=D(_,2);!g(S);){var I=R.add(S);0>=I.l(x)&&(P=P.add(_),R=I),S=D(S,1),_=D(_,1)}return T=E(x,P.j(T)),new w(P,T)}for(P=h;0<=x.l(T);){for(_=Math.max(1,Math.floor(x.m()/T.m())),S=Math.ceil(Math.log(_)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),R=c(_),I=R.j(T);m(I)||0<I.l(x);)_-=S,R=c(_),I=R.j(T);g(R)&&(R=d),P=P.add(R),x=E(x,I)}return new w(P,x)}e.A=function(x){return C(this,x).h},e.and=function(x){for(var T=Math.max(this.g.length,x.g.length),_=[],S=0;S<T;S++)_[S]=this.i(S)&x.i(S);return new o(_,this.h&x.h)},e.or=function(x){for(var T=Math.max(this.g.length,x.g.length),_=[],S=0;S<T;S++)_[S]=this.i(S)|x.i(S);return new o(_,this.h|x.h)},e.xor=function(x){for(var T=Math.max(this.g.length,x.g.length),_=[],S=0;S<T;S++)_[S]=this.i(S)^x.i(S);return new o(_,this.h^x.h)};function O(x){for(var T=x.g.length+1,_=[],S=0;S<T;S++)_[S]=x.i(S)<<1|x.i(S-1)>>>31;return new o(_,x.h)}function D(x,T){var _=T>>5;T%=32;for(var S=x.g.length-_,P=[],R=0;R<S;R++)P[R]=0<T?x.i(R+_)>>>T|x.i(R+_+1)<<32-T:x.i(R+_);return new o(P,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,aP=s,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=u,lo=o}).apply(typeof yw<"u"?yw:typeof self<"u"?self:typeof window<"u"?window:{});var Tf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lP,Zc,cP,hd,Ey,uP,hP,fP;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,v,b){return f==Array.prototype||f==Object.prototype||(f[v]=b.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tf=="object"&&Tf];for(var v=0;v<f.length;++v){var b=f[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=n(this);function i(f,v){if(v)t:{var b=s;f=f.split(".");for(var k=0;k<f.length-1;k++){var W=f[k];if(!(W in b))break t;b=b[W]}f=f[f.length-1],k=b[f],v=v(k),v!=k&&v!=null&&t(b,f,{configurable:!0,writable:!0,value:v})}}function r(f,v){f instanceof String&&(f+="");var b=0,k=!1,W={next:function(){if(!k&&b<f.length){var q=b++;return{value:v(q,f[q]),done:!1}}return k=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}i("Array.prototype.values",function(f){return f||function(){return r(this,function(v,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(f){var v=typeof f;return v=v!="object"?v:f?Array.isArray(f)?"array":v:"null",v=="array"||v=="object"&&typeof f.length=="number"}function c(f){var v=typeof f;return v=="object"&&f!=null||v=="function"}function u(f,v,b){return f.call.apply(f.bind,arguments)}function h(f,v,b){if(!f)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,k),f.apply(v,W)}}return function(){return f.apply(v,arguments)}}function d(f,v,b){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,d.apply(null,arguments)}function p(f,v){var b=Array.prototype.slice.call(arguments,1);return function(){var k=b.slice();return k.push.apply(k,arguments),f.apply(this,k)}}function g(f,v){function b(){}b.prototype=v.prototype,f.aa=v.prototype,f.prototype=new b,f.prototype.constructor=f,f.Qb=function(k,W,q){for(var Et=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)Et[Re-2]=arguments[Re];return v.prototype[W].apply(k,Et)}}function m(f){const v=f.length;if(0<v){const b=Array(v);for(let k=0;k<v;k++)b[k]=f[k];return b}return[]}function y(f,v){for(let b=1;b<arguments.length;b++){const k=arguments[b];if(l(k)){const W=f.length||0,q=k.length||0;f.length=W+q;for(let Et=0;Et<q;Et++)f[W+Et]=k[Et]}else f.push(k)}}class E{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function A(f){return/^[\s\xa0]*$/.test(f)}function w(){var f=a.navigator;return f&&(f=f.userAgent)?f:""}function C(f){return C[" "](f),f}C[" "]=function(){};var O=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function D(f,v,b){for(const k in f)v.call(b,f[k],k,f)}function x(f,v){for(const b in f)v.call(void 0,f[b],b,f)}function T(f){const v={};for(const b in f)v[b]=f[b];return v}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(f,v){let b,k;for(let W=1;W<arguments.length;W++){k=arguments[W];for(b in k)f[b]=k[b];for(let q=0;q<_.length;q++)b=_[q],Object.prototype.hasOwnProperty.call(k,b)&&(f[b]=k[b])}}function P(f){var v=1;f=f.split(":");const b=[];for(;0<v&&f.length;)b.push(f.shift()),v--;return f.length&&b.push(f.join(":")),b}function R(f){a.setTimeout(()=>{throw f},0)}function I(){var f=Pt;let v=null;return f.g&&(v=f.g,f.g=f.g.next,f.g||(f.h=null),v.next=null),v}class z{constructor(){this.h=this.g=null}add(v,b){const k=Y.get();k.set(v,b),this.h?this.h.next=k:this.g=k,this.h=k}}var Y=new E(()=>new B,f=>f.reset());class B{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let K,tt=!1,Pt=new z,U=()=>{const f=a.Promise.resolve(void 0);K=()=>{f.then(V)}};var V=()=>{for(var f;f=I();){try{f.h.call(f.g)}catch(b){R(b)}var v=Y;v.j(f),100>v.h&&(v.h++,f.next=v.g,v.g=f)}tt=!1};function at(){this.s=this.s,this.C=this.C}at.prototype.s=!1,at.prototype.ma=function(){this.s||(this.s=!0,this.N())},at.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ut(f,v){this.type=f,this.g=this.target=v,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var _t=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var f=!1,v=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};a.addEventListener("test",b,v),a.removeEventListener("test",b,v)}catch{}return f}();function yt(f,v){if(ut.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var b=this.type=f.type,k=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=v,v=f.relatedTarget){if(O){t:{try{C(v.nodeName);var W=!0;break t}catch{}W=!1}W||(v=null)}}else b=="mouseover"?v=f.fromElement:b=="mouseout"&&(v=f.toElement);this.relatedTarget=v,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:gt[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&yt.aa.h.call(this)}}g(yt,ut);var gt={2:"touch",3:"pen",4:"mouse"};yt.prototype.h=function(){yt.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),J=0;function et(f,v,b,k,W){this.listener=f,this.proxy=null,this.src=v,this.type=b,this.capture=!!k,this.ha=W,this.key=++J,this.da=this.fa=!1}function dt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function At(f){this.src=f,this.g={},this.h=0}At.prototype.add=function(f,v,b,k,W){var q=f.toString();f=this.g[q],f||(f=this.g[q]=[],this.h++);var Et=M(f,v,k,W);return-1<Et?(v=f[Et],b||(v.fa=!1)):(v=new et(v,this.src,q,!!k,W),v.fa=b,f.push(v)),v};function Dt(f,v){var b=v.type;if(b in f.g){var k=f.g[b],W=Array.prototype.indexOf.call(k,v,void 0),q;(q=0<=W)&&Array.prototype.splice.call(k,W,1),q&&(dt(v),f.g[b].length==0&&(delete f.g[b],f.h--))}}function M(f,v,b,k){for(var W=0;W<f.length;++W){var q=f[W];if(!q.da&&q.listener==v&&q.capture==!!b&&q.ha==k)return W}return-1}var L="closure_lm_"+(1e6*Math.random()|0),j={};function Z(f,v,b,k,W){if(Array.isArray(v)){for(var q=0;q<v.length;q++)Z(f,v[q],b,k,W);return null}return b=xt(b),f&&f[F]?f.K(v,b,c(k)?!!k.capture:!1,W):X(f,v,b,!1,k,W)}function X(f,v,b,k,W,q){if(!v)throw Error("Invalid event type");var Et=c(W)?!!W.capture:!!W,Re=Rt(f);if(Re||(f[L]=Re=new At(f)),b=Re.add(v,b,k,Et,q),b.proxy)return b;if(k=it(),b.proxy=k,k.src=f,k.listener=b,f.addEventListener)_t||(W=Et),W===void 0&&(W=!1),f.addEventListener(v.toString(),k,W);else if(f.attachEvent)f.attachEvent(ht(v.toString()),k);else if(f.addListener&&f.removeListener)f.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return b}function it(){function f(b){return v.call(f.src,f.listener,b)}const v=ct;return f}function mt(f,v,b,k,W){if(Array.isArray(v))for(var q=0;q<v.length;q++)mt(f,v[q],b,k,W);else k=c(k)?!!k.capture:!!k,b=xt(b),f&&f[F]?(f=f.i,v=String(v).toString(),v in f.g&&(q=f.g[v],b=M(q,b,k,W),-1<b&&(dt(q[b]),Array.prototype.splice.call(q,b,1),q.length==0&&(delete f.g[v],f.h--)))):f&&(f=Rt(f))&&(v=f.g[v.toString()],f=-1,v&&(f=M(v,b,k,W)),(b=-1<f?v[f]:null)&&ot(b))}function ot(f){if(typeof f!="number"&&f&&!f.da){var v=f.src;if(v&&v[F])Dt(v.i,f);else{var b=f.type,k=f.proxy;v.removeEventListener?v.removeEventListener(b,k,f.capture):v.detachEvent?v.detachEvent(ht(b),k):v.addListener&&v.removeListener&&v.removeListener(k),(b=Rt(v))?(Dt(b,f),b.h==0&&(b.src=null,v[L]=null)):dt(f)}}}function ht(f){return f in j?j[f]:j[f]="on"+f}function ct(f,v){if(f.da)f=!0;else{v=new yt(v,this);var b=f.listener,k=f.ha||f.src;f.fa&&ot(f),f=b.call(k,v)}return f}function Rt(f){return f=f[L],f instanceof At?f:null}var vt="__closure_events_fn_"+(1e9*Math.random()>>>0);function xt(f){return typeof f=="function"?f:(f[vt]||(f[vt]=function(v){return f.handleEvent(v)}),f[vt])}function St(){at.call(this),this.i=new At(this),this.M=this,this.F=null}g(St,at),St.prototype[F]=!0,St.prototype.removeEventListener=function(f,v,b,k){mt(this,f,v,b,k)};function kt(f,v){var b,k=f.F;if(k)for(b=[];k;k=k.F)b.push(k);if(f=f.M,k=v.type||v,typeof v=="string")v=new ut(v,f);else if(v instanceof ut)v.target=v.target||f;else{var W=v;v=new ut(k,f),S(v,W)}if(W=!0,b)for(var q=b.length-1;0<=q;q--){var Et=v.g=b[q];W=Zt(Et,k,!0,v)&&W}if(Et=v.g=f,W=Zt(Et,k,!0,v)&&W,W=Zt(Et,k,!1,v)&&W,b)for(q=0;q<b.length;q++)Et=v.g=b[q],W=Zt(Et,k,!1,v)&&W}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var f=this.i,v;for(v in f.g){for(var b=f.g[v],k=0;k<b.length;k++)dt(b[k]);delete f.g[v],f.h--}}this.F=null},St.prototype.K=function(f,v,b,k){return this.i.add(String(f),v,!1,b,k)},St.prototype.L=function(f,v,b,k){return this.i.add(String(f),v,!0,b,k)};function Zt(f,v,b,k){if(v=f.i.g[String(v)],!v)return!0;v=v.concat();for(var W=!0,q=0;q<v.length;++q){var Et=v[q];if(Et&&!Et.da&&Et.capture==b){var Re=Et.listener,En=Et.ha||Et.src;Et.fa&&Dt(f.i,Et),W=Re.call(En,k)!==!1&&W}}return W&&!k.defaultPrevented}function $(f,v,b){if(typeof f=="function")b&&(f=d(f,b));else if(f&&typeof f.handleEvent=="function")f=d(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:a.setTimeout(f,v||0)}function H(f){f.g=$(()=>{f.g=null,f.i&&(f.i=!1,H(f))},f.l);const v=f.h;f.h=null,f.m.apply(null,v)}class G extends at{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:H(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rt(f){at.call(this),this.h=f,this.g={}}g(rt,at);var bt=[];function Lt(f){D(f.g,function(v,b){this.g.hasOwnProperty(b)&&ot(v)},f),f.g={}}rt.prototype.N=function(){rt.aa.N.call(this),Lt(this)},rt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Kt=a.JSON.stringify,Xt=a.JSON.parse,ge=class{stringify(f){return a.JSON.stringify(f,void 0)}parse(f){return a.JSON.parse(f,void 0)}};function Ft(){}Ft.prototype.h=null;function Nt(f){return f.h||(f.h=f.i())}function $t(){}var ee={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ae(){ut.call(this,"d")}g(ae,ut);function mn(){ut.call(this,"c")}g(mn,ut);var qs={},Yh=null;function $i(){return Yh=Yh||new St}qs.La="serverreachability";function QE(f){ut.call(this,qs.La,f)}g(QE,ut);function Sc(f){const v=$i();kt(v,new QE(v))}qs.STAT_EVENT="statevent";function JE(f,v){ut.call(this,qs.STAT_EVENT,f),this.stat=v}g(JE,ut);function Yn(f){const v=$i();kt(v,new JE(v,f))}qs.Ma="timingevent";function ZE(f,v){ut.call(this,qs.Ma,f),this.size=v}g(ZE,ut);function wc(f,v){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){f()},v)}function Ac(){this.g=!0}Ac.prototype.xa=function(){this.g=!1};function UD(f,v,b,k,W,q){f.info(function(){if(f.g)if(q)for(var Et="",Re=q.split("&"),En=0;En<Re.length;En++){var ye=Re[En].split("=");if(1<ye.length){var Nn=ye[0];ye=ye[1];var Dn=Nn.split("_");Et=2<=Dn.length&&Dn[1]=="type"?Et+(Nn+"="+ye+"&"):Et+(Nn+"=redacted&")}}else Et=null;else Et=q;return"XMLHTTP REQ ("+k+") [attempt "+W+"]: "+v+`
`+b+`
`+Et})}function BD(f,v,b,k,W,q,Et){f.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+W+"]: "+v+`
`+b+`
`+q+" "+Et})}function ja(f,v,b,k){f.info(function(){return"XMLHTTP TEXT ("+v+"): "+HD(f,b)+(k?" "+k:"")})}function jD(f,v){f.info(function(){return"TIMEOUT: "+v})}Ac.prototype.info=function(){};function HD(f,v){if(!f.g)return v;if(!v)return null;try{var b=JSON.parse(v);if(b){for(f=0;f<b.length;f++)if(Array.isArray(b[f])){var k=b[f];if(!(2>k.length)){var W=k[1];if(Array.isArray(W)&&!(1>W.length)){var q=W[0];if(q!="noop"&&q!="stop"&&q!="close")for(var Et=1;Et<W.length;Et++)W[Et]=""}}}}return Kt(b)}catch{return v}}var qh={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},tT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pm;function Qh(){}g(Qh,Ft),Qh.prototype.g=function(){return new XMLHttpRequest},Qh.prototype.i=function(){return{}},pm=new Qh;function Rr(f,v,b,k){this.j=f,this.i=v,this.l=b,this.R=k||1,this.U=new rt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new eT}function eT(){this.i=null,this.g="",this.h=!1}var nT={},gm={};function mm(f,v,b){f.L=1,f.v=ef(Ui(v)),f.m=b,f.P=!0,sT(f,null)}function sT(f,v){f.F=Date.now(),Jh(f),f.A=Ui(f.v);var b=f.A,k=f.R;Array.isArray(k)||(k=[String(k)]),vT(b.i,"t",k),f.C=0,b=f.j.J,f.h=new eT,f.g=MT(f.j,b?v:null,!f.m),0<f.O&&(f.M=new G(d(f.Y,f,f.g),f.O)),v=f.U,b=f.g,k=f.ca;var W="readystatechange";Array.isArray(W)||(W&&(bt[0]=W.toString()),W=bt);for(var q=0;q<W.length;q++){var Et=Z(b,W[q],k||v.handleEvent,!1,v.h||v);if(!Et)break;v.g[Et.key]=Et}v=f.H?T(f.H):{},f.m?(f.u||(f.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,v)):(f.u="GET",f.g.ea(f.A,f.u,null,v)),Sc(),UD(f.i,f.u,f.A,f.l,f.R,f.m)}Rr.prototype.ca=function(f){f=f.target;const v=this.M;v&&Bi(f)==3?v.j():this.Y(f)},Rr.prototype.Y=function(f){try{if(f==this.g)t:{const Dn=Bi(this.g);var v=this.g.Ba();const Wa=this.g.Z();if(!(3>Dn)&&(Dn!=3||this.g&&(this.h.h||this.g.oa()||wT(this.g)))){this.J||Dn!=4||v==7||(v==8||0>=Wa?Sc(3):Sc(2)),vm(this);var b=this.g.Z();this.X=b;e:if(iT(this)){var k=wT(this.g);f="";var W=k.length,q=Bi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fo(this),Ic(this);var Et="";break e}this.h.i=new a.TextDecoder}for(v=0;v<W;v++)this.h.h=!0,f+=this.h.i.decode(k[v],{stream:!(q&&v==W-1)});k.length=0,this.h.g+=f,this.C=0,Et=this.h.g}else Et=this.g.oa();if(this.o=b==200,BD(this.i,this.u,this.A,this.l,this.R,Dn,b),this.o){if(this.T&&!this.K){e:{if(this.g){var Re,En=this.g;if((Re=En.g?En.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(Re)){var ye=Re;break e}}ye=null}if(b=ye)ja(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ym(this,b);else{this.o=!1,this.s=3,Yn(12),Fo(this),Ic(this);break t}}if(this.P){b=!0;let Qs;for(;!this.J&&this.C<Et.length;)if(Qs=zD(this,Et),Qs==gm){Dn==4&&(this.s=4,Yn(14),b=!1),ja(this.i,this.l,null,"[Incomplete Response]");break}else if(Qs==nT){this.s=4,Yn(15),ja(this.i,this.l,Et,"[Invalid Chunk]"),b=!1;break}else ja(this.i,this.l,Qs,null),ym(this,Qs);if(iT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dn!=4||Et.length!=0||this.h.h||(this.s=1,Yn(16),b=!1),this.o=this.o&&b,!b)ja(this.i,this.l,Et,"[Invalid Chunked Response]"),Fo(this),Ic(this);else if(0<Et.length&&!this.W){this.W=!0;var Nn=this.j;Nn.g==this&&Nn.ba&&!Nn.M&&(Nn.j.info("Great, no buffering proxy detected. Bytes received: "+Et.length),wm(Nn),Nn.M=!0,Yn(11))}}else ja(this.i,this.l,Et,null),ym(this,Et);Dn==4&&Fo(this),this.o&&!this.J&&(Dn==4?OT(this.j,this):(this.o=!1,Jh(this)))}else ak(this.g),b==400&&0<Et.indexOf("Unknown SID")?(this.s=3,Yn(12)):(this.s=0,Yn(13)),Fo(this),Ic(this)}}}catch{}finally{}};function iT(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function zD(f,v){var b=f.C,k=v.indexOf(`
`,b);return k==-1?gm:(b=Number(v.substring(b,k)),isNaN(b)?nT:(k+=1,k+b>v.length?gm:(v=v.slice(k,k+b),f.C=k+b,v)))}Rr.prototype.cancel=function(){this.J=!0,Fo(this)};function Jh(f){f.S=Date.now()+f.I,rT(f,f.I)}function rT(f,v){if(f.B!=null)throw Error("WatchDog timer not null");f.B=wc(d(f.ba,f),v)}function vm(f){f.B&&(a.clearTimeout(f.B),f.B=null)}Rr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(jD(this.i,this.A),this.L!=2&&(Sc(),Yn(17)),Fo(this),this.s=2,Ic(this)):rT(this,this.S-f)};function Ic(f){f.j.G==0||f.J||OT(f.j,f)}function Fo(f){vm(f);var v=f.M;v&&typeof v.ma=="function"&&v.ma(),f.M=null,Lt(f.U),f.g&&(v=f.g,f.g=null,v.abort(),v.ma())}function ym(f,v){try{var b=f.j;if(b.G!=0&&(b.g==f||_m(b.h,f))){if(!f.K&&_m(b.h,f)&&b.G==3){try{var k=b.Da.g.parse(v)}catch{k=null}if(Array.isArray(k)&&k.length==3){var W=k;if(W[0]==0){t:if(!b.u){if(b.g)if(b.g.F+3e3<f.F)lf(b),of(b);else break t;Sm(b),Yn(18)}}else b.za=W[1],0<b.za-b.T&&37500>W[2]&&b.F&&b.v==0&&!b.C&&(b.C=wc(d(b.Za,b),6e3));if(1>=lT(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Uo(b,11)}else if((f.K||b.g==f)&&lf(b),!A(v))for(W=b.Da.g.parse(v),v=0;v<W.length;v++){let ye=W[v];if(b.T=ye[0],ye=ye[1],b.G==2)if(ye[0]=="c"){b.K=ye[1],b.ia=ye[2];const Nn=ye[3];Nn!=null&&(b.la=Nn,b.j.info("VER="+b.la));const Dn=ye[4];Dn!=null&&(b.Aa=Dn,b.j.info("SVER="+b.Aa));const Wa=ye[5];Wa!=null&&typeof Wa=="number"&&0<Wa&&(k=1.5*Wa,b.L=k,b.j.info("backChannelRequestTimeoutMs_="+k)),k=b;const Qs=f.g;if(Qs){const uf=Qs.g?Qs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(uf){var q=k.h;q.g||uf.indexOf("spdy")==-1&&uf.indexOf("quic")==-1&&uf.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(bm(q,q.h),q.h=null))}if(k.D){const Am=Qs.g?Qs.g.getResponseHeader("X-HTTP-Session-Id"):null;Am&&(k.ya=Am,Ve(k.I,k.D,Am))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-f.F,b.j.info("Handshake RTT: "+b.R+"ms")),k=b;var Et=f;if(k.qa=kT(k,k.J?k.ia:null,k.W),Et.K){cT(k.h,Et);var Re=Et,En=k.L;En&&(Re.I=En),Re.B&&(vm(Re),Jh(Re)),k.g=Et}else PT(k);0<b.i.length&&af(b)}else ye[0]!="stop"&&ye[0]!="close"||Uo(b,7);else b.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?Uo(b,7):Tm(b):ye[0]!="noop"&&b.l&&b.l.ta(ye),b.v=0)}}Sc(4)}catch{}}var WD=class{constructor(f,v){this.g=f,this.map=v}};function oT(f){this.l=f||10,a.PerformanceNavigationTiming?(f=a.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function aT(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function lT(f){return f.h?1:f.g?f.g.size:0}function _m(f,v){return f.h?f.h==v:f.g?f.g.has(v):!1}function bm(f,v){f.g?f.g.add(v):f.h=v}function cT(f,v){f.h&&f.h==v?f.h=null:f.g&&f.g.has(v)&&f.g.delete(v)}oT.prototype.cancel=function(){if(this.i=uT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function uT(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let v=f.i;for(const b of f.g.values())v=v.concat(b.D);return v}return m(f.i)}function KD(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(l(f)){for(var v=[],b=f.length,k=0;k<b;k++)v.push(f[k]);return v}v=[],b=0;for(k in f)v[b++]=f[k];return v}function GD(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(l(f)||typeof f=="string"){var v=[];f=f.length;for(var b=0;b<f;b++)v.push(b);return v}v=[],b=0;for(const k in f)v[b++]=k;return v}}}function hT(f,v){if(f.forEach&&typeof f.forEach=="function")f.forEach(v,void 0);else if(l(f)||typeof f=="string")Array.prototype.forEach.call(f,v,void 0);else for(var b=GD(f),k=KD(f),W=k.length,q=0;q<W;q++)v.call(void 0,k[q],b&&b[q],f)}var fT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function XD(f,v){if(f){f=f.split("&");for(var b=0;b<f.length;b++){var k=f[b].indexOf("="),W=null;if(0<=k){var q=f[b].substring(0,k);W=f[b].substring(k+1)}else q=f[b];v(q,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function $o(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof $o){this.h=f.h,Zh(this,f.j),this.o=f.o,this.g=f.g,tf(this,f.s),this.l=f.l;var v=f.i,b=new Pc;b.i=v.i,v.g&&(b.g=new Map(v.g),b.h=v.h),dT(this,b),this.m=f.m}else f&&(v=String(f).match(fT))?(this.h=!1,Zh(this,v[1]||"",!0),this.o=Cc(v[2]||""),this.g=Cc(v[3]||"",!0),tf(this,v[4]),this.l=Cc(v[5]||"",!0),dT(this,v[6]||"",!0),this.m=Cc(v[7]||"")):(this.h=!1,this.i=new Pc(null,this.h))}$o.prototype.toString=function(){var f=[],v=this.j;v&&f.push(xc(v,pT,!0),":");var b=this.g;return(b||v=="file")&&(f.push("//"),(v=this.o)&&f.push(xc(v,pT,!0),"@"),f.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&f.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(xc(b,b.charAt(0)=="/"?QD:qD,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",xc(b,ZD)),f.join("")};function Ui(f){return new $o(f)}function Zh(f,v,b){f.j=b?Cc(v,!0):v,f.j&&(f.j=f.j.replace(/:$/,""))}function tf(f,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);f.s=v}else f.s=null}function dT(f,v,b){v instanceof Pc?(f.i=v,tk(f.i,f.h)):(b||(v=xc(v,JD)),f.i=new Pc(v,f.h))}function Ve(f,v,b){f.i.set(v,b)}function ef(f){return Ve(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Cc(f,v){return f?v?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function xc(f,v,b){return typeof f=="string"?(f=encodeURI(f).replace(v,YD),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function YD(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var pT=/[#\/\?@]/g,qD=/[#\?:]/g,QD=/[#\?]/g,JD=/[#\?@]/g,ZD=/#/g;function Pc(f,v){this.h=this.g=null,this.i=f||null,this.j=!!v}function Or(f){f.g||(f.g=new Map,f.h=0,f.i&&XD(f.i,function(v,b){f.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}e=Pc.prototype,e.add=function(f,v){Or(this),this.i=null,f=Ha(this,f);var b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(v),this.h+=1,this};function gT(f,v){Or(f),v=Ha(f,v),f.g.has(v)&&(f.i=null,f.h-=f.g.get(v).length,f.g.delete(v))}function mT(f,v){return Or(f),v=Ha(f,v),f.g.has(v)}e.forEach=function(f,v){Or(this),this.g.forEach(function(b,k){b.forEach(function(W){f.call(v,W,k,this)},this)},this)},e.na=function(){Or(this);const f=Array.from(this.g.values()),v=Array.from(this.g.keys()),b=[];for(let k=0;k<v.length;k++){const W=f[k];for(let q=0;q<W.length;q++)b.push(v[k])}return b},e.V=function(f){Or(this);let v=[];if(typeof f=="string")mT(this,f)&&(v=v.concat(this.g.get(Ha(this,f))));else{f=Array.from(this.g.values());for(let b=0;b<f.length;b++)v=v.concat(f[b])}return v},e.set=function(f,v){return Or(this),this.i=null,f=Ha(this,f),mT(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[v]),this.h+=1,this},e.get=function(f,v){return f?(f=this.V(f),0<f.length?String(f[0]):v):v};function vT(f,v,b){gT(f,v),0<b.length&&(f.i=null,f.g.set(Ha(f,v),m(b)),f.h+=b.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],v=Array.from(this.g.keys());for(var b=0;b<v.length;b++){var k=v[b];const q=encodeURIComponent(String(k)),Et=this.V(k);for(k=0;k<Et.length;k++){var W=q;Et[k]!==""&&(W+="="+encodeURIComponent(String(Et[k]))),f.push(W)}}return this.i=f.join("&")};function Ha(f,v){return v=String(v),f.j&&(v=v.toLowerCase()),v}function tk(f,v){v&&!f.j&&(Or(f),f.i=null,f.g.forEach(function(b,k){var W=k.toLowerCase();k!=W&&(gT(this,k),vT(this,W,b))},f)),f.j=v}function ek(f,v){const b=new Ac;if(a.Image){const k=new Image;k.onload=p(Nr,b,"TestLoadImage: loaded",!0,v,k),k.onerror=p(Nr,b,"TestLoadImage: error",!1,v,k),k.onabort=p(Nr,b,"TestLoadImage: abort",!1,v,k),k.ontimeout=p(Nr,b,"TestLoadImage: timeout",!1,v,k),a.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=f}else v(!1)}function nk(f,v){const b=new Ac,k=new AbortController,W=setTimeout(()=>{k.abort(),Nr(b,"TestPingServer: timeout",!1,v)},1e4);fetch(f,{signal:k.signal}).then(q=>{clearTimeout(W),q.ok?Nr(b,"TestPingServer: ok",!0,v):Nr(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(W),Nr(b,"TestPingServer: error",!1,v)})}function Nr(f,v,b,k,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),k(b)}catch{}}function sk(){this.g=new ge}function ik(f,v,b){const k=b||"";try{hT(f,function(W,q){let Et=W;c(W)&&(Et=Kt(W)),v.push(k+q+"="+encodeURIComponent(Et))})}catch(W){throw v.push(k+"type="+encodeURIComponent("_badmap")),W}}function nf(f){this.l=f.Ub||null,this.j=f.eb||!1}g(nf,Ft),nf.prototype.g=function(){return new sf(this.l,this.j)},nf.prototype.i=function(f){return function(){return f}}({});function sf(f,v){St.call(this),this.D=f,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(sf,St),e=sf.prototype,e.open=function(f,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=v,this.readyState=1,Oc(this)},e.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(v.body=f),(this.D||a).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rc(this)),this.readyState=0},e.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Oc(this)),this.g&&(this.readyState=3,Oc(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;yT(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function yT(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}e.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var v=f.value?f.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!f.done}))&&(this.response=this.responseText+=v)}f.done?Rc(this):Oc(this),this.readyState==3&&yT(this)}},e.Ra=function(f){this.g&&(this.response=this.responseText=f,Rc(this))},e.Qa=function(f){this.g&&(this.response=f,Rc(this))},e.ga=function(){this.g&&Rc(this)};function Rc(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Oc(f)}e.setRequestHeader=function(f,v){this.u.append(f,v)},e.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=v.next();return f.join(`\r
`)};function Oc(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(sf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function _T(f){let v="";return D(f,function(b,k){v+=k,v+=":",v+=b,v+=`\r
`}),v}function Em(f,v,b){t:{for(k in b){var k=!1;break t}k=!0}k||(b=_T(b),typeof f=="string"?b!=null&&encodeURIComponent(String(b)):Ve(f,v,b))}function Xe(f){St.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(Xe,St);var rk=/^https?$/i,ok=["POST","PUT"];e=Xe.prototype,e.Ha=function(f){this.J=f},e.ea=function(f,v,b,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);v=v?v.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pm.g(),this.v=this.o?Nt(this.o):Nt(pm),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(v,String(f),!0),this.B=!1}catch(q){bT(this,q);return}if(f=b||"",b=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var W in k)b.set(W,k[W]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const q of k.keys())b.set(q,k.get(q));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(b.keys()).find(q=>q.toLowerCase()=="content-type"),W=a.FormData&&f instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ok,v,void 0))||k||W||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,Et]of b)this.g.setRequestHeader(q,Et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ST(this),this.u=!0,this.g.send(f),this.u=!1}catch(q){bT(this,q)}};function bT(f,v){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=v,f.m=5,ET(f),rf(f)}function ET(f){f.A||(f.A=!0,kt(f,"complete"),kt(f,"error"))}e.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,kt(this,"complete"),kt(this,"abort"),rf(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rf(this,!0)),Xe.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?TT(this):this.bb())},e.bb=function(){TT(this)};function TT(f){if(f.h&&typeof o<"u"&&(!f.v[1]||Bi(f)!=4||f.Z()!=2)){if(f.u&&Bi(f)==4)$(f.Ea,0,f);else if(kt(f,"readystatechange"),Bi(f)==4){f.h=!1;try{const Et=f.Z();t:switch(Et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var b;if(!(b=v)){var k;if(k=Et===0){var W=String(f.D).match(fT)[1]||null;!W&&a.self&&a.self.location&&(W=a.self.location.protocol.slice(0,-1)),k=!rk.test(W?W.toLowerCase():"")}b=k}if(b)kt(f,"complete"),kt(f,"success");else{f.m=6;try{var q=2<Bi(f)?f.g.statusText:""}catch{q=""}f.l=q+" ["+f.Z()+"]",ET(f)}}finally{rf(f)}}}}function rf(f,v){if(f.g){ST(f);const b=f.g,k=f.v[0]?()=>{}:null;f.g=null,f.v=null,v||kt(f,"ready");try{b.onreadystatechange=k}catch{}}}function ST(f){f.I&&(a.clearTimeout(f.I),f.I=null)}e.isActive=function(){return!!this.g};function Bi(f){return f.g?f.g.readyState:0}e.Z=function(){try{return 2<Bi(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(f){if(this.g){var v=this.g.responseText;return f&&v.indexOf(f)==0&&(v=v.substring(f.length)),Xt(v)}};function wT(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ak(f){const v={};f=(f.g&&2<=Bi(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<f.length;k++){if(A(f[k]))continue;var b=P(f[k]);const W=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const q=v[W]||[];v[W]=q,q.push(b)}x(v,function(k){return k.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nc(f,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||v}function AT(f){this.Aa=0,this.i=[],this.j=new Ac,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Nc("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Nc("baseRetryDelayMs",5e3,f),this.cb=Nc("retryDelaySeedMs",1e4,f),this.Wa=Nc("forwardChannelMaxRetries",2,f),this.wa=Nc("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new oT(f&&f.concurrentRequestLimit),this.Da=new sk,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=AT.prototype,e.la=8,e.G=1,e.connect=function(f,v,b,k){Yn(0),this.W=f,this.H=v||{},b&&k!==void 0&&(this.H.OSID=b,this.H.OAID=k),this.F=this.X,this.I=kT(this,null,this.W),af(this)};function Tm(f){if(IT(f),f.G==3){var v=f.U++,b=Ui(f.I);if(Ve(b,"SID",f.K),Ve(b,"RID",v),Ve(b,"TYPE","terminate"),Dc(f,b),v=new Rr(f,f.j,v),v.L=2,v.v=ef(Ui(b)),b=!1,a.navigator&&a.navigator.sendBeacon)try{b=a.navigator.sendBeacon(v.v.toString(),"")}catch{}!b&&a.Image&&(new Image().src=v.v,b=!0),b||(v.g=MT(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Jh(v)}DT(f)}function of(f){f.g&&(wm(f),f.g.cancel(),f.g=null)}function IT(f){of(f),f.u&&(a.clearTimeout(f.u),f.u=null),lf(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&a.clearTimeout(f.s),f.s=null)}function af(f){if(!aT(f.h)&&!f.s){f.s=!0;var v=f.Ga;K||U(),tt||(K(),tt=!0),Pt.add(v,f),f.B=0}}function lk(f,v){return lT(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=v.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=wc(d(f.Ga,f,v),NT(f,f.B)),f.B++,!0)}e.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const W=new Rr(this,this.j,f);let q=this.o;if(this.S&&(q?(q=T(q),S(q,this.S)):q=this.S),this.m!==null||this.O||(W.H=q,q=null),this.P)t:{for(var v=0,b=0;b<this.i.length;b++){e:{var k=this.i[b];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break e}k=void 0}if(k===void 0)break;if(v+=k,4096<v){v=b;break t}if(v===4096||b===this.i.length-1){v=b+1;break t}}v=1e3}else v=1e3;v=xT(this,W,v),b=Ui(this.I),Ve(b,"RID",f),Ve(b,"CVER",22),this.D&&Ve(b,"X-HTTP-Session-Id",this.D),Dc(this,b),q&&(this.O?v="headers="+encodeURIComponent(String(_T(q)))+"&"+v:this.m&&Em(b,this.m,q)),bm(this.h,W),this.Ua&&Ve(b,"TYPE","init"),this.P?(Ve(b,"$req",v),Ve(b,"SID","null"),W.T=!0,mm(W,b,null)):mm(W,b,v),this.G=2}}else this.G==3&&(f?CT(this,f):this.i.length==0||aT(this.h)||CT(this))};function CT(f,v){var b;v?b=v.l:b=f.U++;const k=Ui(f.I);Ve(k,"SID",f.K),Ve(k,"RID",b),Ve(k,"AID",f.T),Dc(f,k),f.m&&f.o&&Em(k,f.m,f.o),b=new Rr(f,f.j,b,f.B+1),f.m===null&&(b.H=f.o),v&&(f.i=v.D.concat(f.i)),v=xT(f,b,1e3),b.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),bm(f.h,b),mm(b,k,v)}function Dc(f,v){f.H&&D(f.H,function(b,k){Ve(v,k,b)}),f.l&&hT({},function(b,k){Ve(v,k,b)})}function xT(f,v,b){b=Math.min(f.i.length,b);var k=f.l?d(f.l.Na,f.l,f):null;t:{var W=f.i;let q=-1;for(;;){const Et=["count="+b];q==-1?0<b?(q=W[0].g,Et.push("ofs="+q)):q=0:Et.push("ofs="+q);let Re=!0;for(let En=0;En<b;En++){let ye=W[En].g;const Nn=W[En].map;if(ye-=q,0>ye)q=Math.max(0,W[En].g-100),Re=!1;else try{ik(Nn,Et,"req"+ye+"_")}catch{k&&k(Nn)}}if(Re){k=Et.join("&");break t}}}return f=f.i.splice(0,b),v.D=f,k}function PT(f){if(!f.g&&!f.u){f.Y=1;var v=f.Fa;K||U(),tt||(K(),tt=!0),Pt.add(v,f),f.v=0}}function Sm(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=wc(d(f.Fa,f),NT(f,f.v)),f.v++,!0)}e.Fa=function(){if(this.u=null,RT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=wc(d(this.ab,this),f)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Yn(10),of(this),RT(this))};function wm(f){f.A!=null&&(a.clearTimeout(f.A),f.A=null)}function RT(f){f.g=new Rr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var v=Ui(f.qa);Ve(v,"RID","rpc"),Ve(v,"SID",f.K),Ve(v,"AID",f.T),Ve(v,"CI",f.F?"0":"1"),!f.F&&f.ja&&Ve(v,"TO",f.ja),Ve(v,"TYPE","xmlhttp"),Dc(f,v),f.m&&f.o&&Em(v,f.m,f.o),f.L&&(f.g.I=f.L);var b=f.g;f=f.ia,b.L=1,b.v=ef(Ui(v)),b.m=null,b.P=!0,sT(b,f)}e.Za=function(){this.C!=null&&(this.C=null,of(this),Sm(this),Yn(19))};function lf(f){f.C!=null&&(a.clearTimeout(f.C),f.C=null)}function OT(f,v){var b=null;if(f.g==v){lf(f),wm(f),f.g=null;var k=2}else if(_m(f.h,v))b=v.D,cT(f.h,v),k=1;else return;if(f.G!=0){if(v.o)if(k==1){b=v.m?v.m.length:0,v=Date.now()-v.F;var W=f.B;k=$i(),kt(k,new ZE(k,b)),af(f)}else PT(f);else if(W=v.s,W==3||W==0&&0<v.X||!(k==1&&lk(f,v)||k==2&&Sm(f)))switch(b&&0<b.length&&(v=f.h,v.i=v.i.concat(b)),W){case 1:Uo(f,5);break;case 4:Uo(f,10);break;case 3:Uo(f,6);break;default:Uo(f,2)}}}function NT(f,v){let b=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(b*=2),b*v}function Uo(f,v){if(f.j.info("Error code "+v),v==2){var b=d(f.fb,f),k=f.Xa;const W=!k;k=new $o(k||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Zh(k,"https"),ef(k),W?ek(k.toString(),b):nk(k.toString(),b)}else Yn(2);f.G=0,f.l&&f.l.sa(v),DT(f),IT(f)}e.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Yn(2)):(this.j.info("Failed to ping google.com"),Yn(1))};function DT(f){if(f.G=0,f.ka=[],f.l){const v=uT(f.h);(v.length!=0||f.i.length!=0)&&(y(f.ka,v),y(f.ka,f.i),f.h.i.length=0,m(f.i),f.i.length=0),f.l.ra()}}function kT(f,v,b){var k=b instanceof $o?Ui(b):new $o(b);if(k.g!="")v&&(k.g=v+"."+k.g),tf(k,k.s);else{var W=a.location;k=W.protocol,v=v?v+"."+W.hostname:W.hostname,W=+W.port;var q=new $o(null);k&&Zh(q,k),v&&(q.g=v),W&&tf(q,W),b&&(q.l=b),k=q}return b=f.D,v=f.ya,b&&v&&Ve(k,b,v),Ve(k,"VER",f.la),Dc(f,k),k}function MT(f,v,b){if(v&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=f.Ca&&!f.pa?new Xe(new nf({eb:b})):new Xe(f.pa),v.Ha(f.J),v}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function LT(){}e=LT.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function cf(){}cf.prototype.g=function(f,v){return new Ts(f,v)};function Ts(f,v){St.call(this),this.g=new AT(v),this.l=f,this.h=v&&v.messageUrlParams||null,f=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(f?f["X-WebChannel-Content-Type"]=v.messageContentType:f={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(f?f["X-WebChannel-Client-Profile"]=v.va:f={"X-WebChannel-Client-Profile":v.va}),this.g.S=f,(f=v&&v.Sb)&&!A(f)&&(this.g.m=f),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!A(v)&&(this.g.D=v,f=this.h,f!==null&&v in f&&(f=this.h,v in f&&delete f[v])),this.j=new za(this)}g(Ts,St),Ts.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ts.prototype.close=function(){Tm(this.g)},Ts.prototype.o=function(f){var v=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.u&&(b={},b.__data__=Kt(f),f=b);v.i.push(new WD(v.Ya++,f)),v.G==3&&af(v)},Ts.prototype.N=function(){this.g.l=null,delete this.j,Tm(this.g),delete this.g,Ts.aa.N.call(this)};function VT(f){ae.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var v=f.__sm__;if(v){t:{for(const b in v){f=b;break t}f=void 0}(this.i=f)&&(f=this.i,v=v!==null&&f in v?v[f]:void 0),this.data=v}else this.data=f}g(VT,ae);function FT(){mn.call(this),this.status=1}g(FT,mn);function za(f){this.g=f}g(za,LT),za.prototype.ua=function(){kt(this.g,"a")},za.prototype.ta=function(f){kt(this.g,new VT(f))},za.prototype.sa=function(f){kt(this.g,new FT)},za.prototype.ra=function(){kt(this.g,"b")},cf.prototype.createWebChannel=cf.prototype.g,Ts.prototype.send=Ts.prototype.o,Ts.prototype.open=Ts.prototype.m,Ts.prototype.close=Ts.prototype.close,fP=function(){return new cf},hP=function(){return $i()},uP=qs,Ey={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qh.NO_ERROR=0,qh.TIMEOUT=8,qh.HTTP_ERROR=6,hd=qh,tT.COMPLETE="complete",cP=tT,$t.EventType=ee,ee.OPEN="a",ee.CLOSE="b",ee.ERROR="c",ee.MESSAGE="d",St.prototype.listen=St.prototype.K,Zc=$t,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,lP=Xe}).apply(typeof Tf<"u"?Tf:typeof self<"u"?self:typeof window<"u"?window:{});const _w="@firebase/firestore",bw="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$n.UNAUTHENTICATED=new $n(null),$n.GOOGLE_CREDENTIALS=new $n("google-credentials-uid"),$n.FIRST_PARTY=new $n("first-party-uid"),$n.MOCK_USER=new $n("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cc="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa=new L_("@firebase/firestore");function rl(){return wa.logLevel}function Ot(e,...t){if(wa.logLevel<=fe.DEBUG){const n=t.map(Q_);wa.debug(`Firestore (${cc}): ${e}`,...n)}}function br(e,...t){if(wa.logLevel<=fe.ERROR){const n=t.map(Q_);wa.error(`Firestore (${cc}): ${e}`,...n)}}function Ml(e,...t){if(wa.logLevel<=fe.WARN){const n=t.map(Q_);wa.warn(`Firestore (${cc}): ${e}`,...n)}}function Q_(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,dP(e,s,n)}function dP(e,t,n){let s=`FIRESTORE (${cc}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw br(s),new Error(s)}function Ie(e,t,n,s){let i="Unexpected state";typeof n=="string"?i=n:s=n,e||dP(t,i,s)}function Jt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends Ir{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class p3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n($n.UNAUTHENTICATED))}shutdown(){}}class g3{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class m3{constructor(t){this.t=t,this.currentUser=$n.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Ie(this.o===void 0,42304);let s=this.i;const i=l=>this.i!==s?(s=this.i,n(l)):Promise.resolve();let r=new rr;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new rr,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=r;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new rr)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(Ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ie(typeof s.accessToken=="string",31837,{l:s}),new pP(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ie(t===null||typeof t=="string",2055,{h:t}),new $n(t)}}class v3{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=$n.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class y3{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new v3(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable(()=>n($n.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ew{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _3{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Cs(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Ie(this.o===void 0,3512);const s=r=>{r.error!=null&&Ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.m;return this.m=r.token,Ot("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{t.enqueueRetryable(()=>s(r))};const i=r=>{Ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>i(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?i(r):Ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ew(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Ie(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ew(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<e;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const i=b3(40);for(let r=0;r<i.length;++r)s.length<20&&i[r]<n&&(s+=t.charAt(i[r]%62))}return s}}function de(e,t){return e<t?-1:e>t?1:0}function Ty(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const i=e.charAt(s),r=t.charAt(s);if(i!==r)return Ym(i)===Ym(r)?de(i,r):Ym(i)?1:-1}return de(e.length,t.length)}const E3=55296,T3=57343;function Ym(e){const t=e.charCodeAt(0);return t>=E3&&t<=T3}function Ll(e,t,n){return e.length===t.length&&e.every((s,i)=>n(s,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="__name__";class Ei{constructor(t,n,s){n===void 0?n=0:n>t.length&&Wt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Wt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Ei.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ei?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let i=0;i<s;i++){const r=Ei.compareSegments(t.get(i),n.get(i));if(r!==0)return r}return de(t.length,n.length)}static compareSegments(t,n){const s=Ei.isNumericId(t),i=Ei.isNumericId(n);return s&&!i?-1:!s&&i?1:s&&i?Ei.extractNumericId(t).compare(Ei.extractNumericId(n)):Ty(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return lo.fromString(t.substring(4,t.length-2))}}class Me extends Ei{construct(t,n,s){return new Me(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new Ct(nt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(i=>i.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const S3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cn extends Ei{construct(t,n,s){return new Cn(t,n,s)}static isValidIdentifier(t){return S3.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Tw}static keyField(){return new Cn([Tw])}static fromServerFormat(t){const n=[];let s="",i=0;const r=()=>{if(s.length===0)throw new Ct(nt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new Ct(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ct(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(s+=a,i++):(r(),i++)}if(r(),o)throw new Ct(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Cn(n)}static emptyPath(){return new Cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(t){this.path=t}static fromPath(t){return new Vt(Me.fromString(t))}static fromName(t){return new Vt(Me.fromString(t).popFirst(5))}static empty(){return new Vt(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Me.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Me.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Vt(new Me(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(e,t,n){if(!n)throw new Ct(nt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function w3(e,t,n,s){if(t===!0&&s===!0)throw new Ct(nt.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Sw(e){if(!Vt.isDocumentKey(e))throw new Ct(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ww(e){if(Vt.isDocumentKey(e))throw new Ct(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function mP(e){return typeof e=="object"&&e!==null&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function gg(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Wt(12329,{type:typeof e})}function _s(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ct(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gg(e);throw new Ct(nt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(e,t){const n={typeString:e};return t&&(n.value=t),n}function xh(e,t){if(!mP(e))throw new Ct(nt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const i=t[s].typeString,r="value"in t[s]?{value:t[s].value}:void 0;if(!(s in e)){n=`JSON missing required field: '${s}'`;break}const o=e[s];if(i&&typeof o!==i){n=`JSON field '${s}' must be a ${i}.`;break}if(r!==void 0&&o!==r.value){n=`Expected '${s}' field to equal '${r.value}'`;break}}if(n)throw new Ct(nt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=-62135596800,Iw=1e6;class $e{static now(){return $e.fromMillis(Date.now())}static fromDate(t){return $e.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Iw);return new $e(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Ct(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ct(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<Aw)throw new Ct(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ct(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Iw}_compareTo(t){return this.seconds===t.seconds?de(this.nanoseconds,t.nanoseconds):de(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:$e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(xh(t,$e._jsonSchema))return new $e(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Aw;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}$e._jsonSchemaVersion="firestore/timestamp/1.0",$e._jsonSchema={type:un("string",$e._jsonSchemaVersion),seconds:un("number"),nanoseconds:un("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{static fromTimestamp(t){return new Yt(t)}static min(){return new Yt(new $e(0,0))}static max(){return new Yt(new $e(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qu=-1;function A3(e,t){const n=e.toTimestamp().seconds,s=e.toTimestamp().nanoseconds+1,i=Yt.fromTimestamp(s===1e9?new $e(n+1,0):new $e(n,s));return new mo(i,Vt.empty(),t)}function I3(e){return new mo(e.readTime,e.key,qu)}class mo{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new mo(Yt.min(),Vt.empty(),qu)}static max(){return new mo(Yt.max(),Vt.empty(),qu)}}function C3(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Vt.comparator(e.documentKey,t.documentKey),n!==0?n:de(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class P3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uc(e){if(e.code!==nt.FAILED_PRECONDITION||e.message!==x3)throw e;Ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Wt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new lt((s,i)=>{this.nextCallback=r=>{this.wrapSuccess(t,r).next(s,i)},this.catchCallback=r=>{this.wrapFailure(n,r).next(s,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof lt?n:lt.resolve(n)}catch(n){return lt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):lt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):lt.reject(n)}static resolve(t){return new lt((n,s)=>{n(t)})}static reject(t){return new lt((n,s)=>{s(t)})}static waitFor(t){return new lt((n,s)=>{let i=0,r=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++r,o&&r===i&&n()},l=>s(l))}),o=!0,r===i&&n()})}static or(t){let n=lt.resolve(!1);for(const s of t)n=n.next(i=>i?lt.resolve(i):s());return n}static forEach(t,n){const s=[];return t.forEach((i,r)=>{s.push(n.call(this,i,r))}),this.waitFor(s)}static mapArray(t,n){return new lt((s,i)=>{const r=t.length,o=new Array(r);let a=0;for(let l=0;l<r;l++){const c=l;n(t[c]).next(u=>{o[c]=u,++a,a===r&&s(o)},u=>i(u))}})}static doWhile(t,n){return new lt((s,i)=>{const r=()=>{t()===!0?n().next(()=>{r()},i):s()};r()})}}function R3(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hc(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}mg.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=-1;function vg(e){return e==null}function op(e){return e===0&&1/e==-1/0}function O3(e){return typeof e=="number"&&Number.isInteger(e)&&!op(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP="";function N3(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Cw(t)),t=D3(e.get(n),t);return Cw(t)}function D3(e,t){let n=t;const s=e.length;for(let i=0;i<s;i++){const r=e.charAt(i);switch(r){case"\0":n+="";break;case vP:n+="";break;default:n+=r}}return n}function Cw(e){return e+vP+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Do(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function yP(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t,n){this.comparator=t,this.root=n||wn.EMPTY}insert(t,n){return new Ge(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,wn.BLACK,null,null))}remove(t){return new Ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,wn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(t,s.key);if(i===0)return n+s.left.size;i<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Sf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Sf(this.root,t,this.comparator,!1)}getReverseIterator(){return new Sf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Sf(this.root,t,this.comparator,!0)}}class Sf{constructor(t,n,s,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!t.isEmpty();)if(r=n?s(t.key,n):1,n&&i&&(r*=-1),r<0)t=this.isReverse?t.left:t.right;else{if(r===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class wn{constructor(t,n,s,i,r){this.key=t,this.value=n,this.color=s??wn.RED,this.left=i??wn.EMPTY,this.right=r??wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,i,r){return new wn(t??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let i=this;const r=s(t,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(t,n,s),null):r===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return wn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return wn.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Wt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Wt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Wt(27949);return t+(this.isRed()?0:1)}}wn.EMPTY=null,wn.RED=!0,wn.BLACK=!1;wn.EMPTY=new class{constructor(){this.size=0}get key(){throw Wt(57766)}get value(){throw Wt(16141)}get color(){throw Wt(16727)}get left(){throw Wt(29726)}get right(){throw Wt(36894)}copy(t,n,s,i,r){return this}insert(t,n,s){return new wn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t){this.comparator=t,this.data=new Ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Pw(this.data.getIterator())}getIteratorFrom(t){return new Pw(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof dn)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(this.comparator(i,r)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new dn(this.comparator);return n.data=t,n}}class Pw{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(t){this.fields=t,t.sort(Cn.comparator)}static empty(){return new xs([])}unionWith(t){let n=new dn(Cn.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new xs(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Ll(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new _P("Invalid base64 string: "+r):r}}(t);return new Rn(n)}static fromUint8Array(t){const n=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new Rn(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return de(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Rn.EMPTY_BYTE_STRING=new Rn("");const k3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vo(e){if(Ie(!!e,39018),typeof e=="string"){let t=0;const n=k3.exec(e);if(Ie(!!n,46558,{timestamp:e}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const s=new Date(e);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:nn(e.seconds),nanos:nn(e.nanos)}}function nn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function yo(e){return typeof e=="string"?Rn.fromBase64String(e):Rn.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP="server_timestamp",EP="__type__",TP="__previous_value__",SP="__local_write_time__";function tb(e){return(e?.mapValue?.fields||{})[EP]?.stringValue===bP}function yg(e){const t=e.mapValue.fields[TP];return tb(t)?yg(t):t}function Qu(e){const t=vo(e.mapValue.fields[SP].timestampValue);return new $e(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M3{constructor(t,n,s,i,r,o,a,l,c,u){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=i,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const ap="(default)";class Ju{constructor(t,n){this.projectId=t,this.database=n||ap}static empty(){return new Ju("","")}get isDefaultDatabase(){return this.database===ap}isEqual(t){return t instanceof Ju&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP="__type__",L3="__max__",wf={mapValue:{}},AP="__vector__",lp="value";function _o(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?tb(e)?4:F3(e)?9007199254740991:V3(e)?10:11:Wt(28295,{value:e})}function ki(e,t){if(e===t)return!0;const n=_o(e);if(n!==_o(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Qu(e).isEqual(Qu(t));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=vo(i.timestampValue),a=vo(r.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,r){return yo(i.bytesValue).isEqual(yo(r.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,r){return nn(i.geoPointValue.latitude)===nn(r.geoPointValue.latitude)&&nn(i.geoPointValue.longitude)===nn(r.geoPointValue.longitude)}(e,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return nn(i.integerValue)===nn(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=nn(i.doubleValue),a=nn(r.doubleValue);return o===a?op(o)===op(a):isNaN(o)&&isNaN(a)}return!1}(e,t);case 9:return Ll(e.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:case 11:return function(i,r){const o=i.mapValue.fields||{},a=r.mapValue.fields||{};if(xw(o)!==xw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ki(o[l],a[l])))return!1;return!0}(e,t);default:return Wt(52216,{left:e})}}function Zu(e,t){return(e.values||[]).find(n=>ki(n,t))!==void 0}function Vl(e,t){if(e===t)return 0;const n=_o(e),s=_o(t);if(n!==s)return de(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return de(e.booleanValue,t.booleanValue);case 2:return function(r,o){const a=nn(r.integerValue||r.doubleValue),l=nn(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(e,t);case 3:return Rw(e.timestampValue,t.timestampValue);case 4:return Rw(Qu(e),Qu(t));case 5:return Ty(e.stringValue,t.stringValue);case 6:return function(r,o){const a=yo(r),l=yo(o);return a.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(r,o){const a=r.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=de(a[c],l[c]);if(u!==0)return u}return de(a.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(r,o){const a=de(nn(r.latitude),nn(o.latitude));return a!==0?a:de(nn(r.longitude),nn(o.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Ow(e.arrayValue,t.arrayValue);case 10:return function(r,o){const a=r.fields||{},l=o.fields||{},c=a[lp]?.arrayValue,u=l[lp]?.arrayValue,h=de(c?.values?.length||0,u?.values?.length||0);return h!==0?h:Ow(c,u)}(e.mapValue,t.mapValue);case 11:return function(r,o){if(r===wf.mapValue&&o===wf.mapValue)return 0;if(r===wf.mapValue)return 1;if(o===wf.mapValue)return-1;const a=r.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const d=Ty(l[h],u[h]);if(d!==0)return d;const p=Vl(a[l[h]],c[u[h]]);if(p!==0)return p}return de(l.length,u.length)}(e.mapValue,t.mapValue);default:throw Wt(23264,{he:n})}}function Rw(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return de(e,t);const n=vo(e),s=vo(t),i=de(n.seconds,s.seconds);return i!==0?i:de(n.nanos,s.nanos)}function Ow(e,t){const n=e.values||[],s=t.values||[];for(let i=0;i<n.length&&i<s.length;++i){const r=Vl(n[i],s[i]);if(r)return r}return de(n.length,s.length)}function Fl(e){return Sy(e)}function Sy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const s=vo(n);return`time(${s.seconds},${s.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return yo(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return Vt.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let s="[",i=!0;for(const r of n.values||[])i?i=!1:s+=",",s+=Sy(r);return s+"]"}(e.arrayValue):"mapValue"in e?function(n){const s=Object.keys(n.fields||{}).sort();let i="{",r=!0;for(const o of s)r?r=!1:i+=",",i+=`${o}:${Sy(n.fields[o])}`;return i+"}"}(e.mapValue):Wt(61005,{value:e})}function fd(e){switch(_o(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=yg(e);return t?16+fd(t):16;case 5:return 2*e.stringValue.length;case 6:return yo(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((i,r)=>i+fd(r),0)}(e.arrayValue);case 10:case 11:return function(s){let i=0;return Do(s.fields,(r,o)=>{i+=r.length+fd(o)}),i}(e.mapValue);default:throw Wt(13486,{value:e})}}function Nw(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function wy(e){return!!e&&"integerValue"in e}function eb(e){return!!e&&"arrayValue"in e}function Dw(e){return!!e&&"nullValue"in e}function kw(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function dd(e){return!!e&&"mapValue"in e}function V3(e){return(e?.mapValue?.fields||{})[wP]?.stringValue===AP}function Eu(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return Do(e.mapValue.fields,(n,s)=>t.mapValue.fields[n]=Eu(s)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Eu(e.arrayValue.values[n]);return t}return{...e}}function F3(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===L3}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(t){this.value=t}static empty(){return new ps({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!dd(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Eu(n)}setAll(t){let n=Cn.emptyPath(),s={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,s,i),s={},i=[],n=a.popLast()}o?s[a.lastSegment()]=Eu(o):i.push(a.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,s,i)}delete(t){const n=this.field(t.popLast());dd(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ki(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let i=n.mapValue.fields[t.get(s)];dd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,s){Do(n,(i,r)=>t[i]=r);for(const i of s)delete t[i]}clone(){return new ps(Eu(this.value))}}function IP(e){const t=[];return Do(e.fields,(n,s)=>{const i=new Cn([n]);if(dd(s)){const r=IP(s.mapValue).fields;if(r.length===0)t.push(i);else for(const o of r)t.push(i.child(o))}else t.push(i)}),new xs(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(t,n,s,i,r,o,a){this.key=t,this.documentType=n,this.version=s,this.readTime=i,this.createTime=r,this.data=o,this.documentState=a}static newInvalidDocument(t){return new jn(t,0,Yt.min(),Yt.min(),Yt.min(),ps.empty(),0)}static newFoundDocument(t,n,s,i){return new jn(t,1,n,Yt.min(),s,i,0)}static newNoDocument(t,n){return new jn(t,2,n,Yt.min(),Yt.min(),ps.empty(),0)}static newUnknownDocument(t,n){return new jn(t,3,n,Yt.min(),Yt.min(),ps.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ps.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ps.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof jn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(t,n){this.position=t,this.inclusive=n}}function Mw(e,t,n){let s=0;for(let i=0;i<e.position.length;i++){const r=t[i],o=e.position[i];if(r.field.isKeyField()?s=Vt.comparator(Vt.fromName(o.referenceValue),n.key):s=Vl(o,n.data.field(r.field)),r.dir==="desc"&&(s*=-1),s!==0)break}return s}function Lw(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ki(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t,n="asc"){this.field=t,this.dir=n}}function $3(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{}class cn extends CP{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new B3(t,n,s):n==="array-contains"?new z3(t,s):n==="in"?new W3(t,s):n==="not-in"?new K3(t,s):n==="array-contains-any"?new G3(t,s):new cn(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new j3(t,s):new H3(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Vl(n,this.value)):n!==null&&_o(this.value)===_o(n)&&this.matchesComparison(Vl(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Wt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends CP{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new fi(t,n)}matches(t){return xP(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xP(e){return e.op==="and"}function PP(e){return U3(e)&&xP(e)}function U3(e){for(const t of e.filters)if(t instanceof fi)return!1;return!0}function Ay(e){if(e instanceof cn)return e.field.canonicalString()+e.op.toString()+Fl(e.value);if(PP(e))return e.filters.map(t=>Ay(t)).join(",");{const t=e.filters.map(n=>Ay(n)).join(",");return`${e.op}(${t})`}}function RP(e,t){return e instanceof cn?function(s,i){return i instanceof cn&&s.op===i.op&&s.field.isEqual(i.field)&&ki(s.value,i.value)}(e,t):e instanceof fi?function(s,i){return i instanceof fi&&s.op===i.op&&s.filters.length===i.filters.length?s.filters.reduce((r,o,a)=>r&&RP(o,i.filters[a]),!0):!1}(e,t):void Wt(19439)}function OP(e){return e instanceof cn?function(n){return`${n.field.canonicalString()} ${n.op} ${Fl(n.value)}`}(e):e instanceof fi?function(n){return n.op.toString()+" {"+n.getFilters().map(OP).join(" ,")+"}"}(e):"Filter"}class B3 extends cn{constructor(t,n,s){super(t,n,s),this.key=Vt.fromName(s.referenceValue)}matches(t){const n=Vt.comparator(t.key,this.key);return this.matchesComparison(n)}}class j3 extends cn{constructor(t,n){super(t,"in",n),this.keys=NP("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class H3 extends cn{constructor(t,n){super(t,"not-in",n),this.keys=NP("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function NP(e,t){return(t.arrayValue?.values||[]).map(n=>Vt.fromName(n.referenceValue))}class z3 extends cn{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return eb(n)&&Zu(n.arrayValue,this.value)}}class W3 extends cn{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Zu(this.value.arrayValue,n)}}class K3 extends cn{constructor(t,n){super(t,"not-in",n)}matches(t){if(Zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Zu(this.value.arrayValue,n)}}class G3 extends cn{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!eb(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Zu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(t,n=null,s=[],i=[],r=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=i,this.limit=r,this.startAt=o,this.endAt=a,this.Te=null}}function Vw(e,t=null,n=[],s=[],i=null,r=null,o=null){return new X3(e,t,n,s,i,r,o)}function nb(e){const t=Jt(e);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Ay(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),vg(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Fl(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Fl(s)).join(",")),t.Te=n}return t.Te}function sb(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!$3(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!RP(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Lw(e.startAt,t.startAt)&&Lw(e.endAt,t.endAt)}function Iy(e){return Vt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(t,n=null,s=[],i=[],r=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=i,this.limit=r,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Y3(e,t,n,s,i,r,o,a){return new fc(e,t,n,s,i,r,o,a)}function _g(e){return new fc(e)}function Fw(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function DP(e){return e.collectionGroup!==null}function Tu(e){const t=Jt(e);if(t.Ie===null){t.Ie=[];const n=new Set;for(const r of t.explicitOrderBy)t.Ie.push(r),n.add(r.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new dn(Cn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(t).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new th(r,s))}),n.has(Cn.keyField().canonicalString())||t.Ie.push(new th(Cn.keyField(),s))}return t.Ie}function Ai(e){const t=Jt(e);return t.Ee||(t.Ee=q3(t,Tu(e))),t.Ee}function q3(e,t){if(e.limitType==="F")return Vw(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const r=i.dir==="desc"?"asc":"desc";return new th(i.field,r)});const n=e.endAt?new cp(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new cp(e.startAt.position,e.startAt.inclusive):null;return Vw(e.path,e.collectionGroup,t,e.filters,e.limit,n,s)}}function Cy(e,t){const n=e.filters.concat([t]);return new fc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function up(e,t,n){return new fc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function bg(e,t){return sb(Ai(e),Ai(t))&&e.limitType===t.limitType}function kP(e){return`${nb(Ai(e))}|lt:${e.limitType}`}function ol(e){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(i=>OP(i)).join(", ")}]`),vg(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(i=>Fl(i)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(i=>Fl(i)).join(",")),`Target(${s})`}(Ai(e))}; limitType=${e.limitType})`}function Eg(e,t){return t.isFoundDocument()&&function(s,i){const r=i.key.path;return s.collectionGroup!==null?i.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(r):Vt.isDocumentKey(s.path)?s.path.isEqual(r):s.path.isImmediateParentOf(r)}(e,t)&&function(s,i){for(const r of Tu(s))if(!r.field.isKeyField()&&i.data.field(r.field)===null)return!1;return!0}(e,t)&&function(s,i){for(const r of s.filters)if(!r.matches(i))return!1;return!0}(e,t)&&function(s,i){return!(s.startAt&&!function(o,a,l){const c=Mw(o,a,l);return o.inclusive?c<=0:c<0}(s.startAt,Tu(s),i)||s.endAt&&!function(o,a,l){const c=Mw(o,a,l);return o.inclusive?c>=0:c>0}(s.endAt,Tu(s),i))}(e,t)}function Q3(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function MP(e){return(t,n)=>{let s=!1;for(const i of Tu(e)){const r=J3(i,t,n);if(r!==0)return r;s=s||i.field.isKeyField()}return 0}}function J3(e,t,n){const s=e.field.isKeyField()?Vt.comparator(t.key,n.key):function(r,o,a){const l=o.data.field(r),c=a.data.field(r);return l!==null&&c!==null?Vl(l,c):Wt(42886)}(e.field,t,n);switch(e.dir){case"asc":return s;case"desc":return-1*s;default:return Wt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[i,r]of s)if(this.equalsFn(i,t))return r}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),i=this.inner[s];if(i===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return void(i[r]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],t))return s.length===1?delete this.inner[n]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Do(this.inner,(n,s)=>{for(const[i,r]of s)t(i,r)})}isEmpty(){return yP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z3=new Ge(Vt.comparator);function Er(){return Z3}const LP=new Ge(Vt.comparator);function tu(...e){let t=LP;for(const n of e)t=t.insert(n.key,n);return t}function VP(e){let t=LP;return e.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function ta(){return Su()}function FP(){return Su()}function Su(){return new Va(e=>e.toString(),(e,t)=>e.isEqual(t))}const t6=new Ge(Vt.comparator),e6=new dn(Vt.comparator);function pe(...e){let t=e6;for(const n of e)t=t.add(n);return t}const n6=new dn(de);function s6(){return n6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:op(t)?"-0":t}}function $P(e){return{integerValue:""+e}}function i6(e,t){return O3(t)?$P(t):ib(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(){this._=void 0}}function r6(e,t,n){return e instanceof eh?function(i,r){const o={fields:{[EP]:{stringValue:bP},[SP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&tb(r)&&(r=yg(r)),r&&(o.fields[TP]=r),{mapValue:o}}(n,t):e instanceof $l?BP(e,t):e instanceof Ul?jP(e,t):function(i,r){const o=UP(i,r),a=$w(o)+$w(i.Ae);return wy(o)&&wy(i.Ae)?$P(a):ib(i.serializer,a)}(e,t)}function o6(e,t,n){return e instanceof $l?BP(e,t):e instanceof Ul?jP(e,t):n}function UP(e,t){return e instanceof hp?function(s){return wy(s)||function(r){return!!r&&"doubleValue"in r}(s)}(t)?t:{integerValue:0}:null}class eh extends Tg{}class $l extends Tg{constructor(t){super(),this.elements=t}}function BP(e,t){const n=HP(t);for(const s of e.elements)n.some(i=>ki(i,s))||n.push(s);return{arrayValue:{values:n}}}class Ul extends Tg{constructor(t){super(),this.elements=t}}function jP(e,t){let n=HP(t);for(const s of e.elements)n=n.filter(i=>!ki(i,s));return{arrayValue:{values:n}}}class hp extends Tg{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function $w(e){return nn(e.integerValue||e.doubleValue)}function HP(e){return eb(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(t,n){this.field=t,this.transform=n}}function a6(e,t){return e.field.isEqual(t.field)&&function(s,i){return s instanceof $l&&i instanceof $l||s instanceof Ul&&i instanceof Ul?Ll(s.elements,i.elements,ki):s instanceof hp&&i instanceof hp?ki(s.Ae,i.Ae):s instanceof eh&&i instanceof eh}(e.transform,t.transform)}class l6{constructor(t,n){this.version=t,this.transformResults=n}}class Us{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Us}static exists(t){return new Us(void 0,t)}static updateTime(t){return new Us(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function pd(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Sg{}function zP(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new ob(e.key,Us.none()):new Ph(e.key,e.data,Us.none());{const n=e.data,s=ps.empty();let i=new dn(Cn.comparator);for(let r of t.fields)if(!i.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?s.delete(r):s.set(r,o),i=i.add(r)}return new ko(e.key,s,new xs(i.toArray()),Us.none())}}function c6(e,t,n){e instanceof Ph?function(i,r,o){const a=i.value.clone(),l=Bw(i.fieldTransforms,r,o.transformResults);a.setAll(l),r.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(e,t,n):e instanceof ko?function(i,r,o){if(!pd(i.precondition,r))return void r.convertToUnknownDocument(o.version);const a=Bw(i.fieldTransforms,r,o.transformResults),l=r.data;l.setAll(WP(i)),l.setAll(a),r.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(e,t,n):function(i,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,n)}function wu(e,t,n,s){return e instanceof Ph?function(r,o,a,l){if(!pd(r.precondition,o))return a;const c=r.value.clone(),u=jw(r.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(e,t,n,s):e instanceof ko?function(r,o,a,l){if(!pd(r.precondition,o))return a;const c=jw(r.fieldTransforms,l,o),u=o.data;return u.setAll(WP(r)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(h=>h.field))}(e,t,n,s):function(r,o,a){return pd(r.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(e,t,n)}function u6(e,t){let n=null;for(const s of e.fieldTransforms){const i=t.data.field(s.field),r=UP(s.transform,i||null);r!=null&&(n===null&&(n=ps.empty()),n.set(s.field,r))}return n||null}function Uw(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(s,i){return s===void 0&&i===void 0||!(!s||!i)&&Ll(s,i,(r,o)=>a6(r,o))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ph extends Sg{constructor(t,n,s,i=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ko extends Sg{constructor(t,n,s,i,r=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function WP(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=e.data.field(n);t.set(n,s)}}),t}function Bw(e,t,n){const s=new Map;Ie(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){const r=e[i],o=r.transform,a=t.data.field(r.field);s.set(r.field,o6(o,a,n[i]))}return s}function jw(e,t,n){const s=new Map;for(const i of e){const r=i.transform,o=n.data.field(i.field);s.set(i.field,r6(r,o,t))}return s}class ob extends Sg{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class h6 extends Sg{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(t,n,s,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const r=this.mutations[i];r.key.isEqual(t.key)&&c6(r,t,s[i])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=wu(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=wu(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=FP();return this.mutations.forEach(i=>{const r=t.get(i.key),o=r.overlayedDocument;let a=this.applyToLocalView(o,r.mutatedFields);a=n.has(i.key)?null:a;const l=zP(o,a);l!==null&&s.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Yt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),pe())}isEqual(t){return this.batchId===t.batchId&&Ll(this.mutations,t.mutations,(n,s)=>Uw(n,s))&&Ll(this.baseMutations,t.baseMutations,(n,s)=>Uw(n,s))}}class ab{constructor(t,n,s,i){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=i}static from(t,n,s){Ie(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let i=function(){return t6}();const r=t.mutations;for(let o=0;o<r.length;o++)i=i.insert(r[o].key,s[o].version);return new ab(t,n,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var on,me;function g6(e){switch(e){case nt.OK:return Wt(64938);case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return Wt(15467,{code:e})}}function KP(e){if(e===void 0)return br("GRPC error has no .code"),nt.UNKNOWN;switch(e){case on.OK:return nt.OK;case on.CANCELLED:return nt.CANCELLED;case on.UNKNOWN:return nt.UNKNOWN;case on.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case on.INTERNAL:return nt.INTERNAL;case on.UNAVAILABLE:return nt.UNAVAILABLE;case on.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case on.NOT_FOUND:return nt.NOT_FOUND;case on.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case on.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case on.ABORTED:return nt.ABORTED;case on.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case on.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case on.DATA_LOSS:return nt.DATA_LOSS;default:return Wt(39323,{code:e})}}(me=on||(on={}))[me.OK=0]="OK",me[me.CANCELLED=1]="CANCELLED",me[me.UNKNOWN=2]="UNKNOWN",me[me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",me[me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",me[me.NOT_FOUND=5]="NOT_FOUND",me[me.ALREADY_EXISTS=6]="ALREADY_EXISTS",me[me.PERMISSION_DENIED=7]="PERMISSION_DENIED",me[me.UNAUTHENTICATED=16]="UNAUTHENTICATED",me[me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",me[me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",me[me.ABORTED=10]="ABORTED",me[me.OUT_OF_RANGE=11]="OUT_OF_RANGE",me[me.UNIMPLEMENTED=12]="UNIMPLEMENTED",me[me.INTERNAL=13]="INTERNAL",me[me.UNAVAILABLE=14]="UNAVAILABLE",me[me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6=new lo([4294967295,4294967295],0);function Hw(e){const t=m6().encode(e),n=new aP;return n.update(t),new Uint8Array(n.digest())}function zw(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),i=t.getUint32(8,!0),r=t.getUint32(12,!0);return[new lo([n,s],0),new lo([i,r],0)]}class lb{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new eu(`Invalid padding: ${n}`);if(s<0)throw new eu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new eu(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new eu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=lo.fromNumber(this.ge)}ye(t,n,s){let i=t.add(n.multiply(lo.fromNumber(s)));return i.compare(v6)===1&&(i=new lo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Hw(t),[s,i]=zw(n);for(let r=0;r<this.hashCount;r++){const o=this.ye(s,i,r);if(!this.we(o))return!1}return!0}static create(t,n,s){const i=t%8==0?0:8-t%8,r=new Uint8Array(Math.ceil(t/8)),o=new lb(r,i,n);return s.forEach(a=>o.insert(a)),o}insert(t){if(this.ge===0)return;const n=Hw(t),[s,i]=zw(n);for(let r=0;r<this.hashCount;r++){const o=this.ye(s,i,r);this.Se(o)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(t,n,s,i,r){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const i=new Map;return i.set(t,Rh.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new wg(Yt.min(),i,new Ge(de),Er(),pe())}}class Rh{constructor(t,n,s,i,r){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Rh(s,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(t,n,s,i){this.be=t,this.removedTargetIds=n,this.key=s,this.De=i}}class GP{constructor(t,n){this.targetId=t,this.Ce=n}}class XP{constructor(t,n,s=Rn.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=i}}class Ww{constructor(){this.ve=0,this.Fe=Kw(),this.Me=Rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=pe(),n=pe(),s=pe();return this.Fe.forEach((i,r)=>{switch(r){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:s=s.add(i);break;default:Wt(38017,{changeType:r})}}),new Rh(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=Kw()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ie(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class y6{constructor(t){this.Ge=t,this.ze=new Map,this.je=Er(),this.Je=Af(),this.He=Af(),this.Ye=new Ge(de)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Wt(56790,{state:t.state})}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach((s,i)=>{this.rt(i)&&n(i)})}st(t){const n=t.targetId,s=t.Ce.count,i=this.ot(n);if(i){const r=i.target;if(Iy(r))if(s===0){const o=new Vt(r.path);this.et(n,o,jn.newNoDocument(o,Yt.min()))}else Ie(s===1,20013,{expectedCount:s});else{const o=this._t(n);if(o!==s){const a=this.ut(t),l=a?this.ct(a,t,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:i=0},hashCount:r=0}=n;let o,a;try{o=yo(s).toUint8Array()}catch(l){if(l instanceof _P)return Ml("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new lb(o,i,r)}catch(l){return Ml(l instanceof eu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let i=0;return s.forEach(r=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${r.path.canonicalString()}`;t.mightContain(a)||(this.et(n,r,null),i++)}),i}Tt(t){const n=new Map;this.ze.forEach((r,o)=>{const a=this.ot(o);if(a){if(r.current&&Iy(a.target)){const l=new Vt(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,jn.newNoDocument(l,t))}r.Be&&(n.set(o,r.ke()),r.qe())}});let s=pe();this.He.forEach((r,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(s=s.add(r))}),this.je.forEach((r,o)=>o.setReadTime(t));const i=new wg(t,n,this.Ye,this.je,s);return this.je=Er(),this.Je=Af(),this.He=Af(),this.Ye=new Ge(de),i}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const i=this.nt(t);this.Et(t,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new Ww,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new dn(de),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new dn(de),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||Ot("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Ww),this.Ge.getRemoteKeysForTarget(t).forEach(n=>{this.et(t,n,null)})}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Af(){return new Ge(Vt.comparator)}function Kw(){return new Ge(Vt.comparator)}const _6={asc:"ASCENDING",desc:"DESCENDING"},b6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},E6={and:"AND",or:"OR"};class T6{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function xy(e,t){return e.useProto3Json||vg(t)?t:{value:t}}function fp(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function YP(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function S6(e,t){return fp(e,t.toTimestamp())}function Ii(e){return Ie(!!e,49232),Yt.fromTimestamp(function(n){const s=vo(n);return new $e(s.seconds,s.nanos)}(e))}function cb(e,t){return Py(e,t).canonicalString()}function Py(e,t){const n=function(i){return new Me(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function qP(e){const t=Me.fromString(e);return Ie(eR(t),10190,{key:t.toString()}),t}function Ry(e,t){return cb(e.databaseId,t.path)}function qm(e,t){const n=qP(t);if(n.get(1)!==e.databaseId.projectId)throw new Ct(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ct(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Vt(JP(n))}function QP(e,t){return cb(e.databaseId,t)}function w6(e){const t=qP(e);return t.length===4?Me.emptyPath():JP(t)}function Oy(e){return new Me(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function JP(e){return Ie(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function Gw(e,t,n){return{name:Ry(e,t),fields:n.value.mapValue.fields}}function A6(e,t){let n;if("targetChange"in t){t.targetChange;const s=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Wt(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],r=function(c,u){return c.useProto3Json?(Ie(u===void 0||typeof u=="string",58123),Rn.fromBase64String(u||"")):(Ie(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Rn.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(c){const u=c.code===void 0?nt.UNKNOWN:KP(c.code);return new Ct(u,c.message||"")}(o);n=new XP(s,i,r,a||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const i=qm(e,s.document.name),r=Ii(s.document.updateTime),o=s.document.createTime?Ii(s.document.createTime):Yt.min(),a=new ps({mapValue:{fields:s.document.fields}}),l=jn.newFoundDocument(i,r,o,a),c=s.targetIds||[],u=s.removedTargetIds||[];n=new gd(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const i=qm(e,s.document),r=s.readTime?Ii(s.readTime):Yt.min(),o=jn.newNoDocument(i,r),a=s.removedTargetIds||[];n=new gd([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const i=qm(e,s.document),r=s.removedTargetIds||[];n=new gd([],r,i,null)}else{if(!("filter"in t))return Wt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:i=0,unchangedNames:r}=s,o=new p6(i,r),a=s.targetId;n=new GP(a,o)}}return n}function I6(e,t){let n;if(t instanceof Ph)n={update:Gw(e,t.key,t.value)};else if(t instanceof ob)n={delete:Ry(e,t.key)};else if(t instanceof ko)n={update:Gw(e,t.key,t.data),updateMask:M6(t.fieldMask)};else{if(!(t instanceof h6))return Wt(16599,{Vt:t.type});n={verify:Ry(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(r,o){const a=o.transform;if(a instanceof eh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof $l)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ul)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof hp)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw Wt(20930,{transform:o.transform})}(0,s))),t.precondition.isNone||(n.currentDocument=function(i,r){return r.updateTime!==void 0?{updateTime:S6(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:Wt(27497)}(e,t.precondition)),n}function C6(e,t){return e&&e.length>0?(Ie(t!==void 0,14353),e.map(n=>function(i,r){let o=i.updateTime?Ii(i.updateTime):Ii(r);return o.isEqual(Yt.min())&&(o=Ii(r)),new l6(o,i.transformResults||[])}(n,t))):[]}function x6(e,t){return{documents:[QP(e,t.path)]}}function P6(e,t){const n={structuredQuery:{}},s=t.path;let i;t.collectionGroup!==null?(i=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=QP(e,i);const r=function(c){if(c.length!==0)return tR(fi.create(c,"and"))}(t.filters);r&&(n.structuredQuery.where=r);const o=function(c){if(c.length!==0)return c.map(u=>function(d){return{field:al(d.field),direction:N6(d.dir)}}(u))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=xy(e,t.limit);return a!==null&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{ft:n,parent:i}}function R6(e){let t=w6(e.parent);const n=e.structuredQuery,s=n.from?n.from.length:0;let i=null;if(s>0){Ie(s===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:t=t.child(u.collectionId)}let r=[];n.where&&(r=function(h){const d=ZP(h);return d instanceof fi&&PP(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(d=>function(g){return new th(ll(g.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,vg(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,p=h.values||[];return new cp(p,d)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const d=!h.before,p=h.values||[];return new cp(p,d)}(n.endAt)),Y3(t,i,o,r,a,"F",l,c)}function O6(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Wt(28987,{purpose:i})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function ZP(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ll(n.unaryFilter.field);return cn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const i=ll(n.unaryFilter.field);return cn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ll(n.unaryFilter.field);return cn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ll(n.unaryFilter.field);return cn.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Wt(61313);default:return Wt(60726)}}(e):e.fieldFilter!==void 0?function(n){return cn.create(ll(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Wt(58110);default:return Wt(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return fi.create(n.compositeFilter.filters.map(s=>ZP(s)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Wt(1026)}}(n.compositeFilter.op))}(e):Wt(30097,{filter:e})}function N6(e){return _6[e]}function D6(e){return b6[e]}function k6(e){return E6[e]}function al(e){return{fieldPath:e.canonicalString()}}function ll(e){return Cn.fromServerFormat(e.fieldPath)}function tR(e){return e instanceof cn?function(n){if(n.op==="=="){if(kw(n.value))return{unaryFilter:{field:al(n.field),op:"IS_NAN"}};if(Dw(n.value))return{unaryFilter:{field:al(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kw(n.value))return{unaryFilter:{field:al(n.field),op:"IS_NOT_NAN"}};if(Dw(n.value))return{unaryFilter:{field:al(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:al(n.field),op:D6(n.op),value:n.value}}}(e):e instanceof fi?function(n){const s=n.getFilters().map(i=>tR(i));return s.length===1?s[0]:{compositeFilter:{op:k6(n.op),filters:s}}}(e):Wt(54877,{filter:e})}function M6(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function eR(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(t,n,s,i,r=Yt.min(),o=Yt.min(),a=Rn.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new qr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(t){this.yt=t}}function V6(e){const t=R6({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?up(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(){this.Cn=new $6}addToCollectionParentIndex(t,n){return this.Cn.add(n),lt.resolve()}getCollectionParents(t,n){return lt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return lt.resolve()}deleteFieldIndex(t,n){return lt.resolve()}deleteAllFieldIndexes(t){return lt.resolve()}createTargetIndexes(t,n){return lt.resolve()}getDocumentsMatchingTarget(t,n){return lt.resolve(null)}getIndexType(t,n){return lt.resolve(0)}getFieldIndexes(t,n){return lt.resolve([])}getNextCollectionGroupToUpdate(t){return lt.resolve(null)}getMinOffset(t,n){return lt.resolve(mo.min())}getMinOffsetFromCollectionGroup(t,n){return lt.resolve(mo.min())}updateCollectionGroup(t,n,s){return lt.resolve()}updateIndexEntries(t,n){return lt.resolve()}}class $6{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),i=this.index[n]||new dn(Me.comparator),r=!i.has(s);return this.index[n]=i.add(s),r}has(t){const n=t.lastSegment(),s=t.popLast(),i=this.index[n];return i&&i.has(s)}getEntries(t){return(this.index[t]||new dn(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nR=41943040;class hs{static withCacheSize(t){return new hs(t,hs.DEFAULT_COLLECTION_PERCENTILE,hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hs.DEFAULT_COLLECTION_PERCENTILE=10,hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hs.DEFAULT=new hs(nR,hs.DEFAULT_COLLECTION_PERCENTILE,hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hs.DISABLED=new hs(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Bl(0)}static cr(){return new Bl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="LruGarbageCollector",U6=1048576;function qw([e,t],[n,s]){const i=de(e,n);return i===0?de(t,s):i}class B6{constructor(t){this.Ir=t,this.buffer=new dn(qw),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();qw(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class j6{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){Ot(Yw,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){hc(n)?Ot(Yw,"Ignoring IndexedDB error during garbage collection: ",n):await uc(n)}await this.Vr(3e5)})}}class H6{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return lt.resolve(mg.ce);const s=new B6(n);return this.mr.forEachTarget(t,i=>s.Ar(i.sequenceNumber)).next(()=>this.mr.pr(t,i=>s.Ar(i))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(Ot("LruGarbageCollector","Garbage collection skipped; disabled"),lt.resolve(Xw)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xw):this.yr(t,n))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,i,r,o,a,l,c;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(t,i))).next(h=>(s=h,a=Date.now(),this.removeTargets(t,s,n))).next(h=>(r=h,l=Date.now(),this.removeOrphanedDocuments(t,s))).next(h=>(c=Date.now(),rl()<=fe.DEBUG&&Ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${r} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),lt.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:h})))}}function z6(e,t){return new H6(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(){this.changes=new Va(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,jn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?lt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(t,n,s,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=i}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(s=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(s!==null&&wu(s.mutation,i,xs.empty(),$e.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,pe()).next(()=>s))}getLocalViewOfDocuments(t,n,s=pe()){const i=ta();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,s).next(r=>{let o=tu();return r.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const s=ta();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,pe()))}populateOverlays(t,n,s){const i=[];return s.forEach(r=>{n.has(r)||i.push(r)}),this.documentOverlayCache.getOverlays(t,i).next(r=>{r.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,s,i){let r=Er();const o=Su(),a=function(){return Su()}();return n.forEach((l,c)=>{const u=s.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof ko)?r=r.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),wu(u.mutation,c,u.mutation.getFieldMask(),$e.now())):o.set(c.key,xs.empty())}),this.recalculateAndSaveOverlays(t,r).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>a.set(c,new K6(u,o.get(c)??null))),a))}recalculateAndSaveOverlays(t,n){const s=Su();let i=new Ge((o,a)=>o-a),r=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=s.get(l)||xs.empty();u=a.applyToLocalView(c,u),s.set(l,u);const h=(i.get(a.batchId)||pe()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=FP();u.forEach(d=>{if(!r.has(d)){const p=zP(n.get(d),s.get(d));p!==null&&h.set(d,p),r=r.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(t,c,h))}return lt.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,i){return function(o){return Vt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):DP(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,i):this.getDocumentsMatchingCollectionQuery(t,n,s,i)}getNextDocuments(t,n,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,i).next(r=>{const o=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,i-r.size):lt.resolve(ta());let a=qu,l=r;return o.next(c=>lt.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),r.get(u)?lt.resolve():this.remoteDocumentCache.getEntry(t,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(t,c,r)).next(()=>this.computeViews(t,l,c,pe())).next(u=>({batchId:a,changes:VP(u)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Vt(n)).next(s=>{let i=tu();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,s,i){const r=n.collectionGroup;let o=tu();return this.indexManager.getCollectionParents(t,r).next(a=>lt.forEach(a,l=>{const c=function(h,d){return new fc(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(r));return this.getDocumentsMatchingCollectionQuery(t,c,s,i).next(u=>{u.forEach((h,d)=>{o=o.insert(h,d)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,n,s,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,r,i))).next(o=>{r.forEach((l,c)=>{const u=c.getKey();o.get(u)===null&&(o=o.insert(u,jn.newInvalidDocument(u)))});let a=tu();return o.forEach((l,c)=>{const u=r.get(l);u!==void 0&&wu(u.mutation,c,xs.empty(),$e.now()),Eg(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X6{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return lt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ii(i.createTime)}}(n)),lt.resolve()}getNamedQuery(t,n){return lt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,function(i){return{name:i.name,query:V6(i.bundledQuery),readTime:Ii(i.readTime)}}(n)),lt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(){this.overlays=new Ge(Vt.comparator),this.qr=new Map}getOverlay(t,n){return lt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=ta();return lt.forEach(n,i=>this.getOverlay(t,i).next(r=>{r!==null&&s.set(i,r)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((i,r)=>{this.St(t,n,r)}),lt.resolve()}removeOverlaysForBatchId(t,n,s){const i=this.qr.get(s);return i!==void 0&&(i.forEach(r=>this.overlays=this.overlays.remove(r)),this.qr.delete(s)),lt.resolve()}getOverlaysForCollection(t,n,s){const i=ta(),r=n.length+1,o=new Vt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===r&&l.largestBatchId>s&&i.set(l.getKey(),l)}return lt.resolve(i)}getOverlaysForCollectionGroup(t,n,s,i){let r=new Ge((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>s){let u=r.get(c.largestBatchId);u===null&&(u=ta(),r=r.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=ta(),l=r.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return lt.resolve(a)}St(t,n,s){const i=this.overlays.get(s.key);if(i!==null){const o=this.qr.get(i.largestBatchId).delete(s.key);this.qr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new d6(n,s));let r=this.qr.get(n);r===void 0&&(r=pe(),this.qr.set(n,r)),this.qr.set(n,r.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(){this.sessionToken=Rn.EMPTY_BYTE_STRING}getSessionToken(t){return lt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,lt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(){this.Qr=new dn(vn.$r),this.Ur=new dn(vn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new vn(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.Gr(new vn(t,n))}zr(t,n){t.forEach(s=>this.removeReference(s,n))}jr(t){const n=new Vt(new Me([])),s=new vn(n,t),i=new vn(n,t+1),r=[];return this.Ur.forEachInRange([s,i],o=>{this.Gr(o),r.push(o.key)}),r}Jr(){this.Qr.forEach(t=>this.Gr(t))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new Vt(new Me([])),s=new vn(n,t),i=new vn(n,t+1);let r=pe();return this.Ur.forEachInRange([s,i],o=>{r=r.add(o.key)}),r}containsKey(t){const n=new vn(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class vn{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return Vt.comparator(t.key,n.key)||de(t.Yr,n.Yr)}static Kr(t,n){return de(t.Yr,n.Yr)||Vt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new dn(vn.$r)}checkEmpty(t){return lt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,i){const r=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new f6(r,n,s,i);this.mutationQueue.push(o);for(const a of i)this.Zr=this.Zr.add(new vn(a.key,r)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return lt.resolve(o)}lookupMutationBatch(t,n){return lt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,i=this.ei(s),r=i<0?0:i;return lt.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return lt.resolve(this.mutationQueue.length===0?Z_:this.tr-1)}getAllMutationBatches(t){return lt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new vn(n,0),i=new vn(n,Number.POSITIVE_INFINITY),r=[];return this.Zr.forEachInRange([s,i],o=>{const a=this.Xr(o.Yr);r.push(a)}),lt.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new dn(de);return n.forEach(i=>{const r=new vn(i,0),o=new vn(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([r,o],a=>{s=s.add(a.Yr)})}),lt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,i=s.length+1;let r=s;Vt.isDocumentKey(r)||(r=r.child(""));const o=new vn(new Vt(r),0);let a=new dn(de);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!s.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Yr)),!0)},o),lt.resolve(this.ti(a))}ti(t){const n=[];return t.forEach(s=>{const i=this.Xr(s);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Ie(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return lt.forEach(n.mutations,i=>{const r=new vn(i.key,n.batchId);return s=s.delete(r),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Zr=s})}ir(t){}containsKey(t,n){const s=new vn(n,0),i=this.Zr.firstAfterOrEqual(s);return lt.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,lt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(t){this.ri=t,this.docs=function(){return new Ge(Vt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,i=this.docs.get(s),r=i?i.size:0,o=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return lt.resolve(s?s.document.mutableCopy():jn.newInvalidDocument(n))}getEntries(t,n){let s=Er();return n.forEach(i=>{const r=this.docs.get(i);s=s.insert(i,r?r.document.mutableCopy():jn.newInvalidDocument(i))}),lt.resolve(s)}getDocumentsMatchingQuery(t,n,s,i){let r=Er();const o=n.path,a=new Vt(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||C3(I3(u),s)<=0||(i.has(u.key)||Eg(n,u))&&(r=r.insert(u.key,u.mutableCopy()))}return lt.resolve(r)}getAllFromCollectionGroup(t,n,s,i){Wt(9500)}ii(t,n){return lt.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new Z6(this)}getSize(t){return lt.resolve(this.size)}}class Z6 extends W6{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach((s,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(t,i)):this.Nr.removeEntry(s)}),lt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(t){this.persistence=t,this.si=new Va(n=>nb(n),sb),this.lastRemoteSnapshotVersion=Yt.min(),this.highestTargetId=0,this.oi=0,this._i=new ub,this.targetCount=0,this.ai=Bl.ur()}forEachTarget(t,n){return this.si.forEach((s,i)=>n(i)),lt.resolve()}getLastRemoteSnapshotVersion(t){return lt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return lt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),lt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),lt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new Bl(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,lt.resolve()}updateTargetData(t,n){return this.Pr(n),lt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,lt.resolve()}removeTargets(t,n,s){let i=0;const r=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.si.delete(o),r.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),lt.waitFor(r).next(()=>i)}getTargetCount(t){return lt.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return lt.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),lt.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const i=this.persistence.referenceDelegate,r=[];return i&&n.forEach(o=>{r.push(i.markPotentiallyOrphaned(t,o))}),lt.waitFor(r)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),lt.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return lt.resolve(s)}containsKey(t,n){return lt.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(t,n){this.ui={},this.overlays={},this.ci=new mg(0),this.li=!1,this.li=!0,this.hi=new q6,this.referenceDelegate=t(this),this.Pi=new t5(this),this.indexManager=new F6,this.remoteDocumentCache=function(i){return new J6(i)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new L6(n),this.Ii=new X6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new Y6,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new Q6(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){Ot("MemoryPersistence","Starting transaction:",t);const i=new e5(this.ci.next());return this.referenceDelegate.Ei(),s(i).next(r=>this.referenceDelegate.di(i).next(()=>r)).toPromise().then(r=>(i.raiseOnCommittedEvent(),r))}Ai(t,n){return lt.or(Object.values(this.ui).map(s=>()=>s.containsKey(t,n)))}}class e5 extends P3{constructor(t){super(),this.currentSequenceNumber=t}}class hb{constructor(t){this.persistence=t,this.Ri=new ub,this.Vi=null}static mi(t){return new hb(t)}get fi(){if(this.Vi)return this.Vi;throw Wt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),lt.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),lt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),lt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(r=>this.fi.add(r.toString()))}).next(()=>s.removeTargetData(t,n))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lt.forEach(this.fi,s=>{const i=Vt.fromPath(s);return this.gi(t,i).next(r=>{r||n.removeEntry(i,Yt.min())})}).next(()=>(this.Vi=null,n.apply(t)))}updateLimboDocument(t,n){return this.gi(t,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(t){return 0}gi(t,n){return lt.or([()=>lt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class dp{constructor(t,n){this.persistence=t,this.pi=new Va(s=>N3(s.path),(s,i)=>s.isEqual(i)),this.garbageCollector=z6(this,n)}static mi(t,n){return new dp(t,n)}Ei(){}di(t){return lt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(i=>s+i))}wr(t){let n=0;return this.pr(t,s=>{n++}).next(()=>n)}pr(t,n){return lt.forEach(this.pi,(s,i)=>this.br(t,s,i).next(r=>r?lt.resolve():n(i)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const i=this.persistence.getRemoteDocumentCache(),r=i.newChangeBuffer();return i.ii(t,o=>this.br(t,o,n).next(a=>{a||(s++,r.removeEntry(o,Yt.min()))})).next(()=>r.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),lt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),lt.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),lt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),lt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=fd(t.data.value)),n}br(t,n,s){return lt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const i=this.pi.get(n);return lt.resolve(i!==void 0&&i>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(t,n,s,i){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=i}static As(t,n){let s=pe(),i=pe();for(const r of n.docChanges)switch(r.type){case 0:s=s.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new fb(t,n.fromCache,s,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return LF()?8:R3(Xn())>0?6:4}()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,i){const r={result:null};return this.ys(t,n).next(o=>{r.result=o}).next(()=>{if(!r.result)return this.ws(t,n,i,s).next(o=>{r.result=o})}).next(()=>{if(r.result)return;const o=new n5;return this.Ss(t,n,o).next(a=>{if(r.result=a,this.Vs)return this.bs(t,n,o,a.size)})}).next(()=>r.result)}bs(t,n,s,i){return s.documentReadCount<this.fs?(rl()<=fe.DEBUG&&Ot("QueryEngine","SDK will not create cache indexes for query:",ol(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),lt.resolve()):(rl()<=fe.DEBUG&&Ot("QueryEngine","Query:",ol(n),"scans",s.documentReadCount,"local documents and returns",i,"documents as results."),s.documentReadCount>this.gs*i?(rl()<=fe.DEBUG&&Ot("QueryEngine","The SDK decides to create cache indexes for query:",ol(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ai(n))):lt.resolve())}ys(t,n){if(Fw(n))return lt.resolve(null);let s=Ai(n);return this.indexManager.getIndexType(t,s).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=up(n,null,"F"),s=Ai(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(r=>{const o=pe(...r);return this.ps.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,s).next(l=>{const c=this.Ds(n,a);return this.Cs(n,c,o,l.readTime)?this.ys(t,up(n,null,"F")):this.vs(t,c,n,l)}))})))}ws(t,n,s,i){return Fw(n)||i.isEqual(Yt.min())?lt.resolve(null):this.ps.getDocuments(t,s).next(r=>{const o=this.Ds(n,r);return this.Cs(n,o,s,i)?lt.resolve(null):(rl()<=fe.DEBUG&&Ot("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ol(n)),this.vs(t,o,n,A3(i,qu)).next(a=>a))})}Ds(t,n){let s=new dn(MP(t));return n.forEach((i,r)=>{Eg(t,r)&&(s=s.add(r))}),s}Cs(t,n,s,i){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const r=t.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Ss(t,n,s){return rl()<=fe.DEBUG&&Ot("QueryEngine","Using full collection scan to execute query:",ol(n)),this.ps.getDocumentsMatchingQuery(t,n,mo.min(),s)}vs(t,n,s,i){return this.ps.getDocumentsMatchingQuery(t,s,i).next(r=>(n.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="LocalStore",i5=3e8;class r5{constructor(t,n,s,i){this.persistence=t,this.Fs=n,this.serializer=i,this.Ms=new Ge(de),this.xs=new Va(r=>nb(r),sb),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new G6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ms))}}function o5(e,t,n,s){return new r5(e,t,n,s)}async function iR(e,t){const n=Jt(e);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let i;return n.mutationQueue.getAllMutationBatches(s).next(r=>(i=r,n.Bs(t),n.mutationQueue.getAllMutationBatches(s))).next(r=>{const o=[],a=[];let l=pe();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of r){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(s,l).next(c=>({Ls:c,removedBatchIds:o,addedBatchIds:a}))})})}function a5(e,t){const n=Jt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const i=t.batch.keys(),r=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,d=h.keys();let p=lt.resolve();return d.forEach(g=>{p=p.next(()=>u.getEntry(l,g)).next(m=>{const y=c.docVersions.get(g);Ie(y!==null,48541),m.version.compareTo(y)<0&&(h.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,s,t,r).next(()=>r.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(a){let l=pe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(t))).next(()=>n.localDocuments.getDocuments(s,i))})}function rR(e){const t=Jt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Pi.getLastRemoteSnapshotVersion(n))}function l5(e,t){const n=Jt(e),s=t.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const a=[];t.targetChanges.forEach((u,h)=>{const d=i.get(h);if(!d)return;a.push(n.Pi.removeMatchingKeys(r,u.removedDocuments,h).next(()=>n.Pi.addMatchingKeys(r,u.addedDocuments,h)));let p=d.withSequenceNumber(r.currentSequenceNumber);t.targetMismatches.get(h)!==null?p=p.withResumeToken(Rn.EMPTY_BYTE_STRING,Yt.min()).withLastLimboFreeSnapshotVersion(Yt.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,s)),i=i.insert(h,p),function(m,y,E){return m.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=i5?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(d,p,u)&&a.push(n.Pi.updateTargetData(r,p))});let l=Er(),c=pe();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(r,u))}),a.push(c5(r,o,t.documentUpdates).next(u=>{l=u.ks,c=u.qs})),!s.isEqual(Yt.min())){const u=n.Pi.getLastRemoteSnapshotVersion(r).next(h=>n.Pi.setTargetsMetadata(r,r.currentSequenceNumber,s));a.push(u)}return lt.waitFor(a).next(()=>o.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,l,c)).next(()=>l)}).then(r=>(n.Ms=i,r))}function c5(e,t,n){let s=pe(),i=pe();return n.forEach(r=>s=s.add(r)),t.getEntries(e,s).next(r=>{let o=Er();return n.forEach((a,l)=>{const c=r.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Yt.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):Ot(db,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{ks:o,qs:i}})}function u5(e,t){const n=Jt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=Z_),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function h5(e,t){const n=Jt(e);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let i;return n.Pi.getTargetData(s,t).next(r=>r?(i=r,lt.resolve(i)):n.Pi.allocateTargetId(s).next(o=>(i=new qr(t,o,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,i).next(()=>i))))}).then(s=>{const i=n.Ms.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s})}async function Ny(e,t,n){const s=Jt(e),i=s.Ms.get(t),r=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",r,o=>s.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!hc(o))throw o;Ot(db,`Failed to update sequence numbers for target ${t}: ${o}`)}s.Ms=s.Ms.remove(t),s.xs.delete(i.target)}function Qw(e,t,n){const s=Jt(e);let i=Yt.min(),r=pe();return s.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,u){const h=Jt(l),d=h.xs.get(u);return d!==void 0?lt.resolve(h.Ms.get(d)):h.Pi.getTargetData(c,u)}(s,o,Ai(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{r=l})}).next(()=>s.Fs.getDocumentsMatchingQuery(o,t,n?i:Yt.min(),n?r:pe())).next(a=>(f5(s,Q3(t),a),{documents:a,Qs:r})))}function f5(e,t,n){let s=e.Os.get(t)||Yt.min();n.forEach((i,r)=>{r.readTime.compareTo(s)>0&&(s=r.readTime)}),e.Os.set(t,s)}class Jw{constructor(){this.activeTargetIds=s6()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class d5{constructor(){this.Mo=new Jw,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Jw,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="ConnectivityMonitor";class t0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ot(Zw,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){Ot(Zw,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let If=null;function Dy(){return If===null?If=function(){return 268435456+Math.round(2147483648*Math.random())}():If++,"0x"+If.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="RestConnection",g5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class m5{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${i}`,this.Wo=this.databaseId.database===ap?`project_id=${s}`:`project_id=${s}&database_id=${i}`}Go(t,n,s,i,r){const o=Dy(),a=this.zo(t,n.toUriEncodedString());Ot(Qm,`Sending RPC '${t}' ${o}:`,a,s);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,r);const{host:c}=new URL(a),u=oc(c);return this.Jo(t,a,l,s,u).then(h=>(Ot(Qm,`Received RPC '${t}' ${o}: `,h),h),h=>{throw Ml(Qm,`RPC '${t}' ${o} failed with error: `,h,"url: ",a,"request:",s),h})}Ho(t,n,s,i,r,o){return this.Go(t,n,s,i,r)}jo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cc}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,r)=>t[r]=i),s&&s.headers.forEach((i,r)=>t[r]=i)}zo(t,n){const s=g5[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kn="WebChannelConnection";class y5 extends m5{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,i,r){const o=Dy();return new Promise((a,l)=>{const c=new lP;c.setWithCredentials(!0),c.listenOnce(cP.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case hd.NO_ERROR:const h=c.getResponseJson();Ot(kn,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(h)),a(h);break;case hd.TIMEOUT:Ot(kn,`RPC '${t}' ${o} timed out`),l(new Ct(nt.DEADLINE_EXCEEDED,"Request time out"));break;case hd.HTTP_ERROR:const d=c.getStatus();if(Ot(kn,`RPC '${t}' ${o} failed with status:`,d,"response text:",c.getResponseText()),d>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p?.error;if(g&&g.status&&g.message){const m=function(E){const A=E.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(A)>=0?A:nt.UNKNOWN}(g.status);l(new Ct(m,g.message))}else l(new Ct(nt.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Ct(nt.UNAVAILABLE,"Connection failed."));break;default:Wt(9055,{l_:t,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Ot(kn,`RPC '${t}' ${o} completed.`)}});const u=JSON.stringify(i);Ot(kn,`RPC '${t}' ${o} sending request:`,i),c.send(n,"POST",u,s,15)})}T_(t,n,s){const i=Dy(),r=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=fP(),a=hP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,s),l.encodeInitMessageHeaders=!0;const u=r.join("");Ot(kn,`Creating RPC '${t}' stream ${i}: ${u}`,l);const h=o.createWebChannel(u,l);this.I_(h);let d=!1,p=!1;const g=new v5({Yo:y=>{p?Ot(kn,`Not sending because RPC '${t}' stream ${i} is closed:`,y):(d||(Ot(kn,`Opening RPC '${t}' stream ${i} transport.`),h.open(),d=!0),Ot(kn,`RPC '${t}' stream ${i} sending:`,y),h.send(y))},Zo:()=>h.close()}),m=(y,E,A)=>{y.listen(E,w=>{try{A(w)}catch(C){setTimeout(()=>{throw C},0)}})};return m(h,Zc.EventType.OPEN,()=>{p||(Ot(kn,`RPC '${t}' stream ${i} transport opened.`),g.o_())}),m(h,Zc.EventType.CLOSE,()=>{p||(p=!0,Ot(kn,`RPC '${t}' stream ${i} transport closed`),g.a_(),this.E_(h))}),m(h,Zc.EventType.ERROR,y=>{p||(p=!0,Ml(kn,`RPC '${t}' stream ${i} transport errored. Name:`,y.name,"Message:",y.message),g.a_(new Ct(nt.UNAVAILABLE,"The operation could not be completed")))}),m(h,Zc.EventType.MESSAGE,y=>{if(!p){const E=y.data[0];Ie(!!E,16349);const A=E,w=A?.error||A[0]?.error;if(w){Ot(kn,`RPC '${t}' stream ${i} received error:`,w);const C=w.status;let O=function(T){const _=on[T];if(_!==void 0)return KP(_)}(C),D=w.message;O===void 0&&(O=nt.INTERNAL,D="Unknown error status: "+C+" with message "+w.message),p=!0,g.a_(new Ct(O,D)),h.close()}else Ot(kn,`RPC '${t}' stream ${i} received:`,E),g.u_(E)}}),m(a,uP.STAT_EVENT,y=>{y.stat===Ey.PROXY?Ot(kn,`RPC '${t}' stream ${i} detected buffering proxy`):y.stat===Ey.NOPROXY&&Ot(kn,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.__()},0),g}terminate(){this.c_.forEach(t=>t.close()),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter(n=>n===t)}}function Jm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(e){return new T6(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(t,n,s=1e3,i=1.5,r=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=i,this.R_=r,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-s);i>0&&Ot("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),t())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="PersistentStream";class aR{constructor(t,n,s,i,r,o,a,l){this.Mi=t,this.S_=s,this.b_=i,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new oR(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===nt.RESOURCE_EXHAUSTED?(br(n.toString()),br("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,i])=>{this.D_===n&&this.G_(s,i)},s=>{t(()=>{const i=new Ct(nt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(i)})})}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{s(()=>this.z_(i))}),this.stream.onMessage(i=>{s(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(t){return Ot(e0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget(()=>this.D_===t?n():(Ot(e0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _5 extends aR{constructor(t,n,s,i,r,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=A6(this.serializer,t),s=function(r){if(!("targetChange"in r))return Yt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Yt.min():o.readTime?Ii(o.readTime):Yt.min()}(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=Oy(this.serializer),n.addTarget=function(r,o){let a;const l=o.target;if(a=Iy(l)?{documents:x6(r,l)}:{query:P6(r,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=YP(r,o.resumeToken);const c=xy(r,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Yt.min())>0){a.readTime=fp(r,o.snapshotVersion.toTimestamp());const c=xy(r,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,t);const s=O6(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=Oy(this.serializer),n.removeTarget=t,this.q_(n)}}class b5 extends aR{constructor(t,n,s,i,r,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Ie(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ie(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ie(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=C6(t.writeResults,t.commitTime),s=Ii(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=Oy(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>I6(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{}class T5 extends E5{constructor(t,n,s,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Ct(nt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Go(t,Py(n,s),i,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ct(nt.UNKNOWN,r.toString())})}Ho(t,n,s,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(t,Py(n,s),i,o,a,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ct(nt.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class S5{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(br(n),this.aa=!1):Ot("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aa="RemoteStore";class w5{constructor(t,n,s,i,r){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=r,this.Aa.Oo(o=>{s.enqueueAndForget(async()=>{Fa(this)&&(Ot(Aa,"Restarting streams for network reachability change."),await async function(l){const c=Jt(l);c.Ea.add(4),await Oh(c),c.Ra.set("Unknown"),c.Ea.delete(4),await Ig(c)}(this))})}),this.Ra=new S5(s,i)}}async function Ig(e){if(Fa(e))for(const t of e.da)await t(!0)}async function Oh(e){for(const t of e.da)await t(!1)}function lR(e,t){const n=Jt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),vb(n)?mb(n):dc(n).O_()&&gb(n,t))}function pb(e,t){const n=Jt(e),s=dc(n);n.Ia.delete(t),s.O_()&&cR(n,t),n.Ia.size===0&&(s.O_()?s.L_():Fa(n)&&n.Ra.set("Unknown"))}function gb(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Yt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}dc(e).Y_(t)}function cR(e,t){e.Va.Ue(t),dc(e).Z_(t)}function mb(e){e.Va=new y6({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),dc(e).start(),e.Ra.ua()}function vb(e){return Fa(e)&&!dc(e).x_()&&e.Ia.size>0}function Fa(e){return Jt(e).Ea.size===0}function uR(e){e.Va=void 0}async function A5(e){e.Ra.set("Online")}async function I5(e){e.Ia.forEach((t,n)=>{gb(e,t)})}async function C5(e,t){uR(e),vb(e)?(e.Ra.ha(t),mb(e)):e.Ra.set("Unknown")}async function x5(e,t,n){if(e.Ra.set("Online"),t instanceof XP&&t.state===2&&t.cause)try{await async function(i,r){const o=r.cause;for(const a of r.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.Va.removeTarget(a))}(e,t)}catch(s){Ot(Aa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await pp(e,s)}else if(t instanceof gd?e.Va.Ze(t):t instanceof GP?e.Va.st(t):e.Va.tt(t),!n.isEqual(Yt.min()))try{const s=await rR(e.localStore);n.compareTo(s)>=0&&await function(r,o){const a=r.Va.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=r.Ia.get(c);u&&r.Ia.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=r.Ia.get(l);if(!u)return;r.Ia.set(l,u.withResumeToken(Rn.EMPTY_BYTE_STRING,u.snapshotVersion)),cR(r,l);const h=new qr(u.target,l,c,u.sequenceNumber);gb(r,h)}),r.remoteSyncer.applyRemoteEvent(a)}(e,n)}catch(s){Ot(Aa,"Failed to raise snapshot:",s),await pp(e,s)}}async function pp(e,t,n){if(!hc(t))throw t;e.Ea.add(1),await Oh(e),e.Ra.set("Offline"),n||(n=()=>rR(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ot(Aa,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Ig(e)})}function hR(e,t){return t().catch(n=>pp(e,n,t))}async function Cg(e){const t=Jt(e),n=bo(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Z_;for(;P5(t);)try{const i=await u5(t.localStore,s);if(i===null){t.Ta.length===0&&n.L_();break}s=i.batchId,R5(t,i)}catch(i){await pp(t,i)}fR(t)&&dR(t)}function P5(e){return Fa(e)&&e.Ta.length<10}function R5(e,t){e.Ta.push(t);const n=bo(e);n.O_()&&n.X_&&n.ea(t.mutations)}function fR(e){return Fa(e)&&!bo(e).x_()&&e.Ta.length>0}function dR(e){bo(e).start()}async function O5(e){bo(e).ra()}async function N5(e){const t=bo(e);for(const n of e.Ta)t.ea(n.mutations)}async function D5(e,t,n){const s=e.Ta.shift(),i=ab.from(s,t,n);await hR(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Cg(e)}async function k5(e,t){t&&bo(e).X_&&await async function(s,i){if(function(o){return g6(o)&&o!==nt.ABORTED}(i.code)){const r=s.Ta.shift();bo(s).B_(),await hR(s,()=>s.remoteSyncer.rejectFailedWrite(r.batchId,i)),await Cg(s)}}(e,t),fR(e)&&dR(e)}async function n0(e,t){const n=Jt(e);n.asyncQueue.verifyOperationInProgress(),Ot(Aa,"RemoteStore received new credentials");const s=Fa(n);n.Ea.add(3),await Oh(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Ig(n)}async function M5(e,t){const n=Jt(e);t?(n.Ea.delete(2),await Ig(n)):t||(n.Ea.add(2),await Oh(n),n.Ra.set("Unknown"))}function dc(e){return e.ma||(e.ma=function(n,s,i){const r=Jt(n);return r.sa(),new _5(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(e.datastore,e.asyncQueue,{Xo:A5.bind(null,e),t_:I5.bind(null,e),r_:C5.bind(null,e),H_:x5.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),vb(e)?mb(e):e.Ra.set("Unknown")):(await e.ma.stop(),uR(e))})),e.ma}function bo(e){return e.fa||(e.fa=function(n,s,i){const r=Jt(n);return r.sa(),new b5(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:O5.bind(null,e),r_:k5.bind(null,e),ta:N5.bind(null,e),na:D5.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Cg(e)):(await e.fa.stop(),e.Ta.length>0&&(Ot(Aa,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(t,n,s,i,r){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=i,this.removalCallback=r,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,i,r){const o=Date.now()+s,a=new yb(t,n,o,i,r);return a.start(s),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ct(nt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _b(e,t){if(br("AsyncQueue",`${t}: ${e}`),hc(e))return new Ct(nt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{static emptySet(t){return new wl(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||Vt.comparator(n.key,s.key):(n,s)=>Vt.comparator(n.key,s.key),this.keyedMap=tu(),this.sortedSet=new Ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof wl)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(!i.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new wl;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(){this.ga=new Ge(Vt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Wt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal((n,s)=>{t.push(s)}),t}}class jl{constructor(t,n,s,i,r,o,a,l,c){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,n,s,i,r){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new jl(t,n,wl.emptySet(n),o,s,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==s[i].type||!n[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(t=>t.Da())}}class V5{constructor(){this.queries=i0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const i=Jt(n),r=i.queries;i.queries=i0(),r.forEach((o,a)=>{for(const l of a.Sa)l.onError(s)})})(this,new Ct(nt.ABORTED,"Firestore shutting down"))}}function i0(){return new Va(e=>kP(e),bg)}async function bb(e,t){const n=Jt(e);let s=3;const i=t.query;let r=n.queries.get(i);r?!r.ba()&&t.Da()&&(s=2):(r=new L5,s=t.Da()?0:1);try{switch(s){case 0:r.wa=await n.onListen(i,!0);break;case 1:r.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=_b(o,`Initialization of query '${ol(t.query)}' failed`);return void t.onError(a)}n.queries.set(i,r),r.Sa.push(t),t.va(n.onlineState),r.wa&&t.Fa(r.wa)&&Tb(n)}async function Eb(e,t){const n=Jt(e),s=t.query;let i=3;const r=n.queries.get(s);if(r){const o=r.Sa.indexOf(t);o>=0&&(r.Sa.splice(o,1),r.Sa.length===0?i=t.Da()?0:1:!r.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function F5(e,t){const n=Jt(e);let s=!1;for(const i of t){const r=i.query,o=n.queries.get(r);if(o){for(const a of o.Sa)a.Fa(i)&&(s=!0);o.wa=i}}s&&Tb(n)}function $5(e,t,n){const s=Jt(e),i=s.queries.get(t);if(i)for(const r of i.Sa)r.onError(n);s.queries.delete(t)}function Tb(e){e.Ca.forEach(t=>{t.next()})}var ky,r0;(r0=ky||(ky={})).Ma="default",r0.Cache="cache";class Sb{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const i of t.docChanges)i.type!==3&&s.push(i);t=new jl(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=jl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==ky.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(t){this.key=t}}class gR{constructor(t){this.key=t}}class U5{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=pe(),this.mutatedKeys=pe(),this.eu=MP(t),this.tu=new wl(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new s0,i=n?n.tu:this.tu;let r=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((u,h)=>{const d=i.get(u),p=Eg(this.query,h)?h:null,g=!!d&&this.mutatedKeys.has(d.key),m=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;d&&p?d.data.isEqual(p.data)?g!==m&&(s.track({type:3,doc:p}),y=!0):this.su(d,p)||(s.track({type:2,doc:p}),y=!0,(l&&this.eu(p,l)>0||c&&this.eu(p,c)<0)&&(a=!0)):!d&&p?(s.track({type:0,doc:p}),y=!0):d&&!p&&(s.track({type:1,doc:d}),y=!0,(l||c)&&(a=!0)),y&&(p?(o=o.add(p),r=m?r.add(u):r.delete(u)):(o=o.delete(u),r=r.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),r=r.delete(u.key),s.track({type:1,doc:u})}return{tu:o,iu:s,Cs:a,mutatedKeys:r}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,i){const r=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const o=t.iu.ya();o.sort((u,h)=>function(p,g){const m=y=>{switch(y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Wt(20277,{Rt:y})}};return m(p)-m(g)}(u.type,h.type)||this.eu(u.doc,h.doc)),this.ou(s),i=i??!1;const a=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,o.length!==0||c?{snapshot:new jl(this.query,t.tu,r,o,t.mutatedKeys,l===0,c,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new s0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=pe(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return t.forEach(s=>{this.Xa.has(s)||n.push(new gR(s))}),this.Xa.forEach(s=>{t.has(s)||n.push(new pR(s))}),n}cu(t){this.Ya=t.Qs,this.Xa=pe();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return jl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const wb="SyncEngine";class B5{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class j5{constructor(t){this.key=t,this.hu=!1}}class H5{constructor(t,n,s,i,r,o){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Va(a=>kP(a),bg),this.Iu=new Map,this.Eu=new Set,this.du=new Ge(Vt.comparator),this.Au=new Map,this.Ru=new ub,this.Vu={},this.mu=new Map,this.fu=Bl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function z5(e,t,n=!0){const s=ER(e);let i;const r=s.Tu.get(t);return r?(s.sharedClientState.addLocalQueryTarget(r.targetId),i=r.view.lu()):i=await mR(s,t,n,!0),i}async function W5(e,t){const n=ER(e);await mR(n,t,!0,!1)}async function mR(e,t,n,s){const i=await h5(e.localStore,Ai(t)),r=i.targetId,o=e.sharedClientState.addLocalQueryTarget(r,n);let a;return s&&(a=await K5(e,t,r,o==="current",i.resumeToken)),e.isPrimaryClient&&n&&lR(e.remoteStore,i),a}async function K5(e,t,n,s,i){e.pu=(h,d,p)=>async function(m,y,E,A){let w=y.view.ru(E);w.Cs&&(w=await Qw(m.localStore,y.query,!1).then(({documents:x})=>y.view.ru(x,w)));const C=A&&A.targetChanges.get(y.targetId),O=A&&A.targetMismatches.get(y.targetId)!=null,D=y.view.applyChanges(w,m.isPrimaryClient,C,O);return a0(m,y.targetId,D.au),D.snapshot}(e,h,d,p);const r=await Qw(e.localStore,t,!0),o=new U5(t,r.Qs),a=o.ru(r.documents),l=Rh.createSynthesizedTargetChangeForCurrentChange(n,s&&e.onlineState!=="Offline",i),c=o.applyChanges(a,e.isPrimaryClient,l);a0(e,n,c.au);const u=new B5(t,n,o);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function G5(e,t,n){const s=Jt(e),i=s.Tu.get(t),r=s.Iu.get(i.targetId);if(r.length>1)return s.Iu.set(i.targetId,r.filter(o=>!bg(o,t))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(i.targetId),s.sharedClientState.isActiveQueryTarget(i.targetId)||await Ny(s.localStore,i.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(i.targetId),n&&pb(s.remoteStore,i.targetId),My(s,i.targetId)}).catch(uc)):(My(s,i.targetId),await Ny(s.localStore,i.targetId,!0))}async function X5(e,t){const n=Jt(e),s=n.Tu.get(t),i=n.Iu.get(s.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),pb(n.remoteStore,s.targetId))}async function Y5(e,t,n){const s=nB(e);try{const i=await function(o,a){const l=Jt(o),c=$e.now(),u=a.reduce((p,g)=>p.add(g.key),pe());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=Er(),m=pe();return l.Ns.getEntries(p,u).next(y=>{g=y,g.forEach((E,A)=>{A.isValidDocument()||(m=m.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(y=>{h=y;const E=[];for(const A of a){const w=u6(A,h.get(A.key).overlayedDocument);w!=null&&E.push(new ko(A.key,w,IP(w.value.mapValue),Us.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,E,a)}).next(y=>{d=y;const E=y.applyToLocalDocumentSet(h,m);return l.documentOverlayCache.saveOverlays(p,y.batchId,E)})}).then(()=>({batchId:d.batchId,changes:VP(h)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Vu[o.currentUser.toKey()];c||(c=new Ge(de)),c=c.insert(a,l),o.Vu[o.currentUser.toKey()]=c}(s,i.batchId,n),await Nh(s,i.changes),await Cg(s.remoteStore)}catch(i){const r=_b(i,"Failed to persist write");n.reject(r)}}async function vR(e,t){const n=Jt(e);try{const s=await l5(n.localStore,t);t.targetChanges.forEach((i,r)=>{const o=n.Au.get(r);o&&(Ie(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?Ie(o.hu,14607):i.removedDocuments.size>0&&(Ie(o.hu,42227),o.hu=!1))}),await Nh(n,s,t)}catch(s){await uc(s)}}function o0(e,t,n){const s=Jt(e);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const i=[];s.Tu.forEach((r,o)=>{const a=o.view.va(t);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Jt(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const d of h.Sa)d.va(a)&&(c=!0)}),c&&Tb(l)}(s.eventManager,t),i.length&&s.Pu.H_(i),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function q5(e,t,n){const s=Jt(e);s.sharedClientState.updateQueryState(t,"rejected",n);const i=s.Au.get(t),r=i&&i.key;if(r){let o=new Ge(Vt.comparator);o=o.insert(r,jn.newNoDocument(r,Yt.min()));const a=pe().add(r),l=new wg(Yt.min(),new Map,new Ge(de),o,a);await vR(s,l),s.du=s.du.remove(r),s.Au.delete(t),Ab(s)}else await Ny(s.localStore,t,!1).then(()=>My(s,t,n)).catch(uc)}async function Q5(e,t){const n=Jt(e),s=t.batch.batchId;try{const i=await a5(n.localStore,t);_R(n,s,null),yR(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Nh(n,i)}catch(i){await uc(i)}}async function J5(e,t,n){const s=Jt(e);try{const i=await function(o,a){const l=Jt(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Ie(h!==null,37113),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(s.localStore,t);_R(s,t,n),yR(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Nh(s,i)}catch(i){await uc(i)}}function yR(e,t){(e.mu.get(t)||[]).forEach(n=>{n.resolve()}),e.mu.delete(t)}function _R(e,t,n){const s=Jt(e);let i=s.Vu[s.currentUser.toKey()];if(i){const r=i.get(t);r&&(n?r.reject(n):r.resolve(),i=i.remove(t)),s.Vu[s.currentUser.toKey()]=i}}function My(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const s of e.Iu.get(t))e.Tu.delete(s),n&&e.Pu.yu(s,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(s=>{e.Ru.containsKey(s)||bR(e,s)})}function bR(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);n!==null&&(pb(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Ab(e))}function a0(e,t,n){for(const s of n)s instanceof pR?(e.Ru.addReference(s.key,t),Z5(e,s)):s instanceof gR?(Ot(wb,"Document no longer in limbo: "+s.key),e.Ru.removeReference(s.key,t),e.Ru.containsKey(s.key)||bR(e,s.key)):Wt(19791,{wu:s})}function Z5(e,t){const n=t.key,s=n.path.canonicalString();e.du.get(n)||e.Eu.has(s)||(Ot(wb,"New document in limbo: "+n),e.Eu.add(s),Ab(e))}function Ab(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Vt(Me.fromString(t)),s=e.fu.next();e.Au.set(s,new j5(n)),e.du=e.du.insert(n,s),lR(e.remoteStore,new qr(Ai(_g(n.path)),s,"TargetPurposeLimboResolution",mg.ce))}}async function Nh(e,t,n){const s=Jt(e),i=[],r=[],o=[];s.Tu.isEmpty()||(s.Tu.forEach((a,l)=>{o.push(s.pu(l,t,n).then(c=>{if((c||n)&&s.isPrimaryClient){const u=c?!c.fromCache:n?.targetChanges.get(l.targetId)?.current;s.sharedClientState.updateQueryState(l.targetId,u?"current":"not-current")}if(c){i.push(c);const u=fb.As(l.targetId,c);r.push(u)}}))}),await Promise.all(o),s.Pu.H_(i),await async function(l,c){const u=Jt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>lt.forEach(c,d=>lt.forEach(d.Es,p=>u.persistence.referenceDelegate.addReference(h,d.targetId,p)).next(()=>lt.forEach(d.ds,p=>u.persistence.referenceDelegate.removeReference(h,d.targetId,p)))))}catch(h){if(!hc(h))throw h;Ot(db,"Failed to update sequence numbers: "+h)}for(const h of c){const d=h.targetId;if(!h.fromCache){const p=u.Ms.get(d),g=p.snapshotVersion,m=p.withLastLimboFreeSnapshotVersion(g);u.Ms=u.Ms.insert(d,m)}}}(s.localStore,r))}async function tB(e,t){const n=Jt(e);if(!n.currentUser.isEqual(t)){Ot(wb,"User change. New user:",t.toKey());const s=await iR(n.localStore,t);n.currentUser=t,function(r,o){r.mu.forEach(a=>{a.forEach(l=>{l.reject(new Ct(nt.CANCELLED,o))})}),r.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Nh(n,s.Ls)}}function eB(e,t){const n=Jt(e),s=n.Au.get(t);if(s&&s.hu)return pe().add(s.key);{let i=pe();const r=n.Iu.get(t);if(!r)return i;for(const o of r){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function ER(e){const t=Jt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=vR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=eB.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=q5.bind(null,t),t.Pu.H_=F5.bind(null,t.eventManager),t.Pu.yu=$5.bind(null,t.eventManager),t}function nB(e){const t=Jt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Q5.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=J5.bind(null,t),t}class gp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ag(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return o5(this.persistence,new s5,t.initialUser,this.serializer)}Cu(t){return new sR(hb.mi,this.serializer)}Du(t){return new d5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gp.provider={build:()=>new gp};class sB extends gp{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Ie(this.persistence.referenceDelegate instanceof dp,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new j6(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?hs.withCacheSize(this.cacheSizeBytes):hs.DEFAULT;return new sR(s=>dp.mi(s,n),this.serializer)}}class Ly{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>o0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=tB.bind(null,this.syncEngine),await M5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new V5}()}createDatastore(t){const n=Ag(t.databaseInfo.databaseId),s=function(r){return new y5(r)}(t.databaseInfo);return function(r,o,a,l){return new T5(r,o,a,l)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,i,r,o,a){return new w5(s,i,r,o,a)}(this.localStore,this.datastore,t.asyncQueue,n=>o0(this.syncEngine,n,0),function(){return t0.v()?new t0:new p5}())}createSyncEngine(t,n){return function(i,r,o,a,l,c,u){const h=new H5(i,r,o,a,l,c);return u&&(h.gu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=Jt(n);Ot(Aa,"RemoteStore shutting down."),s.Ea.add(5),await Oh(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ly.provider={build:()=>new Ly};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):br("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo="FirestoreClient";class iB{constructor(t,n,s,i,r){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=i,this.user=$n.UNAUTHENTICATED,this.clientId=J_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(s,async o=>{Ot(Eo,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(s,o=>(Ot(Eo,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=_b(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Zm(e,t){e.asyncQueue.verifyOperationInProgress(),Ot(Eo,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let s=n.initialUser;e.setCredentialChangeListener(async i=>{s.isEqual(i)||(await iR(t.localStore,i),s=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function l0(e,t){e.asyncQueue.verifyOperationInProgress();const n=await rB(e);Ot(Eo,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(s=>n0(t.remoteStore,s)),e.setAppCheckTokenChangeListener((s,i)=>n0(t.remoteStore,i)),e._onlineComponents=t}async function rB(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ot(Eo,"Using user provided OfflineComponentProvider");try{await Zm(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===nt.FAILED_PRECONDITION||i.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ml("Error using user provided cache. Falling back to memory cache: "+n),await Zm(e,new gp)}}else Ot(Eo,"Using default OfflineComponentProvider"),await Zm(e,new sB(void 0));return e._offlineComponents}async function TR(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ot(Eo,"Using user provided OnlineComponentProvider"),await l0(e,e._uninitializedComponentsProvider._online)):(Ot(Eo,"Using default OnlineComponentProvider"),await l0(e,new Ly))),e._onlineComponents}function oB(e){return TR(e).then(t=>t.syncEngine)}async function mp(e){const t=await TR(e),n=t.eventManager;return n.onListen=z5.bind(null,t.syncEngine),n.onUnlisten=G5.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=W5.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=X5.bind(null,t.syncEngine),n}function aB(e,t,n={}){const s=new rr;return e.asyncQueue.enqueueAndForget(async()=>function(r,o,a,l,c){const u=new Ib({next:d=>{u.Nu(),o.enqueueAndForget(()=>Eb(r,h));const p=d.docs.has(a);!p&&d.fromCache?c.reject(new Ct(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&d.fromCache&&l&&l.source==="server"?c.reject(new Ct(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new Sb(_g(a.path),u,{includeMetadataChanges:!0,qa:!0});return bb(r,h)}(await mp(e),e.asyncQueue,t,n,s)),s.promise}function lB(e,t,n={}){const s=new rr;return e.asyncQueue.enqueueAndForget(async()=>function(r,o,a,l,c){const u=new Ib({next:d=>{u.Nu(),o.enqueueAndForget(()=>Eb(r,h)),d.fromCache&&l.source==="server"?c.reject(new Ct(nt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new Sb(a,u,{includeMetadataChanges:!0,qa:!0});return bb(r,h)}(await mp(e),e.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR="firestore.googleapis.com",u0=!0;class h0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new Ct(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wR,this.ssl=u0}else this.host=t.host,this.ssl=t.ssl??u0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=nR;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<U6)throw new Ct(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}w3("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=SR(t.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ct(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ct(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ct(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,i){return s.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xg{constructor(t,n,s,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new h0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ct(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ct(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new h0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new p3;switch(s.type){case"firstParty":return new y3(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Ct(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=c0.get(n);s&&(Ot("ComponentProvider","Removing Datastore"),c0.delete(n),s.terminate())}(this),Promise.resolve()}}function cB(e,t,n,s={}){e=_s(e,xg);const i=oc(t),r=e._getSettings(),o={...r,emulatorOptions:e._getEmulatorOptions()},a=`${t}:${n}`;i&&(bx(`https://${a}`),Ex("Firestore",!0)),r.host!==wR&&r.host!==a&&Ml("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...r,host:a,ssl:i,emulatorOptions:s};if(!vr(l,o)&&(e._setSettings(l),s.mockUserToken)){let c,u;if(typeof s.mockUserToken=="string")c=s.mockUserToken,u=$n.MOCK_USER;else{c=CF(s.mockUserToken,e._app?.options.projectId);const h=s.mockUserToken.sub||s.mockUserToken.user_id;if(!h)throw new Ct(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new $n(h)}e._authCredentials=new g3(new pP(c,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Cr(this.firestore,t,this._query)}}class Ze{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new co(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ze(this.firestore,t,this._key)}toJSON(){return{type:Ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(xh(n,Ze._jsonSchema))return new Ze(t,s||null,new Vt(Me.fromString(n.referencePath)))}}Ze._jsonSchemaVersion="firestore/documentReference/1.0",Ze._jsonSchema={type:un("string",Ze._jsonSchemaVersion),referencePath:un("string")};class co extends Cr{constructor(t,n,s){super(t,n,_g(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ze(this.firestore,null,new Vt(t))}withConverter(t){return new co(this.firestore,t,this._path)}}function Kn(e,t,...n){if(e=pn(e),gP("collection","path",t),e instanceof xg){const s=Me.fromString(t,...n);return ww(s),new co(e,null,s)}{if(!(e instanceof Ze||e instanceof co))throw new Ct(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(Me.fromString(t,...n));return ww(s),new co(e.firestore,null,s)}}function Be(e,t,...n){if(e=pn(e),arguments.length===1&&(t=J_.newId()),gP("doc","path",t),e instanceof xg){const s=Me.fromString(t,...n);return Sw(s),new Ze(e,null,new Vt(s))}{if(!(e instanceof Ze||e instanceof co))throw new Ct(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=e._path.child(Me.fromString(t,...n));return Sw(s),new Ze(e.firestore,e instanceof co?e.converter:null,new Vt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0="AsyncQueue";class d0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new oR(this,"async_queue_retry"),this._c=()=>{const s=Jm();s&&Ot(f0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Jm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Jm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise(()=>{});const n=new rr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Xu.push(t),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!hc(t))throw t;Ot(f0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(t){const n=this.ac.then(()=>(this.rc=!0,t().catch(s=>{throw this.nc=s,this.rc=!1,br("INTERNAL UNHANDLED ERROR: ",p0(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const i=yb.createAndSchedule(this,t,n,s,r=>this.hc(r));return this.tc.push(i),i}uc(){this.nc&&Wt(47125,{Pc:p0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()})}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function p0(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(e){return function(n,s){if(typeof n!="object"||n===null)return!1;const i=n;for(const r of s)if(r in i&&typeof i[r]=="function")return!0;return!1}(e,["next","error","complete"])}class Tr extends xg{constructor(t,n,s,i){super(t,n,s,i),this.type="firestore",this._queue=new d0,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new d0(t),this._firestoreClient=void 0,await t}}}function Cb(e,t){const n=typeof e=="object"?e:Ax(),s=typeof e=="string"?e:ap,i=F_(n,"firestore").getImmediate({identifier:s});if(!i._initialized){const r=AF("firestore");r&&cB(i,...r)}return i}function Pg(e){if(e._terminated)throw new Ct(nt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||uB(e),e._firestoreClient}function uB(e){const t=e._freezeSettings(),n=function(i,r,o,a){return new M3(i,r,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,SR(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator)}(e._databaseId,e._app?.options.appId||"",e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new iB(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(i){const r=i?._online.build();return{_offline:i?._offline.build(r),_online:r}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Vs(Rn.fromBase64String(t))}catch(n){throw new Ct(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Vs(Rn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Vs._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(xh(t,Vs._jsonSchema))return Vs.fromBase64String(t.bytes)}}Vs._jsonSchemaVersion="firestore/bytes/1.0",Vs._jsonSchema={type:un("string",Vs._jsonSchemaVersion),bytes:un("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Ct(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Ct(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ct(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return de(this._lat,t._lat)||de(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ci._jsonSchemaVersion}}static fromJSON(t){if(xh(t,Ci._jsonSchema))return new Ci(t.latitude,t.longitude)}}Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:un("string",Ci._jsonSchemaVersion),latitude:un("number"),longitude:un("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,i){if(s.length!==i.length)return!1;for(let r=0;r<s.length;++r)if(s[r]!==i[r])return!1;return!0}(this._values,t._values)}toJSON(){return{type:xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(xh(t,xi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every(n=>typeof n=="number"))return new xi(t.vectorValues);throw new Ct(nt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xi._jsonSchemaVersion="firestore/vectorValue/1.0",xi._jsonSchema={type:un("string",xi._jsonSchemaVersion),vectorValues:un("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hB=/^__.*__$/;class fB{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new ko(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ph(t,this.data,n,this.fieldTransforms)}}class AR{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return new ko(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function IR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Wt(40011,{Ac:e})}}class Og{constructor(t,n,s,i,r,o){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=i,r===void 0&&this.Rc(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Og({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return vp(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(IR(this.Ac)&&hB.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class dB{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Ag(t)}Cc(t,n,s,i=!1){return new Og({Ac:t,methodName:n,Dc:s,path:Cn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ng(e){const t=e._freezeSettings(),n=Ag(e._databaseId);return new dB(e._databaseId,!!t.ignoreUndefinedProperties,n)}function CR(e,t,n,s,i,r={}){const o=e.Cc(r.merge||r.mergeFields?2:0,t,n,i);Ob("Data must be an object, but it was:",o,s);const a=PR(s,o);let l,c;if(r.merge)l=new xs(o.fieldMask),c=o.fieldTransforms;else if(r.mergeFields){const u=[];for(const h of r.mergeFields){const d=Vy(t,h,n);if(!o.contains(d))throw new Ct(nt.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);OR(u,d)||u.push(d)}l=new xs(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new fB(new ps(a),l,c)}class Dg extends pc{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Dg}}function xR(e,t,n){return new Og({Ac:3,Dc:t.settings.Dc,methodName:e._methodName,fc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class xb extends pc{_toFieldTransform(t){return new rb(t.path,new eh)}isEqual(t){return t instanceof xb}}class Pb extends pc{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=xR(this,t,!0),s=this.vc.map(r=>$a(r,n)),i=new $l(s);return new rb(t.path,i)}isEqual(t){return t instanceof Pb&&vr(this.vc,t.vc)}}class Rb extends pc{constructor(t,n){super(t),this.vc=n}_toFieldTransform(t){const n=xR(this,t,!0),s=this.vc.map(r=>$a(r,n)),i=new Ul(s);return new rb(t.path,i)}isEqual(t){return t instanceof Rb&&vr(this.vc,t.vc)}}function pB(e,t,n,s){const i=e.Cc(1,t,n);Ob("Data must be an object, but it was:",i,s);const r=[],o=ps.empty();Do(s,(l,c)=>{const u=Nb(t,l,n);c=pn(c);const h=i.yc(u);if(c instanceof Dg)r.push(u);else{const d=$a(c,h);d!=null&&(r.push(u),o.set(u,d))}});const a=new xs(r);return new AR(o,a,i.fieldTransforms)}function gB(e,t,n,s,i,r){const o=e.Cc(1,t,n),a=[Vy(t,s,n)],l=[i];if(r.length%2!=0)throw new Ct(nt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<r.length;d+=2)a.push(Vy(t,r[d])),l.push(r[d+1]);const c=[],u=ps.empty();for(let d=a.length-1;d>=0;--d)if(!OR(c,a[d])){const p=a[d];let g=l[d];g=pn(g);const m=o.yc(p);if(g instanceof Dg)c.push(p);else{const y=$a(g,m);y!=null&&(c.push(p),u.set(p,y))}}const h=new xs(c);return new AR(u,h,o.fieldTransforms)}function mB(e,t,n,s=!1){return $a(n,e.Cc(s?4:3,t))}function $a(e,t){if(RR(e=pn(e)))return Ob("Unsupported field value:",t,e),PR(e,t);if(e instanceof pc)return function(s,i){if(!IR(i.Ac))throw i.Sc(`${s._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${s._methodName}() is not currently supported inside arrays`);const r=s._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return function(s,i){const r=[];let o=0;for(const a of s){let l=$a(a,i.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),r.push(l),o++}return{arrayValue:{values:r}}}(e,t)}return function(s,i){if((s=pn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return i6(i.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const r=$e.fromDate(s);return{timestampValue:fp(i.serializer,r)}}if(s instanceof $e){const r=new $e(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:fp(i.serializer,r)}}if(s instanceof Ci)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Vs)return{bytesValue:YP(i.serializer,s._byteString)};if(s instanceof Ze){const r=i.databaseId,o=s.firestore._databaseId;if(!o.isEqual(r))throw i.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:cb(s.firestore._databaseId||i.databaseId,s._key.path)}}if(s instanceof xi)return function(o,a){return{mapValue:{fields:{[wP]:{stringValue:AP},[lp]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Sc("VectorValues must only contain numeric values.");return ib(a.serializer,c)})}}}}}}(s,i);throw i.Sc(`Unsupported field value: ${gg(s)}`)}(e,t)}function PR(e,t){const n={};return yP(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Do(e,(s,i)=>{const r=$a(i,t.mc(s));r!=null&&(n[s]=r)}),{mapValue:{fields:n}}}function RR(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof $e||e instanceof Ci||e instanceof Vs||e instanceof Ze||e instanceof pc||e instanceof xi)}function Ob(e,t,n){if(!RR(n)||!mP(n)){const s=gg(n);throw s==="an object"?t.Sc(e+" a custom object"):t.Sc(e+" "+s)}}function Vy(e,t,n){if((t=pn(t))instanceof Rg)return t._internalPath;if(typeof t=="string")return Nb(e,t);throw vp("Field path arguments must be of type string or ",e,!1,void 0,n)}const vB=new RegExp("[~\\*/\\[\\]]");function Nb(e,t,n){if(t.search(vB)>=0)throw vp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Rg(...t.split("."))._internalPath}catch{throw vp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function vp(e,t,n,s,i){const r=s&&!s.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(r||o)&&(l+=" (found",r&&(l+=` in field ${s}`),o&&(l+=` in document ${i}`),l+=")"),new Ct(nt.INVALID_ARGUMENT,a+e+l)}function OR(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(t,n,s,i,r){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new Ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new yB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(kg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class yB extends NR{data(){return super.data()}}function kg(e,t){return typeof t=="string"?Nb(e,t):t instanceof Rg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Ct(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Db{}class kb extends Db{}function fa(e,t,...n){let s=[];t instanceof Db&&s.push(t),s=s.concat(n),function(r){const o=r.filter(l=>l instanceof Mb).length,a=r.filter(l=>l instanceof Mg).length;if(o>1||o>0&&a>0)throw new Ct(nt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const i of s)e=i._apply(e);return e}class Mg extends kb{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Mg(t,n,s)}_apply(t){const n=this._parse(t);return kR(t._query,n),new Cr(t.firestore,t.converter,Cy(t._query,n))}_parse(t){const n=Ng(t.firestore);return function(r,o,a,l,c,u,h){let d;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Ct(nt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){v0(h,u);const g=[];for(const m of h)g.push(m0(l,r,m));d={arrayValue:{values:g}}}else d=m0(l,r,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||v0(h,u),d=mB(a,o,h,u==="in"||u==="not-in");return cn.create(c,u,d)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function nh(e,t,n){const s=t,i=kg("where",e);return Mg._create(i,s,n)}class Mb extends Db{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Mb(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:fi.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(i,r){let o=i;const a=r.getFlattenedFilters();for(const l of a)kR(o,l),o=Cy(o,l)}(t._query,n),new Cr(t.firestore,t.converter,Cy(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Lb extends kb{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Lb(t,n)}_apply(t){const n=function(i,r,o){if(i.startAt!==null)throw new Ct(nt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Ct(nt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new th(r,o)}(t._query,this._field,this._direction);return new Cr(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new fc(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,n))}}function md(e,t="asc"){const n=t,s=kg("orderBy",e);return Lb._create(s,n)}class Vb extends kb{constructor(t,n,s){super(),this.type=t,this._limit=n,this._limitType=s}static _create(t,n,s){return new Vb(t,n,s)}_apply(t){return new Cr(t.firestore,t.converter,up(t._query,this._limit,this._limitType))}}function tv(e){return Vb._create("limit",e,"F")}function m0(e,t,n){if(typeof(n=pn(n))=="string"){if(n==="")throw new Ct(nt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!DP(t)&&n.indexOf("/")!==-1)throw new Ct(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(Me.fromString(n));if(!Vt.isDocumentKey(s))throw new Ct(nt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Nw(e,new Vt(s))}if(n instanceof Ze)return Nw(e,n._key);throw new Ct(nt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${gg(n)}.`)}function v0(e,t){if(!Array.isArray(e)||e.length===0)throw new Ct(nt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function kR(e,t){const n=function(i,r){for(const o of i)for(const a of o.getFlattenedFilters())if(r.indexOf(a.op)>=0)return a.op;return null}(e.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new Ct(nt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ct(nt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class _B{convertValue(t,n="none"){switch(_o(t)){case 0:return null;case 1:return t.booleanValue;case 2:return nn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(yo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Wt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Do(t,(i,r)=>{s[i]=this.convertValue(r,n)}),s}convertVectorValue(t){const n=t.fields?.[lp].arrayValue?.values?.map(s=>nn(s.doubleValue));return new xi(n)}convertGeoPoint(t){return new Ci(nn(t.latitude),nn(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=yg(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Qu(t));default:return null}}convertTimestamp(t){const n=vo(t);return new $e(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Me.fromString(t);Ie(eR(s),9688,{name:t});const i=new Ju(s.get(1),s.get(3)),r=new Vt(s.popFirst(5));return i.isEqual(n)||br(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(e,t,n){let s;return s=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,s}class nu{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class da extends NR{constructor(t,n,s,i,r,o){super(t,n,s,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=r}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(kg("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ct(nt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=da._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}da._jsonSchemaVersion="firestore/documentSnapshot/1.0",da._jsonSchema={type:un("string",da._jsonSchemaVersion),bundleSource:un("string","DocumentSnapshot"),bundleName:un("string"),bundle:un("string")};class vd extends da{data(t={}){return super.data(t)}}class pa{constructor(t,n,s,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new nu(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new vd(this._firestore,this._userDataWriter,s.key,s,new nu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ct(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new vd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new nu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>r||a.type!==3).map(a=>{const l=new vd(i._firestore,i._userDataWriter,a.doc.key,a.doc,new nu(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:bB(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ct(nt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=pa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=J_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],i=[];return this.docs.forEach(r=>{r._document!==null&&(n.push(r._document),s.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),i.push(r.ref.path))}),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function bB(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Wt(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(e){e=_s(e,Ze);const t=_s(e.firestore,Tr);return aB(Pg(t),e._key).then(n=>LR(t,e,n))}pa._jsonSchemaVersion="firestore/querySnapshot/1.0",pa._jsonSchema={type:un("string",pa._jsonSchemaVersion),bundleSource:un("string","QuerySnapshot"),bundleName:un("string"),bundle:un("string")};class Fb extends _B{constructor(t){super(),this.firestore=t}convertBytes(t){return new Vs(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Ze(this.firestore,null,n)}}function ui(e){e=_s(e,Cr);const t=_s(e.firestore,Tr),n=Pg(t),s=new Fb(t);return DR(e._query),lB(n,e._query).then(i=>new pa(t,s,e,i))}function $b(e,t,n){e=_s(e,Ze);const s=_s(e.firestore,Tr),i=MR(e.converter,t,n);return Vg(s,[CR(Ng(s),"setDoc",e._key,i,e.converter!==null,n).toMutation(e._key,Us.none())])}function Sr(e,t,n,...s){e=_s(e,Ze);const i=_s(e.firestore,Tr),r=Ng(i);let o;return o=typeof(t=pn(t))=="string"||t instanceof Rg?gB(r,"updateDoc",e._key,t,n,s):pB(r,"updateDoc",e._key,t),Vg(i,[o.toMutation(e._key,Us.exists(!0))])}function Lg(e){return Vg(_s(e.firestore,Tr),[new ob(e._key,Us.none())])}function Dh(e,t){const n=_s(e.firestore,Tr),s=Be(e),i=MR(e.converter,t);return Vg(n,[CR(Ng(e.firestore),"addDoc",s._key,i,e.converter!==null,{}).toMutation(s._key,Us.exists(!1))]).then(()=>s)}function EB(e,...t){e=pn(e);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||g0(t[s])||(n=t[s++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(g0(t[s])){const l=t[s];t[s]=l.next?.bind(l),t[s+1]=l.error?.bind(l),t[s+2]=l.complete?.bind(l)}let r,o,a;if(e instanceof Ze)o=_s(e.firestore,Tr),a=_g(e._key.path),r={next:l=>{t[s]&&t[s](LR(o,e,l))},error:t[s+1],complete:t[s+2]};else{const l=_s(e,Cr);o=_s(l.firestore,Tr),a=l._query;const c=new Fb(o);r={next:u=>{t[s]&&t[s](new pa(o,c,l,u))},error:t[s+1],complete:t[s+2]},DR(e._query)}return function(c,u,h,d){const p=new Ib(d),g=new Sb(u,p,h);return c.asyncQueue.enqueueAndForget(async()=>bb(await mp(c),g)),()=>{p.Nu(),c.asyncQueue.enqueueAndForget(async()=>Eb(await mp(c),g))}}(Pg(o),a,i,r)}function Vg(e,t){return function(s,i){const r=new rr;return s.asyncQueue.enqueueAndForget(async()=>Y5(await oB(s),i,r)),r.promise}(Pg(e),t)}function LR(e,t,n){const s=n.docs.get(t._key),i=new Fb(e);return new da(e,i,t._key,s,new nu(n.hasPendingWrites,n.fromCache),t.converter)}function VR(){return new xb("serverTimestamp")}function FR(...e){return new Pb("arrayUnion",e)}function TB(...e){return new Rb("arrayRemove",e)}(function(t,n=!0){(function(i){cc=i})(ac),kl(new Ea("firestore",(s,{instanceIdentifier:i,options:r})=>{const o=s.getProvider("app").getImmediate(),a=new Tr(new m3(s.getProvider("auth-internal")),new _3(o,s.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ct(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ju(c.options.projectId,u)}(o,i),o);return r={useFetchStreams:n,...r},a._setSettings(r),a},"PUBLIC").setMultipleInstances(!0)),ao(_w,bw,t),ao(_w,bw,"esm2020")})();var SB="firebase",wB="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ao(SB,wB,"app");const AB={apiKey:"AIzaSyD6UqzL884_To6gWabLYU4cvjwQiDIL350",authDomain:"levelup-71b50.firebaseapp.com",projectId:"levelup-71b50",storageBucket:"levelup-71b50.firebasestorage.app",messagingSenderId:"890322883750",appId:"1:890322883750:web:14f3a6cb7f89d7b900d067",measurementId:"G-ZC4S7CWBPQ"},$R=wx(AB),Li=q_($R),oe=Cb($R);new Ti;const Ne=(e,t)=>{const n=e.__vccOpts||e;for(const[s,i]of t)n[s]=i;return n},IB={class:"login-wrapper d-flex align-items-center justify-content-center min-vh-100"},CB={class:"login-box p-4 rounded-4 shadow glassy",style:{"max-width":"400px",width:"100%"}},xB={class:"mb-3"},PB={class:"mb-3"},RB={class:"text-center mt-4 text-light"},OB={__name:"LoginView",setup(e){const t=It(""),n=It(""),s=M_(),i=async()=>{try{await Z4(Li,t.value,n.value),s.push("/dashboard")}catch(o){alert("Błąd logowania: "+o.message)}},r=async()=>{const o=new Ti;try{await TU(Li,o),s.push("/dashboard")}catch(a){alert("Błąd logowania Google: "+a.message)}};return(o,a)=>{const l=La("router-link");return Q(),st("div",IB,[N("div",CB,[a[7]||(a[7]=N("h2",{class:"text-center text-gradient mb-4 fw-bold"},"Zaloguj się",-1)),N("form",{onSubmit:rs(i,["prevent"])},[N("div",xB,[a[2]||(a[2]=N("label",{class:"form-label text-light"},"Email",-1)),se(N("input",{"onUpdate:modelValue":a[0]||(a[0]=c=>t.value=c),type:"email",class:"form-control",required:""},null,512),[[re,t.value]])]),N("div",PB,[a[3]||(a[3]=N("label",{class:"form-label text-light"},"Hasło",-1)),se(N("input",{"onUpdate:modelValue":a[1]||(a[1]=c=>n.value=c),type:"password",class:"form-control",required:""},null,512),[[re,n.value]])]),a[4]||(a[4]=N("button",{type:"submit",class:"btn btn-glow w-100"},"🚀 Zaloguj się",-1))],32),N("button",{onClick:r,class:"btn btn-outline-glow w-100 mt-3"}," 🔒 Zaloguj przez Google "),N("p",RB,[a[6]||(a[6]=xe(" Nie masz konta? ",-1)),Bt(l,{to:"/register",class:"link-glow"},{default:fs(()=>a[5]||(a[5]=[xe("Zarejestruj się",-1)])),_:1,__:[5]})])])])}}},NB=Ne(OB,[["__scopeId","data-v-8a72ca2e"]]),DB={class:"register-wrapper d-flex align-items-center justify-content-center min-vh-100"},kB={class:"register-box p-4 rounded-4 shadow glassy",style:{"max-width":"400px",width:"100%"}},MB={class:"mb-3"},LB={class:"mb-3"},VB={class:"mb-3"},FB={class:"mb-3"},$B={class:"text-center mt-4 text-light"},UB={__name:"RegisterView",setup(e){const t=It(""),n=It(""),s=It(""),i=It(""),r=M_(),o=async()=>{try{const a=await J4(Li,s.value,i.value);await $b(Be(oe,"users",a.user.uid),{uid:a.user.uid,name:t.value,surname:n.value,email:s.value,role:"członek",xp:0,level:1,badges:[],teamId:null}),r.push("/dashboard")}catch(a){alert("Błąd rejestracji: "+a.message)}};return(a,l)=>{const c=La("router-link");return Q(),st("div",DB,[N("div",kB,[l[11]||(l[11]=N("h2",{class:"text-center text-gradient mb-4 fw-bold"},"Rejestracja",-1)),N("form",{onSubmit:rs(o,["prevent"])},[N("div",MB,[l[4]||(l[4]=N("label",{class:"form-label text-light"},"Imię",-1)),se(N("input",{"onUpdate:modelValue":l[0]||(l[0]=u=>t.value=u),type:"text",class:"form-control",required:""},null,512),[[re,t.value]])]),N("div",LB,[l[5]||(l[5]=N("label",{class:"form-label text-light"},"Nazwisko",-1)),se(N("input",{"onUpdate:modelValue":l[1]||(l[1]=u=>n.value=u),type:"text",class:"form-control",required:""},null,512),[[re,n.value]])]),N("div",VB,[l[6]||(l[6]=N("label",{class:"form-label text-light"},"Email",-1)),se(N("input",{"onUpdate:modelValue":l[2]||(l[2]=u=>s.value=u),type:"email",class:"form-control",required:""},null,512),[[re,s.value]])]),N("div",FB,[l[7]||(l[7]=N("label",{class:"form-label text-light"},"Hasło",-1)),se(N("input",{"onUpdate:modelValue":l[3]||(l[3]=u=>i.value=u),type:"password",class:"form-control",required:""},null,512),[[re,i.value]])]),l[8]||(l[8]=N("button",{type:"submit",class:"btn btn-glow w-100"},"🚀 Zarejestruj się",-1))],32),N("p",$B,[l[10]||(l[10]=xe(" Masz już konto? ",-1)),Bt(c,{to:"/login",class:"link-glow"},{default:fs(()=>l[9]||(l[9]=[xe("Zaloguj się",-1)])),_:1,__:[9]})])])])}}},BB=Ne(UB,[["__scopeId","data-v-1594f7b0"]]),Xa=It(null);function Ub(){const e=async n=>{try{const s=await Mi(Be(oe,"users",n.uid));s.exists()?Xa.value={uid:n.uid,...s.data()}:Xa.value={uid:n.uid}}catch(s){console.error("Błąd podczas pobierania użytkownika:",s),Xa.value=null}};return On(()=>{G_(Li,async n=>{n?await e(n):Xa.value=null})}),{user:Xa,logoutUser:async()=>{try{await nU(Li),Xa.value=null}catch(n){console.error("Błąd podczas wylogowywania:",n)}}}}const jB={class:"navbar navbar-expand-lg navbar-dark bg-transparent shadow-sm px-4 py-2 border-bottom border-secondary"},HB={class:"container-fluid d-flex justify-content-between align-items-center"},zB={class:"collapse navbar-collapse",id:"navbarNav"},WB={class:"navbar-nav ms-auto d-flex gap-3 align-items-center"},KB={__name:"Navbar",setup(e){const t=M_(),{logoutUser:n,user:s}=Ub(),i=Pe(()=>s.value?s.value.role==="admin"||s.value.email==="abcd@gmail.com":!1),r=async()=>{try{await n(),t.push("/login")}catch(o){console.error("Błąd podczas wylogowywania:",o)}};return(o,a)=>{const l=La("RouterLink");return Q(),st("nav",jB,[N("div",HB,[Bt(l,{to:"/dashboard",class:"navbar-brand text-gradient fs-4 fw-bold"},{default:fs(()=>a[0]||(a[0]=[xe(" LevelUp ",-1)])),_:1,__:[0]}),a[7]||(a[7]=N("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[N("span",{class:"navbar-toggler-icon"})],-1)),N("div",zB,[N("div",WB,[Bt(l,{to:"/dashboard",class:"nav-link"},{default:fs(()=>a[1]||(a[1]=[xe("Panel główny",-1)])),_:1,__:[1]}),Bt(l,{to:"/team",class:"nav-link"},{default:fs(()=>a[2]||(a[2]=[xe("Zespół",-1)])),_:1,__:[2]}),Bt(l,{to:"/knowledge",class:"nav-link"},{default:fs(()=>a[3]||(a[3]=[xe("Baza wiedzy",-1)])),_:1,__:[3]}),Bt(l,{to:"/ranking",class:"nav-link"},{default:fs(()=>a[4]||(a[4]=[xe("Ranking",-1)])),_:1,__:[4]}),Bt(l,{to:"/profile",class:"nav-link"},{default:fs(()=>a[5]||(a[5]=[xe("Profil",-1)])),_:1,__:[5]}),i.value?(Q(),ts(l,{key:0,to:"/admin",class:"nav-link"},{default:fs(()=>a[6]||(a[6]=[xe(" Panel administratora ",-1)])),_:1,__:[6]})):Ee("",!0),N("button",{onClick:r,class:"btn btn-sm btn-outline-light"},"Wyloguj się")])])])])}}},GB=Ne(KB,[["__scopeId","data-v-95d63413"]]),XB={class:"app-layout d-flex flex-column min-vh-100 bg-dark text-light"},YB={class:"flex-grow-1 container py-4"},qB={__name:"AppLayout",setup(e){return(t,n)=>{const s=La("RouterView");return Q(),st("div",XB,[Bt(GB),N("main",YB,[Bt(s)])])}}},QB=Ne(qB,[["__scopeId","data-v-5edcf1a7"]]),JB={class:"stat-card p-3 rounded shadow-sm h-100 d-flex flex-column justify-content-between"},ZB={class:"d-flex justify-content-between align-items-center mb-2"},tj={class:"text-uppercase fw-semibold text-secondary"},ej={class:"icon fs-3"},nj={class:"mb-2"},sj={class:"fw-bold text-light"},ij={class:"stat-description mb-0"},rj={class:"xp-bar-container mt-2"},oj=["aria-valuenow"],aj={__name:"StatCard",props:{title:String,value:[String,Number],description:String,icon:String,progress:Number},setup(e){return(t,n)=>(Q(),st("div",JB,[N("div",ZB,[N("h6",tj,pt(e.title),1),N("span",ej,pt(e.icon),1)]),N("div",nj,[N("h3",sj,pt(e.value),1),N("p",ij,pt(e.description),1)]),N("div",rj,[N("div",{class:"xp-fill",role:"progressbar",style:Ni({width:e.progress+"%"}),"aria-valuenow":e.progress,"aria-valuemin":"0","aria-valuemax":"100"},null,12,oj)])]))}},ev=Ne(aj,[["__scopeId","data-v-ced36096"]]),lj={class:"mb-1 fw-bold text-light"},cj={__name:"DashboardTile",props:{title:String},setup(e){return(t,n)=>(Q(),st("div",{class:"dashboard-tile text-center p-4 rounded-4 h-100 shadow-sm tile-hover",onClick:n[0]||(n[0]=s=>t.$emit("click"))},[N("h5",lj,pt(e.title),1),XC(t.$slots,"default",{},void 0,!0)]))}},Cf=Ne(cj,[["__scopeId","data-v-525de05a"]]),uj={class:"points-glow position-absolute top-0 end-0 me-3 mt-3 px-3 py-1 rounded-pill text-glow fw-bold"},hj={class:"d-flex justify-content-between align-items-start"},fj={class:"flex-grow-1 pe-3"},dj={class:"fw-bold task-title mb-1"},pj={class:"task-desc mb-2"},gj={class:"badges mb-2"},mj={class:"badge bg-purple me-2"},vj={key:0,class:"badge bg-dark-glow"},yj={key:0,class:"text-light small mt-1"},_j={class:"d-flex justify-content-between align-items-center mt-3"},bj={class:"text-date small"},Ej={key:0},Tj=["checked"],Sj={key:1},wj={__name:"TaskCard",props:{task:Object,currentUserEmail:String,canToggle:{type:Boolean,default:!1},canDelete:{type:Boolean,default:!1}},setup(e){const t=e,n=Pe(()=>t.task.dueDate?new Date(t.task.dueDate).toLocaleDateString():"");return(s,i)=>(Q(),st("div",{class:Pn(["task-card rounded-4 p-4 mb-4 text-light position-relative",{done:e.task.status==="done"}])},[N("div",uj," 💎 "+pt(e.task.points)+" XP ",1),N("div",hj,[N("div",fj,[N("h5",dj,pt(e.task.title),1),N("p",pj,pt(e.task.description),1),N("div",gj,[N("span",mj,"📂 "+pt(e.task.category),1),e.task.assignedTo?.length?(Q(),st("span",vj," 👥 "+pt(e.task.assignedTo.join(", ")),1)):Ee("",!0)]),e.task.createdBy&&e.task.createdBy!==e.currentUserEmail?(Q(),st("div",yj," ✍️ Przypisał: "+pt(e.task.createdBy),1)):Ee("",!0)])]),N("div",_j,[N("div",bj,"📅 Termin: "+pt(n.value),1),e.canToggle?(Q(),st("div",Ej,[i[2]||(i[2]=N("label",{class:"form-check-label me-2"},"✅",-1)),N("input",{class:"form-check-input",type:"checkbox",checked:e.task.status==="done",onChange:i[0]||(i[0]=r=>s.$emit("toggle-complete",e.task.id))},null,40,Tj)])):Ee("",!0),e.canDelete?(Q(),st("div",Sj,[N("button",{class:"btn btn-sm btn-outline-danger",onClick:i[1]||(i[1]=r=>s.$emit("delete-task",e.task.id))}," 🗑 Usuń ")])):Ee("",!0)])],2))}},y0=Ne(wj,[["__scopeId","data-v-a199b490"]]);var kh={};(function e(t,n,s,i){var r=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",a=function(){if(!t.OffscreenCanvas)return!1;var U=new OffscreenCanvas(1,1),V=U.getContext("2d");V.fillRect(0,0,1,1);var at=U.transferToImageBitmap();try{V.createPattern(at,"no-repeat")}catch{return!1}return!0}();function l(){}function c(U){var V=n.exports.Promise,at=V!==void 0?V:t.Promise;return typeof at=="function"?new at(U):(U(l,l),null)}var u=function(U,V){return{transform:function(at){if(U)return at;if(V.has(at))return V.get(at);var ut=new OffscreenCanvas(at.width,at.height),_t=ut.getContext("2d");return _t.drawImage(at,0,0),V.set(at,ut),ut},clear:function(){V.clear()}}}(a,new Map),h=function(){var U=Math.floor(16.666666666666668),V,at,ut={},_t=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(V=function(yt){var gt=Math.random();return ut[gt]=requestAnimationFrame(function F(J){_t===J||_t+U-1<J?(_t=J,delete ut[gt],yt()):ut[gt]=requestAnimationFrame(F)}),gt},at=function(yt){ut[yt]&&cancelAnimationFrame(ut[yt])}):(V=function(yt){return setTimeout(yt,U)},at=function(yt){return clearTimeout(yt)}),{frame:V,cancel:at}}(),d=function(){var U,V,at={};function ut(_t){function yt(gt,F){_t.postMessage({options:gt||{},callback:F})}_t.init=function(F){var J=F.transferControlToOffscreen();_t.postMessage({canvas:J},[J])},_t.fire=function(F,J,et){if(V)return yt(F,null),V;var dt=Math.random().toString(36).slice(2);return V=c(function(At){function Dt(M){M.data.callback===dt&&(delete at[dt],_t.removeEventListener("message",Dt),V=null,u.clear(),et(),At())}_t.addEventListener("message",Dt),yt(F,dt),at[dt]=Dt.bind(null,{data:{callback:dt}})}),V},_t.reset=function(){_t.postMessage({reset:!0});for(var F in at)at[F](),delete at[F]}}return function(){if(U)return U;if(!s&&r){var _t=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{U=new Worker(URL.createObjectURL(new Blob([_t])))}catch(yt){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",yt),null}ut(U)}return U}}(),p={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function g(U,V){return V?V(U):U}function m(U){return U!=null}function y(U,V,at){return g(U&&m(U[V])?U[V]:p[V],at)}function E(U){return U<0?0:Math.floor(U)}function A(U,V){return Math.floor(Math.random()*(V-U))+U}function w(U){return parseInt(U,16)}function C(U){return U.map(O)}function O(U){var V=String(U).replace(/[^0-9a-f]/gi,"");return V.length<6&&(V=V[0]+V[0]+V[1]+V[1]+V[2]+V[2]),{r:w(V.substring(0,2)),g:w(V.substring(2,4)),b:w(V.substring(4,6))}}function D(U){var V=y(U,"origin",Object);return V.x=y(V,"x",Number),V.y=y(V,"y",Number),V}function x(U){U.width=document.documentElement.clientWidth,U.height=document.documentElement.clientHeight}function T(U){var V=U.getBoundingClientRect();U.width=V.width,U.height=V.height}function _(U){var V=document.createElement("canvas");return V.style.position="fixed",V.style.top="0px",V.style.left="0px",V.style.pointerEvents="none",V.style.zIndex=U,V}function S(U,V,at,ut,_t,yt,gt,F,J){U.save(),U.translate(V,at),U.rotate(yt),U.scale(ut,_t),U.arc(0,0,1,gt,F,J),U.restore()}function P(U){var V=U.angle*(Math.PI/180),at=U.spread*(Math.PI/180);return{x:U.x,y:U.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:U.startVelocity*.5+Math.random()*U.startVelocity,angle2D:-V+(.5*at-Math.random()*at),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:U.color,shape:U.shape,tick:0,totalTicks:U.ticks,decay:U.decay,drift:U.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:U.gravity*3,ovalScalar:.6,scalar:U.scalar,flat:U.flat}}function R(U,V){V.x+=Math.cos(V.angle2D)*V.velocity+V.drift,V.y+=Math.sin(V.angle2D)*V.velocity+V.gravity,V.velocity*=V.decay,V.flat?(V.wobble=0,V.wobbleX=V.x+10*V.scalar,V.wobbleY=V.y+10*V.scalar,V.tiltSin=0,V.tiltCos=0,V.random=1):(V.wobble+=V.wobbleSpeed,V.wobbleX=V.x+10*V.scalar*Math.cos(V.wobble),V.wobbleY=V.y+10*V.scalar*Math.sin(V.wobble),V.tiltAngle+=.1,V.tiltSin=Math.sin(V.tiltAngle),V.tiltCos=Math.cos(V.tiltAngle),V.random=Math.random()+2);var at=V.tick++/V.totalTicks,ut=V.x+V.random*V.tiltCos,_t=V.y+V.random*V.tiltSin,yt=V.wobbleX+V.random*V.tiltCos,gt=V.wobbleY+V.random*V.tiltSin;if(U.fillStyle="rgba("+V.color.r+", "+V.color.g+", "+V.color.b+", "+(1-at)+")",U.beginPath(),o&&V.shape.type==="path"&&typeof V.shape.path=="string"&&Array.isArray(V.shape.matrix))U.fill(K(V.shape.path,V.shape.matrix,V.x,V.y,Math.abs(yt-ut)*.1,Math.abs(gt-_t)*.1,Math.PI/10*V.wobble));else if(V.shape.type==="bitmap"){var F=Math.PI/10*V.wobble,J=Math.abs(yt-ut)*.1,et=Math.abs(gt-_t)*.1,dt=V.shape.bitmap.width*V.scalar,At=V.shape.bitmap.height*V.scalar,Dt=new DOMMatrix([Math.cos(F)*J,Math.sin(F)*J,-Math.sin(F)*et,Math.cos(F)*et,V.x,V.y]);Dt.multiplySelf(new DOMMatrix(V.shape.matrix));var M=U.createPattern(u.transform(V.shape.bitmap),"no-repeat");M.setTransform(Dt),U.globalAlpha=1-at,U.fillStyle=M,U.fillRect(V.x-dt/2,V.y-At/2,dt,At),U.globalAlpha=1}else if(V.shape==="circle")U.ellipse?U.ellipse(V.x,V.y,Math.abs(yt-ut)*V.ovalScalar,Math.abs(gt-_t)*V.ovalScalar,Math.PI/10*V.wobble,0,2*Math.PI):S(U,V.x,V.y,Math.abs(yt-ut)*V.ovalScalar,Math.abs(gt-_t)*V.ovalScalar,Math.PI/10*V.wobble,0,2*Math.PI);else if(V.shape==="star")for(var L=Math.PI/2*3,j=4*V.scalar,Z=8*V.scalar,X=V.x,it=V.y,mt=5,ot=Math.PI/mt;mt--;)X=V.x+Math.cos(L)*Z,it=V.y+Math.sin(L)*Z,U.lineTo(X,it),L+=ot,X=V.x+Math.cos(L)*j,it=V.y+Math.sin(L)*j,U.lineTo(X,it),L+=ot;else U.moveTo(Math.floor(V.x),Math.floor(V.y)),U.lineTo(Math.floor(V.wobbleX),Math.floor(_t)),U.lineTo(Math.floor(yt),Math.floor(gt)),U.lineTo(Math.floor(ut),Math.floor(V.wobbleY));return U.closePath(),U.fill(),V.tick<V.totalTicks}function I(U,V,at,ut,_t){var yt=V.slice(),gt=U.getContext("2d"),F,J,et=c(function(dt){function At(){F=J=null,gt.clearRect(0,0,ut.width,ut.height),u.clear(),_t(),dt()}function Dt(){s&&!(ut.width===i.width&&ut.height===i.height)&&(ut.width=U.width=i.width,ut.height=U.height=i.height),!ut.width&&!ut.height&&(at(U),ut.width=U.width,ut.height=U.height),gt.clearRect(0,0,ut.width,ut.height),yt=yt.filter(function(M){return R(gt,M)}),yt.length?F=h.frame(Dt):At()}F=h.frame(Dt),J=At});return{addFettis:function(dt){return yt=yt.concat(dt),et},canvas:U,promise:et,reset:function(){F&&h.cancel(F),J&&J()}}}function z(U,V){var at=!U,ut=!!y(V||{},"resize"),_t=!1,yt=y(V,"disableForReducedMotion",Boolean),gt=r&&!!y(V||{},"useWorker"),F=gt?d():null,J=at?x:T,et=U&&F?!!U.__confetti_initialized:!1,dt=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,At;function Dt(L,j,Z){for(var X=y(L,"particleCount",E),it=y(L,"angle",Number),mt=y(L,"spread",Number),ot=y(L,"startVelocity",Number),ht=y(L,"decay",Number),ct=y(L,"gravity",Number),Rt=y(L,"drift",Number),vt=y(L,"colors",C),xt=y(L,"ticks",Number),St=y(L,"shapes"),kt=y(L,"scalar"),Zt=!!y(L,"flat"),$=D(L),H=X,G=[],rt=U.width*$.x,bt=U.height*$.y;H--;)G.push(P({x:rt,y:bt,angle:it,spread:mt,startVelocity:ot,color:vt[H%vt.length],shape:St[A(0,St.length)],ticks:xt,decay:ht,gravity:ct,drift:Rt,scalar:kt,flat:Zt}));return At?At.addFettis(G):(At=I(U,G,J,j,Z),At.promise)}function M(L){var j=yt||y(L,"disableForReducedMotion",Boolean),Z=y(L,"zIndex",Number);if(j&&dt)return c(function(ot){ot()});at&&At?U=At.canvas:at&&!U&&(U=_(Z),document.body.appendChild(U)),ut&&!et&&J(U);var X={width:U.width,height:U.height};F&&!et&&F.init(U),et=!0,F&&(U.__confetti_initialized=!0);function it(){if(F){var ot={getBoundingClientRect:function(){if(!at)return U.getBoundingClientRect()}};J(ot),F.postMessage({resize:{width:ot.width,height:ot.height}});return}X.width=X.height=null}function mt(){At=null,ut&&(_t=!1,t.removeEventListener("resize",it)),at&&U&&(document.body.contains(U)&&document.body.removeChild(U),U=null,et=!1)}return ut&&!_t&&(_t=!0,t.addEventListener("resize",it,!1)),F?F.fire(L,X,mt):Dt(L,X,mt)}return M.reset=function(){F&&F.reset(),At&&At.reset()},M}var Y;function B(){return Y||(Y=z(null,{useWorker:!0,resize:!0})),Y}function K(U,V,at,ut,_t,yt,gt){var F=new Path2D(U),J=new Path2D;J.addPath(F,new DOMMatrix(V));var et=new Path2D;return et.addPath(J,new DOMMatrix([Math.cos(gt)*_t,Math.sin(gt)*_t,-Math.sin(gt)*yt,Math.cos(gt)*yt,at,ut])),et}function tt(U){if(!o)throw new Error("path confetti are not supported in this browser");var V,at;typeof U=="string"?V=U:(V=U.path,at=U.matrix);var ut=new Path2D(V),_t=document.createElement("canvas"),yt=_t.getContext("2d");if(!at){for(var gt=1e3,F=gt,J=gt,et=0,dt=0,At,Dt,M=0;M<gt;M+=2)for(var L=0;L<gt;L+=2)yt.isPointInPath(ut,M,L,"nonzero")&&(F=Math.min(F,M),J=Math.min(J,L),et=Math.max(et,M),dt=Math.max(dt,L));At=et-F,Dt=dt-J;var j=10,Z=Math.min(j/At,j/Dt);at=[Z,0,0,Z,-Math.round(At/2+F)*Z,-Math.round(Dt/2+J)*Z]}return{type:"path",path:V,matrix:at}}function Pt(U){var V,at=1,ut="#000000",_t='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof U=="string"?V=U:(V=U.text,at="scalar"in U?U.scalar:at,_t="fontFamily"in U?U.fontFamily:_t,ut="color"in U?U.color:ut);var yt=10*at,gt=""+yt+"px "+_t,F=new OffscreenCanvas(yt,yt),J=F.getContext("2d");J.font=gt;var et=J.measureText(V),dt=Math.ceil(et.actualBoundingBoxRight+et.actualBoundingBoxLeft),At=Math.ceil(et.actualBoundingBoxAscent+et.actualBoundingBoxDescent),Dt=2,M=et.actualBoundingBoxLeft+Dt,L=et.actualBoundingBoxAscent+Dt;dt+=Dt+Dt,At+=Dt+Dt,F=new OffscreenCanvas(dt,At),J=F.getContext("2d"),J.font=gt,J.fillStyle=ut,J.fillText(V,M,L);var j=1/at;return{type:"bitmap",bitmap:F.transferToImageBitmap(),matrix:[j,0,0,j,-dt*j/2,-At*j/2]}}n.exports=function(){return B().apply(this,arguments)},n.exports.reset=function(){B().reset()},n.exports.create=z,n.exports.shapeFromPath=tt,n.exports.shapeFromText=Pt})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),kh,!1);const Aj=kh.exports;kh.exports.create;const Ij={class:"row"},Cj={class:"col-md-6 mb-4"},xj={class:"p-4 glassy rounded-4 shadow-lg"},Pj={key:0},Rj={key:1,class:"text-muted"},Oj={class:"col-md-6 mb-4"},Nj={class:"p-4 glassy rounded-4 shadow-lg"},Dj={key:0},kj={key:1,class:"text-muted"},Mj={class:"col-md-12"},Lj={class:"p-4 glassy rounded-4 shadow-lg mt-4"},Vj={class:"row g-3"},Fj={class:"col-md-3"},$j={class:"col-md-3"},Uj={class:"col-md-2"},Bj={class:"col-md-2"},jj={class:"col-md-6"},Hj={class:"col-md-6"},zj={__name:"TaskView",setup(e){const t=It(null),n=It([]),s=It([]),i=It({title:"",description:"",dueDate:"",category:"",points:0,assignedTo:""});On(()=>{Li.onAuthStateChanged(c=>{c&&(t.value=c,r())})});const r=async()=>{if(!t.value?.email)return;const c=fa(Kn(oe,"tasks")),h=(await ui(c)).docs.map(d=>({id:d.id,...d.data()}));n.value=h.filter(d=>d.status==="open"&&Array.isArray(d.assignedTo)&&d.assignedTo.includes(t.value.email)),s.value=h.filter(d=>d.status==="open"&&d.createdBy===t.value.email)},o=async()=>{if(!t.value?.email)return alert("Musisz być zalogowany");const c=i.value.assignedTo?i.value.assignedTo.split(",").map(h=>h.trim()).filter(Boolean):[t.value.email],u={title:i.value.title,description:i.value.description,dueDate:i.value.dueDate,category:i.value.category,points:i.value.points,assignedTo:c,createdBy:t.value.email,status:"open",createdAt:new Date};await Dh(Kn(oe,"tasks"),u),await r(),i.value={title:"",description:"",dueDate:"",category:"",points:0,assignedTo:""}},a=async c=>{const u=Be(oe,"tasks",c),h=await Mi(u);if(!h.exists())return alert("Zadanie nie istnieje.");const d=h.data();await Sr(u,{status:"done"});const p=Be(oe,"users",t.value.uid),g=await Mi(p);if(g.exists()){const y=(g.data().xp||0)+(d.points||0);await Sr(p,{xp:y})}await r(),Aj({particleCount:100,spread:70,origin:{y:.6}}),alert(`Gratulacje! Ukończyłeś zadanie i zdobyłeś ${d.points} XP!`)},l=async c=>{confirm("Czy na pewno chcesz usunąć to zadanie?")&&(await Lg(Be(oe,"tasks",c)),await r())};return(c,u)=>(Q(),st("div",Ij,[N("div",Cj,[N("div",xj,[u[6]||(u[6]=N("h4",{class:"mb-3"},"📝 Moje zadania",-1)),n.value.length?(Q(),st("div",Pj,[(Q(!0),st(ne,null,tn(n.value,h=>(Q(),ts(y0,{key:h.id,task:h,"current-user-email":t.value?.email,"can-toggle":!0,"can-delete":!1,onToggleComplete:a},null,8,["task","current-user-email"]))),128))])):(Q(),st("div",Rj,"Brak przypisanych zadań."))])]),N("div",Oj,[N("div",Nj,[u[7]||(u[7]=N("h4",{class:"mb-3"},"📤 Zadania przypisane innym",-1)),s.value.length?(Q(),st("div",Dj,[(Q(!0),st(ne,null,tn(s.value,h=>(Q(),ts(y0,{key:h.id,task:h,"current-user-email":t.value?.email,"can-toggle":!1,"can-delete":!0,onDeleteTask:l},null,8,["task","current-user-email"]))),128))])):(Q(),st("div",kj,"Nie przypisałeś żadnych zadań."))])]),N("div",Mj,[N("div",Lj,[u[10]||(u[10]=N("h4",{class:"mb-3"},"⚡ Dodaj nowe zadanie",-1)),N("form",{onSubmit:rs(o,["prevent"])},[N("div",Vj,[N("div",Fj,[se(N("input",{"onUpdate:modelValue":u[0]||(u[0]=h=>i.value.title=h),class:"form-control",placeholder:"Nazwa zadania",required:""},null,512),[[re,i.value.title]])]),N("div",$j,[se(N("input",{"onUpdate:modelValue":u[1]||(u[1]=h=>i.value.category=h),class:"form-control",placeholder:"Kategoria"},null,512),[[re,i.value.category]])]),N("div",Uj,[se(N("input",{type:"date","onUpdate:modelValue":u[2]||(u[2]=h=>i.value.dueDate=h),class:"form-control",required:""},null,512),[[re,i.value.dueDate]])]),N("div",Bj,[se(N("input",{type:"number","onUpdate:modelValue":u[3]||(u[3]=h=>i.value.points=h),class:"form-control",placeholder:"XP"},null,512),[[re,i.value.points,void 0,{number:!0}]])]),N("div",jj,[se(N("textarea",{"onUpdate:modelValue":u[4]||(u[4]=h=>i.value.description=h),class:"form-control",placeholder:"Opis zadania",required:""},null,512),[[re,i.value.description]])]),N("div",Hj,[se(N("input",{"onUpdate:modelValue":u[5]||(u[5]=h=>i.value.assignedTo=h),class:"form-control",placeholder:"Adresy e-mail (oddzielone przecinkiem)"},null,512),[[re,i.value.assignedTo]]),u[8]||(u[8]=N("small",{class:"text-muted"},"Jeśli puste – przypisane do Ciebie",-1))]),u[9]||(u[9]=N("div",{class:"col-md-12"},[N("button",{class:"btn btn-glow w-100"},"Dodaj zadanie")],-1))])],32)])])]))}},UR=Ne(zj,[["__scopeId","data-v-fe451c04"]]),Wj={class:"calendar rounded-4 p-3 shadow bg-dark text-light"},Kj={class:"calendar-header d-flex justify-content-between align-items-center mb-3"},Gj={class:"m-0"},Xj={class:"calendar-weekdays d-flex justify-content-between text-center fw-bold mb-2"},Yj={class:"calendar-days d-flex flex-wrap"},qj=["onClick","title"],Qj={key:0,class:"event-dot position-absolute bottom-1 start-50 translate-middle-x rounded-circle","aria-label":"Dzień z wydarzeniem"},Jj={__name:"CalendarCard",props:{events:{type:Array,default:()=>[]}},emits:["select-date"],setup(e,{emit:t}){const n=e,s=t,i=new Date,r=It(i.getFullYear()),o=It(i.getMonth()),a=It(null),l=["Nd","Pn","Wt","Śr","Cz","Pt","Sb"],c=Pe(()=>new Date(r.value,o.value).toLocaleDateString("pl-PL",{year:"numeric",month:"long"}));function u(O,D){return new Date(O,D+1,0).getDate()}function h(O,D){return new Date(O,D,1).getDay()}function d(O,D){return!O||!D?!1:O.getDate()===D.getDate()&&O.getMonth()===D.getMonth()&&O.getFullYear()===D.getFullYear()}const p=Pe(()=>{const O=r.value,D=o.value,x=h(O,D),T=u(O,D),_=x===0?0:x,S=D===0?11:D-1,P=D===0?O-1:O,R=u(P,S),I=[];for(let K=_-1;K>=0;K--){const tt=new Date(P,S,R-K);I.push({day:R-K,inCurrentMonth:!1,date:tt,hasEvent:g(tt)})}for(let K=1;K<=T;K++){const tt=new Date(O,D,K);I.push({day:K,inCurrentMonth:!0,date:tt,hasEvent:g(tt)})}const z=(D+1)%12,Y=D===11?O+1:O,B=42-I.length;for(let K=1;K<=B;K++){const tt=new Date(Y,z,K);I.push({day:K,inCurrentMonth:!1,date:tt,hasEvent:g(tt)})}return I});function g(O){return!n.events||n.events.length===0?!1:n.events.some(D=>{if(!D.date)return!1;try{const x=new Date(D.date);return d(x,O)}catch{return!1}})}function m(){o.value===0?(o.value=11,r.value--):o.value--}function y(){o.value===11?(o.value=0,r.value++):o.value++}function E(O){return d(O,new Date)}function A(O){return a.value?d(O,a.value):!1}function w(O){return O.toLocaleDateString("pl-PL",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}function C(O){a.value=O,s("select-date",O)}return(O,D)=>(Q(),st("div",Wj,[N("div",Kj,[N("button",{onClick:m,class:"btn btn-sm btn-outline-light"},"<"),N("h5",Gj,pt(c.value),1),N("button",{onClick:y,class:"btn btn-sm btn-outline-light"},">")]),N("div",Xj,[(Q(),st(ne,null,tn(l,x=>N("div",{key:x,class:"calendar-weekday",style:{width:"14.28%"}},pt(x),1)),64))]),N("div",Yj,[(Q(!0),st(ne,null,tn(p.value,(x,T)=>(Q(),st("div",{key:T,class:Pn(["calendar-day text-center position-relative",{"text-muted":!x.inCurrentMonth,"bg-primary rounded-circle text-white":E(x.date),"selected-date":A(x.date)}]),style:{width:"14.28%",cursor:"pointer"},onClick:_=>C(x.date),title:w(x.date)},[xe(pt(x.day)+" ",1),x.hasEvent?(Q(),st("span",Qj)):Ee("",!0)],10,qj))),128))])]))}},Zj=Ne(Jj,[["__scopeId","data-v-06672b5e"]]),t9={class:"event-view container-fluid py-4"},e9={class:"row g-4"},n9={class:"col-md-7"},s9={class:"glassy p-3 rounded-4 mb-4 shadow"},i9={key:0,class:"alert alert-danger"},r9={class:"event-list d-flex flex-column gap-3"},o9={key:0,class:"text-light text-center py-3"},a9={class:"text-light fw-bold"},l9={class:"text-light small mb-1"},c9={class:"text-info small mb-1"},u9={class:"text-warning small mb-1"},h9={class:"d-flex justify-content-end gap-2 mt-2"},f9=["onClick"],d9=["onClick"],p9={class:"col-md-5"},g9={class:"glassy p-4 rounded-4 shadow"},m9={class:"text-light mb-3"},v9={class:"mb-3"},y9={class:"mb-3"},_9={class:"mb-3"},b9={class:"mb-3"},E9={class:"mb-3"},T9={type:"submit",class:"btn btn-glow w-100"},S9={__name:"EventView",setup(e){const t=It([]),n=It(null),s=It(null),i=It({title:"",description:"",date:"",limit:null,link:""}),r=async()=>{try{s.value=null;const m=await ui(Kn(oe,"events"));t.value=m.docs.map(y=>({id:y.id,...y.data(),date:y.data().date?.toDate?y.data().date.toDate().toISOString().split("T")[0]:y.data().date}))}catch(m){s.value="Wystąpił błąd podczas pobierania wydarzeń: "+m.message,console.error(m)}},o=async()=>{if(!(!i.value.title||!i.value.date))try{s.value=null;const m={...i.value,attendees:[],createdAt:VR()};await Dh(Kn(oe,"events"),m),i.value={title:"",description:"",date:"",limit:null,link:""},await r()}catch(m){s.value="Wystąpił błąd podczas dodawania wydarzenia: "+m.message,console.error(m)}},a=async m=>{if(confirm("Czy na pewno chcesz usunąć to wydarzenie?"))try{s.value=null,await Lg(Be(oe,"events",m)),await r()}catch(y){s.value="Wystąpił błąd podczas usuwania wydarzenia: "+y.message,console.error(y)}},l=m=>{try{return new Date(m).toLocaleDateString("pl-PL",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch{return m}},c=Pe(()=>n.value?t.value.filter(m=>{if(!m.date)return!1;const y=new Date(m.date);return y.getFullYear()===n.value.getFullYear()&&y.getMonth()===n.value.getMonth()&&y.getDate()===n.value.getDate()}).sort((m,y)=>new Date(m.date)-new Date(y.date)):t.value);function u(m){n.value=m}const h=It(null),d=m=>{h.value=m.id,i.value={title:m.title,description:m.description,date:m.date,limit:m.limit,link:m.link}},p=()=>{h.value=null,i.value={title:"",description:"",date:"",limit:null,link:""}},g=async()=>{if(!(!h.value||!i.value.title||!i.value.date))try{s.value=null,await Sr(Be(oe,"events",h.value),{title:i.value.title,description:i.value.description,date:i.value.date,limit:i.value.limit,link:i.value.link}),h.value=null,i.value={title:"",description:"",date:"",limit:null,link:""},await r()}catch(m){s.value="Wystąpił błąd podczas aktualizacji wydarzenia: "+m.message,console.error(m)}};return On(r),(m,y)=>(Q(),st("div",t9,[N("div",e9,[N("div",n9,[N("div",s9,[y[6]||(y[6]=N("h5",{class:"text-light mb-3"},"🗓️ Kalendarz wydarzeń",-1)),Bt(Zj,{events:t.value,onSelectDate:u},null,8,["events"])]),s.value?(Q(),st("div",i9,pt(s.value),1)):Ee("",!0),N("div",r9,[c.value.length===0?(Q(),st("div",o9," Brak wydarzeń do wyświetlenia ")):Ee("",!0),(Q(!0),st(ne,null,tn(c.value,E=>(Q(),st("div",{key:E.id,class:"event-card p-3 rounded-4 shadow-sm d-flex flex-column gap-1"},[N("h6",a9,pt(E.title),1),N("p",l9,pt(E.description),1),N("p",c9,"📅 "+pt(l(E.date)),1),N("p",u9," 🡭 Wolne miejsca: "+pt(E.limit?E.limit-(E.attendees?.length||0):"nielimitowane"),1),N("div",h9,[y[7]||(y[7]=N("button",{class:"btn btn-glow btn-sm"},"Zapisz się",-1)),N("button",{class:"btn btn-sm btn-outline-light",onClick:A=>d(E)},"Edytuj",8,f9),N("button",{class:"btn btn-sm btn-outline-danger",onClick:A=>a(E.id)},"Usuń",8,d9)])]))),128))])]),N("div",p9,[N("div",g9,[N("h5",m9,pt(h.value?"✏️ Edytuj wydarzenie":"➕ Dodaj nowe wydarzenie"),1),N("form",{onSubmit:y[5]||(y[5]=rs(E=>h.value?g():o(),["prevent"]))},[N("div",v9,[y[8]||(y[8]=N("label",{class:"form-label text-light"},"Nazwa wydarzenia",-1)),se(N("input",{"onUpdate:modelValue":y[0]||(y[0]=E=>i.value.title=E),type:"text",class:"form-control",required:""},null,512),[[re,i.value.title]])]),N("div",y9,[y[9]||(y[9]=N("label",{class:"form-label text-light"},"Opis",-1)),se(N("textarea",{"onUpdate:modelValue":y[1]||(y[1]=E=>i.value.description=E),class:"form-control"},null,512),[[re,i.value.description]])]),N("div",_9,[y[10]||(y[10]=N("label",{class:"form-label text-light"},"Termin",-1)),se(N("input",{"onUpdate:modelValue":y[2]||(y[2]=E=>i.value.date=E),type:"date",class:"form-control",required:""},null,512),[[re,i.value.date]])]),N("div",b9,[y[11]||(y[11]=N("label",{class:"form-label text-light"},"Limit miejsc (opcjonalnie)",-1)),se(N("input",{"onUpdate:modelValue":y[3]||(y[3]=E=>i.value.limit=E),type:"number",class:"form-control",min:"0"},null,512),[[re,i.value.limit,void 0,{number:!0}]])]),N("div",E9,[y[12]||(y[12]=N("label",{class:"form-label text-light"},"Link do wydarzenia (opcjonalnie)",-1)),se(N("input",{"onUpdate:modelValue":y[4]||(y[4]=E=>i.value.link=E),type:"url",class:"form-control"},null,512),[[re,i.value.link]])]),N("button",T9,pt(h.value?"Zapisz zmiany":"Dodaj wydarzenie"),1),h.value?(Q(),st("button",{key:0,type:"button",class:"btn btn-outline-light w-100 mt-2",onClick:p},"Anuluj")):Ee("",!0)],32)])])])]))}},w9=Ne(S9,[["__scopeId","data-v-d6320040"]]),A9={class:"posts-view container-fluid py-4"},I9={class:"row g-4"},C9={class:"col-md-7"},x9={key:0,class:"text-light text-center py-3"},P9={class:"d-flex align-items-center gap-2"},R9={class:"text-light"},O9={class:"text-glow"},N9={class:"text-light mb-1"},D9=["src"],k9=["href"],M9={key:2,class:"d-flex justify-content-end gap-2 mt-2"},L9=["onClick"],V9=["onClick"],F9={class:"col-md-5"},$9={class:"glassy p-4 rounded-4 shadow"},U9={class:"mb-3"},B9={class:"mb-3"},j9={class:"mb-3"},H9={class:"mb-3"},z9={type:"submit",class:"btn btn-glow w-100"},W9={__name:"PostsView",setup(e){const t=It([]),n=It({title:"",content:"",imageUrl:"",link:""}),s=It(null),i=q_(),r=It(null),o=It("");On(async()=>{const p=i.currentUser;if(p){r.value=p.uid;const g=await Mi(Be(oe,"users",p.uid));if(g.exists()){const m=g.data();o.value=m.name||"Anonim"}else o.value="Anonim"}await a()});const a=async()=>{const p=await ui(Kn(oe,"posts"));t.value=p.docs.map(g=>({id:g.id,...g.data()}))},l=async()=>{await Dh(Kn(oe,"posts"),{...n.value,userId:r.value,author:o.value,createdAt:VR()}),d(),await a()},c=async p=>{await Lg(Be(oe,"posts",p)),await a()},u=p=>{s.value=p.id,n.value={...p}},h=async()=>{await Sr(Be(oe,"posts",s.value),{...n.value}),s.value=null,d(),await a()},d=()=>{n.value={title:"",content:"",imageUrl:"",link:""}};return(p,g)=>(Q(),st("div",A9,[N("div",I9,[N("div",C9,[t.value.length===0?(Q(),st("div",x9," Brak wpisów do wyświetlenia ")):Ee("",!0),(Q(!0),st(ne,null,tn(t.value,m=>(Q(),st("div",{key:m.id,class:"post-card p-4 rounded-4 shadow d-flex flex-column gap-2"},[N("div",P9,[g[5]||(g[5]=N("div",{class:"avatar bg-purple text-white rounded-circle d-flex justify-content-center align-items-center"}," 👤 ",-1)),N("strong",R9,pt(m.author),1)]),N("h6",O9,pt(m.title),1),N("p",N9,pt(m.content),1),m.imageUrl?(Q(),st("img",{key:0,src:m.imageUrl,class:"img-fluid rounded-3 mt-2"},null,8,D9)):Ee("",!0),m.link?(Q(),st("a",{key:1,href:m.link,target:"_blank",class:"text-info small"},"🔗 Zobacz więcej",8,k9)):Ee("",!0),m.userId===r.value?(Q(),st("div",M9,[N("button",{class:"btn btn-glow btn-sm",onClick:y=>u(m)},"Edytuj",8,L9),N("button",{class:"btn btn-sm btn-outline-danger",onClick:y=>c(m.id)},"Usuń",8,V9)])):Ee("",!0)]))),128))]),N("div",F9,[N("div",$9,[g[10]||(g[10]=N("h5",{class:"text-light mb-3"},"📝 Dodaj wpis",-1)),N("form",{onSubmit:g[4]||(g[4]=rs(m=>s.value?h():l(),["prevent"]))},[N("div",U9,[g[6]||(g[6]=N("label",{class:"form-label text-light"},"Tytuł",-1)),se(N("input",{"onUpdate:modelValue":g[0]||(g[0]=m=>n.value.title=m),type:"text",class:"form-control",required:""},null,512),[[re,n.value.title]])]),N("div",B9,[g[7]||(g[7]=N("label",{class:"form-label text-light"},"Treść wpisu",-1)),se(N("textarea",{"onUpdate:modelValue":g[1]||(g[1]=m=>n.value.content=m),class:"form-control",rows:"3",required:""},null,512),[[re,n.value.content]])]),N("div",j9,[g[8]||(g[8]=N("label",{class:"form-label text-light"},"Zdjęcie (URL)",-1)),se(N("input",{"onUpdate:modelValue":g[2]||(g[2]=m=>n.value.imageUrl=m),type:"url",class:"form-control"},null,512),[[re,n.value.imageUrl]])]),N("div",H9,[g[9]||(g[9]=N("label",{class:"form-label text-light"},"Link (opcjonalnie)",-1)),se(N("input",{"onUpdate:modelValue":g[3]||(g[3]=m=>n.value.link=m),type:"url",class:"form-control"},null,512),[[re,n.value.link]])]),N("button",z9,pt(s.value?"Zapisz zmiany":"Dodaj wpis"),1)],32)])])])]))}},K9=Ne(W9,[["__scopeId","data-v-c01f2f26"]]),G9={class:"news-view container-fluid py-4"},X9={class:"row g-4"},Y9={class:"col-md-4"},q9={key:0},Q9={class:"card-title"},J9={class:"card-text"},Z9={class:"info-line"},tH={class:"info-line"},eH={class:"info-line"},nH={class:"info-line text-light"},sH={key:1,class:"text-muted"},iH={class:"col-md-4"},rH={key:0},oH={class:"card-title"},aH={class:"card-text"},lH={class:"info-line"},cH={key:0,class:"info-line"},uH=["href"],hH={key:1,class:"text-muted"},fH={class:"col-md-4"},dH={key:0},pH={class:"card-title"},gH={class:"card-text"},mH={class:"info-line text-light"},vH={class:"info-line text-light"},yH={key:1,class:"text-muted"},_H={__name:"NewsView",setup(e){const t=It([]),n=It([]),s=It([]),i=async l=>{if(!l)return;const c=fa(Kn(oe,"tasks"),nh("assignedTo","array-contains",l),nh("status","==","open"),md("dueDate","asc"),tv(3)),u=await ui(c);t.value=u.docs.map(h=>{const d=h.data();return{id:h.id,...d,dueDateFormatted:d.dueDate?.toDate?.().toLocaleDateString("pl-PL")||d.dueDate||"",createdBy:d.createdBy||"nieznany"}})},r=async()=>{const l=fa(Kn(oe,"events"),md("date","asc"),tv(3)),c=await ui(l);n.value=c.docs.map(u=>{const h=u.data();return{id:u.id,...h,dateFormatted:h.date?.toDate?.().toLocaleDateString("pl-PL")||h.date||"",location:h.location||""}})},o=async()=>{const l=fa(Kn(oe,"posts"),md("createdAt","desc"),tv(3)),c=await ui(l);s.value=c.docs.map(u=>{const h=u.data();return{id:u.id,...h}})},a=l=>{if(!l)return"-";if(l.toDate)return l.toDate().toLocaleDateString("pl-PL");try{return new Date(l).toLocaleDateString("pl-PL")}catch{return"-"}};return On(()=>{Li.onAuthStateChanged(async l=>{l&&l.email&&await Promise.all([i(l.email),r(),o()])})}),(l,c)=>(Q(),st("div",G9,[N("div",X9,[N("div",Y9,[c[6]||(c[6]=N("h4",{class:"section-title"},"🎯 Twoje najbliższe zadania",-1)),t.value.length?(Q(),st("div",q9,[(Q(!0),st(ne,null,tn(t.value,u=>(Q(),st("div",{key:u.id,class:"task-card card p-3 mb-3 glassy text-light"},[N("h5",Q9,"📝 "+pt(u.title),1),N("p",J9,pt(u.description),1),N("p",Z9,[c[3]||(c[3]=xe("📅 Termin: ",-1)),N("strong",null,pt(u.dueDateFormatted),1)]),N("p",tH,[c[4]||(c[4]=xe("📂 Kategoria: ",-1)),N("strong",null,pt(u.category||"-"),1)]),N("p",eH,[c[5]||(c[5]=xe("💎 Punkty: ",-1)),N("strong",null,pt(u.points||0),1)]),N("p",nH,"✍️ Przypisane przez: "+pt(u.createdBy),1)]))),128))])):(Q(),st("div",sH,"Brak przypisanych zadań.")),N("button",{class:"btn show-more-btn mt-2",onClick:c[0]||(c[0]=u=>l.$emit("navigate","Zadania"))}," ➕ Pokaż więcej zadań ")]),N("div",iH,[c[9]||(c[9]=N("h4",{class:"section-title"},"📅 Nadchodzące wydarzenia",-1)),n.value.length?(Q(),st("div",rH,[(Q(!0),st(ne,null,tn(n.value,u=>(Q(),st("div",{key:u.id,class:"event-card card p-3 mb-3 glassy text-light"},[N("h5",oH,"🎉 "+pt(u.title),1),N("p",aH,pt(u.description),1),N("p",lH,[c[7]||(c[7]=xe("📅 Data: ",-1)),N("strong",null,pt(u.dateFormatted),1)]),u.link?(Q(),st("p",cH,[c[8]||(c[8]=xe(" 🔗 ",-1)),N("a",{href:u.link,target:"_blank",class:"text-info"},"Link do wydarzenia",8,uH)])):Ee("",!0)]))),128))])):(Q(),st("div",hH,"Brak nadchodzących wydarzeń.")),N("button",{class:"btn show-more-btn mt-2",onClick:c[1]||(c[1]=u=>l.$emit("navigate","Wydarzenia"))}," ➕ Pokaż więcej wydarzeń ")]),N("div",fH,[c[10]||(c[10]=N("h4",{class:"section-title"},"✍️ Ostatnie wpisy",-1)),s.value.length?(Q(),st("div",dH,[(Q(!0),st(ne,null,tn(s.value,u=>(Q(),st("div",{key:u.id,class:"post-card card p-3 mb-3 glassy text-light"},[N("h5",pH,"📌 "+pt(u.title),1),N("p",gH,pt(u.content||u.description||"-"),1),N("p",mH,"📅 "+pt(a(u.createdAt)),1),N("p",vH,"✍️ Autor: "+pt(u.author||"nieznany"),1)]))),128))])):(Q(),st("div",yH,"Brak wpisów.")),N("button",{class:"btn show-more-btn mt-2",onClick:c[2]||(c[2]=u=>l.$emit("navigate","Wpisy"))}," ➕ Pokaż więcej wpisów ")])])]))}},bH=Ne(_H,[["__scopeId","data-v-c2965232"]]),EH={class:"dashboard container-fluid py-4"},TH={class:"row g-4 mb-4"},SH={class:"col-md-4"},wH={class:"col-md-4"},AH={class:"col-md-4"},IH={class:"row g-4 mb-4"},CH={class:"col-md-3"},xH={class:"col-md-3"},PH={class:"col-md-3"},RH={class:"col-md-3"},OH={class:"tab-section p-4 rounded-4 glassy"},NH={key:4,class:"text-light"},Fc=1e3,DH={__name:"DashboardView",setup(e){const t=It("Aktualności");function n(l){t.value=l}const s=It(null),i=Pe(()=>s.value?Math.floor(s.value.xp/Fc)+1:1),r=Pe(()=>s.value?i.value*Fc:Fc),o=Pe(()=>s.value?(s.value.xp-(i.value-1)*Fc)/Fc*100:0),a=()=>{Li.onAuthStateChanged(l=>{if(!l)return;const c=Be(oe,"users",l.uid);EB(c,u=>{u.exists()&&(s.value=u.data())})})};return On(()=>{a()}),(l,c)=>(Q(),st("div",EH,[N("div",TH,[N("div",SH,[Bt(ev,{title:"Twój poziom",value:`Poziom ${i.value}`,description:s.value?`${s.value.xp} / ${r.value} XP`:"Ładowanie...",icon:"🧫",progress:o.value},null,8,["value","description","progress"])]),N("div",wH,[Bt(ev,{title:"Umiejętności zdobyte",value:s.value?.skills?.length||0,description:"W tym roku",icon:"🧠",progress:s.value?.skills?s.value.skills.length/10*100:0},null,8,["value","progress"])]),N("div",AH,[Bt(ev,{title:"Cele zrealizowane",value:s.value?.skills?.length||0,description:"W tym roku",icon:"🎯",progress:s.value?.skills?s.value.skills.length/10*100:0},null,8,["value","progress"])])]),N("div",IH,[N("div",CH,[Bt(Cf,{title:"Aktualności",onClick:c[0]||(c[0]=u=>t.value="Aktualności")})]),N("div",xH,[Bt(Cf,{title:"Zadania",onClick:c[1]||(c[1]=u=>t.value="Zadania")})]),N("div",PH,[Bt(Cf,{title:"Wydarzenia",onClick:c[2]||(c[2]=u=>t.value="Wydarzenia")})]),N("div",RH,[Bt(Cf,{title:"Wpisy",onClick:c[3]||(c[3]=u=>t.value="Wpisy")})])]),N("div",OH,[t.value==="Aktualności"?(Q(),ts(bH,{key:0,onNavigate:n})):t.value==="Zadania"?(Q(),ts(UR,{key:1})):t.value==="Wydarzenia"?(Q(),ts(w9,{key:2})):t.value==="Wpisy"?(Q(),ts(K9,{key:3})):(Q(),st("p",NH,"Sekcja „"+pt(t.value)+"” jeszcze się ładuje lub będzie dostępna wkrótce.",1))])]))}},kH=Ne(DH,[["__scopeId","data-v-9345ee76"]]),MH={class:"knowledge-card card glassy p-3 h-100 d-flex flex-column"},LH={class:"d-flex justify-content-between align-items-center mb-2"},VH={class:"mb-0"},FH={key:0,class:"resource-list"},$H=["href"],UH=["href"],BH={key:2},jH={key:1,class:"text-muted fst-italic"},HH={__name:"KnowledgeCard",props:{category:Object},setup(e){const t=It(!1),n=()=>{t.value=!t.value};return(s,i)=>(Q(),st("div",MH,[N("div",LH,[N("h5",VH,pt(e.category.title),1),N("button",{class:"btn btn-sm btn-outline-light",onClick:n},pt(t.value?"−":"+"),1)]),t.value&&e.category.resources?.length?(Q(),st("ul",FH,[(Q(!0),st(ne,null,tn(e.category.resources,(r,o)=>(Q(),st("li",{key:o,class:"resource-item"},[r.type==="link"?(Q(),st("a",{key:0,href:r.url,target:"_blank",class:"text-info"},pt(r.name),9,$H)):r.type==="file"?(Q(),st("a",{key:1,href:r.url,target:"_blank",class:"text-info",download:""},pt(r.name),9,UH)):(Q(),st("span",BH,pt(r.name),1))]))),128))])):t.value?(Q(),st("p",jH,"Brak zasobów w tej kategorii.")):Ee("",!0),N("button",{class:"btn btn-sm btn-glow mt-auto",onClick:i[0]||(i[0]=r=>s.$emit("add-resource",e.category.id))}," + Dodaj zasób ")]))}},zH=Ne(HH,[["__scopeId","data-v-9af31a32"]]),WH={class:"knowledge-form-overlay"},KH={class:"knowledge-form glassy p-4 rounded-4 shadow"},GH={class:"text-light mb-3"},XH={key:0,class:"mb-3"},YH={key:1},qH={class:"text-light mb-2"},QH={class:"mb-3"},JH={class:"mb-3"},ZH={class:"mb-3"},tz={class:"d-flex gap-2"},ez={__name:"KnowledgeForm",props:{mode:{type:String,required:!0},categoryId:String},emits:["close","added"],setup(e,{emit:t}){const n=e,s=t,i=It(""),r=It(""),o=It("link"),a=It(""),l=It(""),c=It(null),u=async()=>{if(!n.categoryId)return;const d=Be(oe,"knowledgeCategories",n.categoryId),p=await Mi(d);p.exists()&&(l.value=p.data().title)};li(()=>n.categoryId,u),On(()=>{n.mode==="resource"&&u(),Ma(()=>{c.value?.focus()})});const h=async()=>{if(n.mode==="category")await Dh(Kn(oe,"knowledgeCategories"),{title:i.value,resources:[]});else if(n.mode==="resource"&&n.categoryId){const d=Be(oe,"knowledgeCategories",n.categoryId);await Sr(d,{resources:FR({name:r.value,type:o.value,url:a.value})})}s("added"),s("close"),i.value="",r.value="",o.value="link",a.value=""};return(d,p)=>(Q(),st("div",WH,[N("div",KH,[N("h5",GH,pt(e.mode==="category"?"Dodaj nową kategorię":"Dodaj nowy zasób"),1),N("form",{onSubmit:rs(h,["prevent"])},[e.mode==="category"?(Q(),st("div",XH,[p[5]||(p[5]=N("label",{class:"form-label text-light"},"Nazwa kategorii",-1)),se(N("input",{"onUpdate:modelValue":p[0]||(p[0]=g=>i.value=g),type:"text",class:"form-control styled-input",ref_key:"firstInput",ref:c,required:""},null,512),[[re,i.value]])])):Ee("",!0),e.mode==="resource"?(Q(),st("div",YH,[N("p",qH,[p[6]||(p[6]=xe("Kategoria: ",-1)),N("strong",null,pt(l.value),1)]),N("div",QH,[p[7]||(p[7]=N("label",{class:"form-label text-light"},"Nazwa zasobu",-1)),se(N("input",{"onUpdate:modelValue":p[1]||(p[1]=g=>r.value=g),type:"text",class:"form-control styled-input",ref_key:"firstInput",ref:c,required:""},null,512),[[re,r.value]])]),N("div",JH,[p[9]||(p[9]=N("label",{class:"form-label text-light"},"Typ zasobu",-1)),se(N("select",{"onUpdate:modelValue":p[2]||(p[2]=g=>o.value=g),class:"form-select styled-input",required:""},p[8]||(p[8]=[N("option",{value:"link"},"Link",-1),N("option",{value:"file"},"Plik (URL)",-1)]),512),[[lg,o.value]])]),N("div",ZH,[p[10]||(p[10]=N("label",{class:"form-label text-light"},"URL",-1)),se(N("input",{"onUpdate:modelValue":p[3]||(p[3]=g=>a.value=g),type:"url",class:"form-control styled-input",required:""},null,512),[[re,a.value]])])])):Ee("",!0),N("div",tz,[p[11]||(p[11]=N("button",{type:"submit",class:"btn btn-glow flex-grow-1"},"Zapisz",-1)),N("button",{type:"button",class:"btn btn-outline-light flex-grow-1",onClick:p[4]||(p[4]=g=>d.$emit("close"))},"Anuluj")])],32)])]))}},_0=Ne(ez,[["__scopeId","data-v-0de1216b"]]),nz={class:"knowledge-view container py-4"},sz={class:"mb-3 d-flex gap-3 align-items-center"},iz={class:"row g-4"},rz={__name:"KnowledgeView",setup(e){const t=It([]),n=It(!1),s=It(null),i=It(""),r=async()=>{const l=await ui(Kn(oe,"knowledgeCategories"));t.value=l.docs.map(c=>({id:c.id,...c.data()}))},o=Pe(()=>{if(!i.value.trim())return t.value;const l=i.value.toLowerCase();return t.value.filter(c=>c.title.toLowerCase().includes(l)||(c.resources?.some(u=>u.name.toLowerCase().includes(l))??!1))}),a=l=>{s.value=l};return On(r),(l,c)=>(Q(),st("div",nz,[c[4]||(c[4]=N("h3",{class:"section-title mb-4"},"📚 Baza Wiedzy",-1)),N("div",sz,[N("button",{class:"btn btn-glow",onClick:c[0]||(c[0]=u=>n.value=!0)},"+ Dodaj kategorię"),se(N("input",{"onUpdate:modelValue":c[1]||(c[1]=u=>i.value=u),type:"text",placeholder:"Szukaj...",class:"form-control search-input"},null,512),[[re,i.value]])]),N("div",iz,[(Q(!0),st(ne,null,tn(o.value,u=>(Q(),st("div",{key:u.id,class:"col-md-4"},[Bt(zH,{category:u,onAddResource:a},null,8,["category"])]))),128))]),n.value?(Q(),ts(_0,{key:0,mode:"category",onClose:c[2]||(c[2]=u=>n.value=!1),onAdded:r})):Ee("",!0),s.value?(Q(),ts(_0,{key:1,mode:"resource",categoryId:s.value,onClose:c[3]||(c[3]=u=>s.value=null),onAdded:r},null,8,["categoryId"])):Ee("",!0)]))}},oz=Ne(rz,[["__scopeId","data-v-e6618713"]]),az={class:"container py-4 text-light"},lz={class:"row g-4"},cz={class:"col-12 col-md-4"},uz={class:"card glassy p-4 text-center h-100"},hz=["src"],fz={class:"fw-bold text-light"},dz={class:"badge bg-secondary mt-2"},pz={class:"col-12 col-md-8"},gz={class:"stat-card p-4 rounded shadow-sm h-100 d-flex flex-column justify-content-between"},mz={class:"fw-bold text-light"},vz={class:"text-light"},yz={class:"xp-bar-container mt-2"},_z={class:"col-12"},bz={class:"card glassy p-4"},Ez={class:"list-group list-group-flush"},Tz={class:"text-success fw-bold"},Sz={key:0,class:"text-muted"},wz="https://img.freepik.com/darmowe-wektory/awatar-postaci-biznesmen-na-bialym-tle_24877-60111.jpg?t=st=1734351587~exp=1734355187~hmac=7f3f29198ca151a6f1daece81575d4925299ba4e8e85296b61ff94e54bc5d49b",Az={__name:"UserProfileView",setup(e){const t=It({name:"",nickname:"",bio:"",xp:0,avatar:"",role:""}),n=It([]),s=Pe(()=>Math.floor(t.value.xp/1e3)+1),i=Pe(()=>s.value*1e3),r=Pe(()=>(t.value.xp-(s.value-1)*1e3)/1e3*100),o=async()=>{const u=Li.currentUser;if(!u)return;const h=Be(oe,"users",u.uid);await $b(h,{nickname:t.value.nickname,bio:t.value.bio},{merge:!0})},a=u=>{const h=u.target.files[0];h&&(t.value.avatar=URL.createObjectURL(h))},l=async u=>{const h=Be(oe,"users",u),d=await Mi(h);d.exists()&&(t.value={...t.value,...d.data()})},c=async u=>{const h=fa(Kn(oe,"tasks"),nh("assignedTo","array-contains",u),nh("status","==","done")),d=await ui(h),p=[];d.forEach(g=>{const m=g.data();p.push({category:m.category||"Brak kategorii",points:m.points||0})}),n.value=p};return On(()=>{G_(Li,async u=>{u&&(await l(u.uid),await c(u.email))})}),(u,h)=>(Q(),st("div",az,[N("div",lz,[N("div",cz,[N("div",uz,[N("img",{src:t.value.avatar||wz,alt:"Avatar",class:"avatar mb-3"},null,8,hz),N("input",{type:"file",onChange:a,class:"form-control mb-3","aria-label":"Wybierz avatar"},null,32),N("h5",fz,pt(t.value.name),1),se(N("input",{"onUpdate:modelValue":h[0]||(h[0]=d=>t.value.nickname=d),class:"form-control mb-2 text-light bg-dark",placeholder:"Nick",onBlur:o,style:{border:"1px solid #b983ff"}},null,544),[[re,t.value.nickname]]),se(N("textarea",{"onUpdate:modelValue":h[1]||(h[1]=d=>t.value.bio=d),class:"form-control mb-2 text-light bg-dark",placeholder:"Bio",onBlur:o,rows:"3",style:{border:"1px solid #b983ff"}},null,544),[[re,t.value.bio]]),N("span",dz,pt(t.value.role||"Użytkownik"),1)])]),N("div",pz,[N("div",gz,[h[2]||(h[2]=N("div",{class:"d-flex justify-content-between align-items-center mb-2"},[N("h5",{class:"text-uppercase fw-semibold text-secondary"},"Poziom"),N("span",{class:"fs-3"},"🎮")],-1)),N("div",null,[N("h3",mz,"Poziom "+pt(s.value),1),N("p",vz,pt(t.value.xp)+" / "+pt(i.value)+" XP",1)]),N("div",yz,[N("div",{class:"xp-fill",style:Ni({width:r.value+"%"})},null,4)])])]),h[5]||(h[5]=w1('<div class="col-12" data-v-77f6d691><div class="card glassy p-4" data-v-77f6d691><h5 class="text-light" data-v-77f6d691>Odznaki</h5><div class="d-flex flex-wrap gap-3 justify-content-start" data-v-77f6d691><div class="badge-tile-glow" title="Za ukończenie 5 zadań" data-v-77f6d691><div class="emoji" data-v-77f6d691>🔥</div><div class="title" data-v-77f6d691>Aktywny Gracz</div><p class="desc" data-v-77f6d691>Za ukończenie 5 zadań</p></div><div class="badge-tile-glow" title="Za prowadzenie zespołu" data-v-77f6d691><div class="emoji" data-v-77f6d691>🌟</div><div class="title" data-v-77f6d691>Lider Drużyny</div><p class="desc" data-v-77f6d691>Za prowadzenie zespołu</p></div><div class="badge-tile-glow" title="Za 100% ukończonych zadań" data-v-77f6d691><div class="emoji" data-v-77f6d691>🏅</div><div class="title" data-v-77f6d691>Perfekcjonista</div><p class="desc" data-v-77f6d691>Za 100% ukończonych zadań</p></div></div></div></div>',1)),N("div",_z,[N("div",bz,[h[4]||(h[4]=N("h5",{class:"text-light"},"Aktywność",-1)),N("ul",Ez,[(Q(!0),st(ne,null,tn(n.value,(d,p)=>(Q(),st("li",{key:p,class:"list-group-item bg-transparent text-light border-secondary",style:{display:"flex","justify-content":"space-between","font-weight":"600"}},[h[3]||(h[3]=xe(" ✅ ",-1)),N("em",null,"["+pt(d.category)+"]",1),N("span",Tz,"+"+pt(d.points)+" XP",1)]))),128)),n.value.length===0?(Q(),st("p",Sz,"Brak aktywności")):Ee("",!0)])])])])]))}},Iz=Ne(Az,[["__scopeId","data-v-77f6d691"]]),Cz={class:"team-list"},xz=["onClick"],Pz={class:"d-flex justify-content-between align-items-center mb-3"},Rz={class:"team-name neon-text mb-0"},Oz={class:"text-muted fst-italic"},Nz={class:"mb-3"},Dz={class:"mb-2"},kz={class:"d-flex flex-wrap gap-2 align-items-center"},Mz=["title"],Lz=["onClick"],Vz=["onSubmit"],Fz=["onUpdate:modelValue","disabled"],$z=["disabled"],Uz={key:1,class:"text-danger mt-2"},Bz={__name:"TeamList",props:{teams:{type:Array,required:!0},currentUserEmail:{type:String,required:!0}},emits:["updateTeams"],setup(e,{emit:t}){const n=e,s=t,i=Si({}),r=Si({}),o=Si({}),a=h=>h.ownerEmail===n.currentUserEmail,l=h=>h.split("@")[0].split(/[._]/).map(g=>g[0]?.toUpperCase()||"").join("").slice(0,2),c=async h=>{if(!i[h]?.trim())return;const d=i[h].trim().toLowerCase();o[h]="",r[h]=!0;try{const p=Be(oe,"teams",h),g=await Mi(p);if(!g.exists())throw new Error("Zespół nie istnieje");if(g.data().members.includes(d)){o[h]="Ten użytkownik jest już w zespole.",r[h]=!1;return}await Sr(p,{members:FR(d)}),i[h]="",s("updateTeams")}catch(p){console.error("Błąd dodawania członka:",p),o[h]="Nie udało się dodać członka."}finally{r[h]=!1}},u=async(h,d)=>{if(confirm(`Czy na pewno chcesz usunąć ${d} z zespołu?`)){o[h]="",r[h]=!0;try{const p=Be(oe,"teams",h);await Sr(p,{members:TB(d)}),s("updateTeams")}catch(p){console.error("Błąd usuwania członka:",p),o[h]="Nie udało się usunąć członka."}finally{r[h]=!1}}};return(h,d)=>{const p=La("RouterLink");return Q(),st("div",Cz,[(Q(!0),st(ne,null,tn(e.teams,g=>(Q(),ts(p,{key:g.id,to:`/team/${g.id}`,class:"team-card-link text-decoration-none",custom:""},{default:fs(({navigate:m,isActive:y})=>[N("div",{class:Pn(["team-card glassy p-3 mb-4 rounded shadow",{active:y}]),onClick:()=>{console.log("Kliknięto kartę",g.id),m()}},[N("div",Pz,[N("h3",Rz,pt(g.name),1),N("small",Oz,"Właściciel: "+pt(g.ownerEmail),1)]),N("div",Nz,[N("h5",Dz,"Członkowie ("+pt(g.members.length)+")",1),N("div",kz,[(Q(!0),st(ne,null,tn(g.members,E=>(Q(),st("div",{key:E,class:Pn(["member-item d-flex align-items-center gap-2 px-2 py-1 rounded",{owner:E===g.ownerEmail}])},[N("div",{class:"avatar-placeholder",title:E},pt(l(E)),9,Mz),N("span",null,pt(E),1),a(g)&&E!==e.currentUserEmail?(Q(),st("button",{key:0,class:"btn btn-sm btn-outline-danger ms-2",onClick:rs(A=>u(g.id,E),["stop","prevent"]),title:"Usuń członka"}," × ",8,Lz)):Ee("",!0)],2))),128))])]),a(g)?(Q(),st("form",{key:0,onSubmit:rs(E=>c(g.id),["prevent","stop"]),class:"d-flex gap-2 align-items-center flex-wrap"},[se(N("input",{"onUpdate:modelValue":E=>i[g.id]=E,type:"email",placeholder:"Dodaj członka (email)",class:"form-control form-control-sm",disabled:r[g.id],required:""},null,8,Fz),[[re,i[g.id]]]),N("button",{type:"submit",class:"btn btn-sm btn-glow",disabled:r[g.id]},pt(r[g.id]?"Dodaję...":"Dodaj"),9,$z)],40,Vz)):Ee("",!0),o[g.id]?(Q(),st("div",Uz,pt(o[g.id]),1)):Ee("",!0)],10,xz)]),_:2},1032,["to"]))),128))])}}},jz=Ne(Bz,[["__scopeId","data-v-0cad5193"]]),Hz={class:"team-view container py-4"},zz=["disabled"],Wz=["disabled"],Kz={key:0,class:"text-danger mb-3"},Gz={key:1,class:"text-center my-5 text-muted"},Xz={key:2},Yz={key:1,class:"text-muted fst-italic"},qz={__name:"TeamView",setup(e){const{user:t}=Ub(),n=It(""),s=It([]),i=It(""),r=It(!1),o=It(!1),a=It(""),l=async()=>{if(!n.value){a.value="Brak zalogowanego użytkownika";return}o.value=!0,a.value="";try{const u=fa(Kn(oe,"teams"),nh("members","array-contains",n.value)),h=await ui(u);s.value=h.docs.map(d=>({id:d.id,...d.data()}))}catch(u){console.error("Błąd pobierania zespołów:",u),a.value="Nie udało się pobrać zespołów."}finally{o.value=!1}},c=async()=>{if(!i.value.trim()){a.value="Nazwa zespołu nie może być pusta.";return}if(!n.value){a.value="Brak zalogowanego użytkownika";return}r.value=!0,a.value="";try{await Dh(Kn(oe,"teams"),{name:i.value.trim(),ownerEmail:n.value,members:[n.value],goals:[],skills:[],entries:[]}),i.value="",await l()}catch(u){console.error("Błąd tworzenia zespołu:",u),a.value="Nie udało się utworzyć zespołu."}finally{r.value=!1}};return li(t,u=>{u?.email&&(n.value=u.email,l())}),(u,h)=>(Q(),st("div",Hz,[h[1]||(h[1]=N("h1",{class:"neon-text mb-4"},"👥 Zarządzanie Zespołami",-1)),N("form",{onSubmit:rs(c,["prevent"]),class:"mb-4 d-flex flex-column flex-md-row gap-2 align-items-center"},[se(N("input",{"onUpdate:modelValue":h[0]||(h[0]=d=>i.value=d),placeholder:"Nazwa nowego zespołu",class:"form-control",disabled:r.value,required:""},null,8,zz),[[re,i.value]]),N("button",{type:"submit",class:"btn btn-glow",disabled:r.value},pt(r.value?"Tworzę...":"Utwórz zespół"),9,Wz)],32),a.value?(Q(),st("div",Kz,pt(a.value),1)):Ee("",!0),o.value?(Q(),st("div",Gz,"Ładowanie zespołów...")):(Q(),st("div",Xz,[s.value.length?(Q(),ts(jz,{key:0,teams:s.value,currentUserEmail:n.value,onUpdateTeams:l},null,8,["teams","currentUserEmail"])):(Q(),st("div",Yz,"Nie należysz do żadnego zespołu."))]))]))}},Qz=Ne(qz,[["__scopeId","data-v-c356b8f7"]]),Jz={class:"tile members-tile"},Zz={class:"text-muted ms-2"},t8={class:"list-group mb-3"},e8={key:0,class:"badge owner-badge"},n8=["onClick"],s8=["disabled"],i8=["disabled"],r8={__name:"MembersTile",props:{members:Array,isOwner:Boolean,ownerEmail:String,currentUserEmail:String,addingMember:Boolean},setup(e){const t=It("");return(n,s)=>(Q(),st("section",Jz,[N("h3",null,[s[2]||(s[2]=xe(" Członkowie zespołu ",-1)),N("small",Zz," ( "+pt(e.members.length)+" ) ",1)]),N("ul",t8,[(Q(!0),st(ne,null,tn(e.members,i=>(Q(),st("li",{key:i,class:"list-group-item d-flex align-items-center gap-3"},[N("div",{class:Pn(["member-email",{"owner-email":i===e.ownerEmail}])},[xe(pt(i)+" ",1),i===e.ownerEmail?(Q(),st("span",e8,"Właściciel")):Ee("",!0)],2),e.isOwner&&i!==e.currentUserEmail?(Q(),st("button",{key:0,class:"btn btn-sm btn-outline-danger ms-auto",onClick:r=>n.$emit("remove-member",i)}," Usuń ",8,n8)):Ee("",!0)]))),128))]),e.isOwner?(Q(),st("form",{key:0,onSubmit:s[1]||(s[1]=rs(i=>n.$emit("add-member",t.value),["prevent"])),class:"d-flex gap-2"},[se(N("input",{"onUpdate:modelValue":s[0]||(s[0]=i=>t.value=i),type:"email",placeholder:"Dodaj członka (email)",class:"form-control",disabled:e.addingMember,required:""},null,8,s8),[[re,t.value]]),N("button",{type:"submit",class:"btn btn-glow",disabled:e.addingMember||!t.value.trim()},pt(e.addingMember?"Dodaję...":"Dodaj"),9,i8)],32)):Ee("",!0)]))}},o8=Ne(r8,[["__scopeId","data-v-c83762b9"]]),a8={class:"tile goals-tile"},l8={class:"text-muted ms-2"},c8={class:"list-group mb-3"},u8=["onUpdate:modelValue","onChange"],h8=["onClick"],f8=["disabled","value"],d8=["disabled"],p8={__name:"GoalsTile",props:{goals:{type:Array,default:()=>[]},addingGoal:Boolean,newGoalText:String},emits:["add-goal","remove-goal","toggle-goal","update:newGoalText"],setup(e,{emit:t}){const n=e,s=t,i=It([]);li(()=>n.goals,u=>{i.value=u.map(h=>({...h}))},{immediate:!0});const r=Pe(()=>i.value.length),o=Pe(()=>i.value.filter(u=>u.completed).length),a=()=>{n.newGoalText.trim()&&(s("add-goal",n.newGoalText.trim()),s("update:newGoalText",""))},l=u=>{s("remove-goal",u)},c=u=>{s("toggle-goal",{index:u,completed:i.value[u].completed})};return(u,h)=>(Q(),st("section",a8,[N("h3",null,[h[1]||(h[1]=xe(" Cele zespołu ",-1)),N("small",l8,pt(o.value)+" / "+pt(r.value)+" wykonanych ",1)]),N("ul",c8,[(Q(!0),st(ne,null,tn(i.value,(d,p)=>(Q(),st("li",{key:p,class:"list-group-item d-flex align-items-center gap-3"},[se(N("input",{type:"checkbox","onUpdate:modelValue":g=>i.value[p].completed=g,onChange:g=>c(p)},null,40,u8),[[Eh,i.value[p].completed]]),N("span",{class:Pn({"text-decoration-line-through":d.completed})},pt(d.text),3),N("button",{class:"btn btn-sm btn-outline-danger ms-auto",onClick:g=>l(p)}," Usuń ",8,h8)]))),128))]),N("form",{onSubmit:rs(a,["prevent"]),class:"d-flex gap-2"},[N("input",{type:"text",placeholder:"Dodaj nowy cel",class:"form-control",disabled:e.addingGoal,value:e.newGoalText,onInput:h[0]||(h[0]=d=>u.$emit("update:newGoalText",d.target.value)),required:""},null,40,f8),N("button",{type:"submit",class:"btn btn-glow",disabled:e.addingGoal},pt(e.addingGoal?"Dodaję...":"Dodaj cel"),9,d8)],32)]))}},g8=Ne(p8,[["__scopeId","data-v-b8a4720a"]]),m8={class:"tile skills-tile"},v8={class:"text-muted ms-2"},y8={class:"list-group mb-3"},_8=["onUpdate:modelValue","onChange"],b8=["onClick"],E8=["disabled"],T8=["disabled"],S8={__name:"SkillsTile",props:{skills:{type:Array,default:()=>[]},adding:{type:Boolean,default:!1}},emits:["add-skill","remove-skill","toggle-skill"],setup(e,{emit:t}){const n=e,s=t,i=It(""),r=Pe(()=>n.skills.length),o=Pe(()=>n.skills.filter(u=>u.completed).length),a=()=>{i.value.trim()&&(s("add-skill",i.value.trim()),i.value="")},l=u=>{s("remove-skill",u)},c=u=>{s("toggle-skill",{index:u,completed:n.skills[u].completed})};return(u,h)=>(Q(),st("section",m8,[N("h3",null,[h[1]||(h[1]=xe(" Umiejętności zespołu ",-1)),N("small",v8,pt(o.value)+" / "+pt(r.value)+" opanowanych ",1)]),N("ul",y8,[(Q(!0),st(ne,null,tn(e.skills,(d,p)=>(Q(),st("li",{key:p,class:"list-group-item d-flex align-items-center gap-3"},[se(N("input",{type:"checkbox","onUpdate:modelValue":g=>d.completed=g,onChange:()=>c(p)},null,40,_8),[[Eh,d.completed]]),N("span",{class:Pn({"text-decoration-line-through":d.completed})},pt(d.text),3),N("button",{class:"btn btn-sm btn-outline-danger ms-auto",onClick:()=>l(p)}," Usuń ",8,b8)]))),128))]),N("form",{onSubmit:rs(a,["prevent"]),class:"d-flex gap-2"},[se(N("input",{"onUpdate:modelValue":h[0]||(h[0]=d=>i.value=d),type:"text",placeholder:"Dodaj nową umiejętność",class:"form-control",disabled:e.adding,required:""},null,8,E8),[[re,i.value]]),N("button",{type:"submit",class:"btn btn-glow",disabled:e.adding||!i.value.trim()},pt(e.adding?"Dodaję...":"Dodaj umiejętność"),9,T8)],32)]))}},w8=Ne(S8,[["__scopeId","data-v-d758fa36"]]);function A8(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Fg(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function s(){var i=!1;try{i=this instanceof s}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var i=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,i.get?i:{enumerable:!0,get:function(){return e[s]}})}),n}var yd={exports:{}},nv={exports:{}},sv={};/**
* @vue/compiler-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Hl=Symbol(""),Al=Symbol(""),$g=Symbol(""),sh=Symbol(""),Bb=Symbol(""),To=Symbol(""),jb=Symbol(""),Hb=Symbol(""),Ug=Symbol(""),Bg=Symbol(""),gc=Symbol(""),jg=Symbol(""),zb=Symbol(""),Hg=Symbol(""),zg=Symbol(""),Wg=Symbol(""),Kg=Symbol(""),Gg=Symbol(""),Xg=Symbol(""),Wb=Symbol(""),Kb=Symbol(""),Mh=Symbol(""),ih=Symbol(""),Yg=Symbol(""),qg=Symbol(""),zl=Symbol(""),mc=Symbol(""),Qg=Symbol(""),yp=Symbol(""),BR=Symbol(""),_p=Symbol(""),rh=Symbol(""),jR=Symbol(""),HR=Symbol(""),Jg=Symbol(""),zR=Symbol(""),WR=Symbol(""),Zg=Symbol(""),Gb=Symbol(""),Ia={[Hl]:"Fragment",[Al]:"Teleport",[$g]:"Suspense",[sh]:"KeepAlive",[Bb]:"BaseTransition",[To]:"openBlock",[jb]:"createBlock",[Hb]:"createElementBlock",[Ug]:"createVNode",[Bg]:"createElementVNode",[gc]:"createCommentVNode",[jg]:"createTextVNode",[zb]:"createStaticVNode",[Hg]:"resolveComponent",[zg]:"resolveDynamicComponent",[Wg]:"resolveDirective",[Kg]:"resolveFilter",[Gg]:"withDirectives",[Xg]:"renderList",[Wb]:"renderSlot",[Kb]:"createSlots",[Mh]:"toDisplayString",[ih]:"mergeProps",[Yg]:"normalizeClass",[qg]:"normalizeStyle",[zl]:"normalizeProps",[mc]:"guardReactiveProps",[Qg]:"toHandlers",[yp]:"camelize",[BR]:"capitalize",[_p]:"toHandlerKey",[rh]:"setBlockTracking",[jR]:"pushScopeId",[HR]:"popScopeId",[Jg]:"withCtx",[zR]:"unref",[WR]:"isRef",[Zg]:"withMemo",[Gb]:"isMemoSame"};function KR(e){Object.getOwnPropertySymbols(e).forEach(t=>{Ia[t]=e[t]})}const I8={HTML:0,0:"HTML",SVG:1,1:"SVG",MATH_ML:2,2:"MATH_ML"},C8={ROOT:0,0:"ROOT",ELEMENT:1,1:"ELEMENT",TEXT:2,2:"TEXT",COMMENT:3,3:"COMMENT",SIMPLE_EXPRESSION:4,4:"SIMPLE_EXPRESSION",INTERPOLATION:5,5:"INTERPOLATION",ATTRIBUTE:6,6:"ATTRIBUTE",DIRECTIVE:7,7:"DIRECTIVE",COMPOUND_EXPRESSION:8,8:"COMPOUND_EXPRESSION",IF:9,9:"IF",IF_BRANCH:10,10:"IF_BRANCH",FOR:11,11:"FOR",TEXT_CALL:12,12:"TEXT_CALL",VNODE_CALL:13,13:"VNODE_CALL",JS_CALL_EXPRESSION:14,14:"JS_CALL_EXPRESSION",JS_OBJECT_EXPRESSION:15,15:"JS_OBJECT_EXPRESSION",JS_PROPERTY:16,16:"JS_PROPERTY",JS_ARRAY_EXPRESSION:17,17:"JS_ARRAY_EXPRESSION",JS_FUNCTION_EXPRESSION:18,18:"JS_FUNCTION_EXPRESSION",JS_CONDITIONAL_EXPRESSION:19,19:"JS_CONDITIONAL_EXPRESSION",JS_CACHE_EXPRESSION:20,20:"JS_CACHE_EXPRESSION",JS_BLOCK_STATEMENT:21,21:"JS_BLOCK_STATEMENT",JS_TEMPLATE_LITERAL:22,22:"JS_TEMPLATE_LITERAL",JS_IF_STATEMENT:23,23:"JS_IF_STATEMENT",JS_ASSIGNMENT_EXPRESSION:24,24:"JS_ASSIGNMENT_EXPRESSION",JS_SEQUENCE_EXPRESSION:25,25:"JS_SEQUENCE_EXPRESSION",JS_RETURN_STATEMENT:26,26:"JS_RETURN_STATEMENT"},x8={ELEMENT:0,0:"ELEMENT",COMPONENT:1,1:"COMPONENT",SLOT:2,2:"SLOT",TEMPLATE:3,3:"TEMPLATE"},P8={NOT_CONSTANT:0,0:"NOT_CONSTANT",CAN_SKIP_PATCH:1,1:"CAN_SKIP_PATCH",CAN_CACHE:2,2:"CAN_CACHE",CAN_STRINGIFY:3,3:"CAN_STRINGIFY"},gn={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function GR(e,t=""){return{type:0,source:t,children:e,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:gn}}function Wl(e,t,n,s,i,r,o,a=!1,l=!1,c=!1,u=gn){return e&&(a?(e.helper(To),e.helper(Pa(e.inSSR,c))):e.helper(xa(e.inSSR,c)),o&&e.helper(Gg)),{type:13,tag:t,props:n,children:s,patchFlag:i,dynamicProps:r,directives:o,isBlock:a,disableTracking:l,isComponent:c,loc:u}}function uo(e,t=gn){return{type:17,loc:t,elements:e}}function Ps(e,t=gn){return{type:15,loc:t,properties:e}}function Ke(e,t){return{type:16,loc:gn,key:Gt(e)?qt(e,!0):e,value:t}}function qt(e,t=!1,n=gn,s=0){return{type:4,loc:n,content:e,isStatic:t,constType:t?3:s}}function R8(e,t){return{type:5,loc:t,content:Gt(e)?qt(e,!1,t):e}}function Bs(e,t=gn){return{type:8,loc:t,children:e}}function ln(e,t=[],n=gn){return{type:14,loc:n,callee:e,arguments:t}}function Ca(e,t=void 0,n=!1,s=!1,i=gn){return{type:18,params:e,returns:t,newline:n,isSlot:s,loc:i}}function bp(e,t,n,s=!0){return{type:19,test:e,consequent:t,alternate:n,newline:s,loc:gn}}function XR(e,t,n=!1,s=!1){return{type:20,index:e,value:t,needPauseTracking:n,inVOnce:s,needArraySpread:!1,loc:gn}}function YR(e){return{type:21,body:e,loc:gn}}function O8(e){return{type:22,elements:e,loc:gn}}function N8(e,t,n){return{type:23,test:e,consequent:t,alternate:n,loc:gn}}function D8(e,t){return{type:24,left:e,right:t,loc:gn}}function k8(e){return{type:25,expressions:e,loc:gn}}function M8(e){return{type:26,returns:e,loc:gn}}function xa(e,t){return e||t?Ug:Bg}function Pa(e,t){return e||t?jb:Hb}function tm(e,{helper:t,removeHelper:n,inSSR:s}){e.isBlock||(e.isBlock=!0,n(xa(s,e.isComponent)),t(To),t(Pa(s,e.isComponent)))}const b0=new Uint8Array([123,123]),E0=new Uint8Array([125,125]);function T0(e){return e>=97&&e<=122||e>=65&&e<=90}function Is(e){return e===32||e===10||e===9||e===12||e===13}function Lr(e){return e===47||e===62||Is(e)}function Ep(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}const Mn={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class L8{constructor(t,n){this.stack=t,this.cbs=n,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=b0,this.delimiterClose=E0,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=b0,this.delimiterClose=E0}getPos(t){let n=1,s=t+1;for(let i=this.newlines.length-1;i>=0;i--){const r=this.newlines[i];if(t>r){n=i+2,s=t-r;break}}return{column:s,line:n,offset:t}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(t){t===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t))}stateInterpolationOpen(t){if(t===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const n=this.index+1-this.delimiterOpen.length;n>this.sectionStart&&this.cbs.ontext(this.sectionStart,n),this.state=3,this.sectionStart=n}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(t)):(this.state=1,this.stateText(t))}stateInterpolation(t){t===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(t))}stateInterpolationClose(t){t===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(t))}stateSpecialStartSequence(t){const n=this.sequenceIndex===this.currentSequence.length;if(!(n?Lr(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(t)}stateInRCDATA(t){if(this.sequenceIndex===this.currentSequence.length){if(t===62||Is(t)){const n=this.index-this.currentSequence.length;if(this.sectionStart<n){const s=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=s}this.sectionStart=n+2,this.stateInClosingTagName(t),this.inRCDATA=!1;return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Mn.TitleEnd||this.currentSequence===Mn.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===60)}stateCDATASequence(t){t===Mn.Cdata[this.sequenceIndex]?++this.sequenceIndex===Mn.Cdata.length&&(this.state=28,this.currentSequence=Mn.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length;){const n=this.buffer.charCodeAt(this.index);if(n===10&&this.newlines.push(this.index),n===t)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Mn.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(t,n){this.enterRCDATA(t,n),this.state=31}enterRCDATA(t,n){this.inRCDATA=!0,this.currentSequence=t,this.sequenceIndex=n}stateBeforeTagName(t){t===33?(this.state=22,this.sectionStart=this.index+1):t===63?(this.state=24,this.sectionStart=this.index+1):T0(t)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:t===116?this.state=30:this.state=t===115?29:6):t===47?this.state=8:(this.state=1,this.stateText(t))}stateInTagName(t){Lr(t)&&this.handleTagName(t)}stateInSFCRootTagName(t){if(Lr(t)){const n=this.buffer.slice(this.sectionStart,this.index);n!=="template"&&this.enterRCDATA(Ep("</"+n),0),this.handleTagName(t)}}handleTagName(t){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)}stateBeforeClosingTagName(t){Is(t)||(t===62?(this.state=1,this.sectionStart=this.index+1):(this.state=T0(t)?9:27,this.sectionStart=this.index))}stateInClosingTagName(t){(t===62||Is(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){t===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(t){t===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):t===47?this.state=7:t===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):Is(t)||this.handleAttrStart(t)}handleAttrStart(t){t===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):t===46||t===58||t===64||t===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):Is(t)||(this.state=11,this.stateBeforeAttrName(t))}stateInAttrName(t){(t===61||Lr(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(t))}stateInDirName(t){t===61||Lr(t)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):t===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(t){t===61||Lr(t)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===91?this.state=15:t===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(t){t===93?this.state=14:(t===61||Lr(t))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(t))}stateInDirModifier(t){t===61||Lr(t)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(t){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(t)}stateAfterAttrName(t){t===61?this.state=18:t===47||t===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)):Is(t)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(t))}stateBeforeAttrValue(t){t===34?(this.state=19,this.sectionStart=this.index+1):t===39?(this.state=20,this.sectionStart=this.index+1):Is(t)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(t))}handleInAttrValue(t,n){(t===n||this.fastForwardTo(n))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(t){this.handleInAttrValue(t,34)}stateInAttrValueSingleQuotes(t){this.handleInAttrValue(t,39)}stateInAttrValueNoQuotes(t){Is(t)||t===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(t)):(t===39||t===60||t===61||t===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(t){t===91?(this.state=26,this.sequenceIndex=0):this.state=t===45?25:23}stateInDeclaration(t){(t===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(t){t===45?(this.state=28,this.currentSequence=Mn.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(t){(t===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){t===Mn.ScriptEnd[3]?this.startSpecial(Mn.ScriptEnd,4):t===Mn.StyleEnd[3]?this.startSpecial(Mn.StyleEnd,4):(this.state=6,this.stateInTagName(t))}stateBeforeSpecialT(t){t===Mn.TitleEnd[3]?this.startSpecial(Mn.TitleEnd,4):t===Mn.TextareaEnd[3]?this.startSpecial(Mn.TextareaEnd,4):(this.state=6,this.stateInTagName(t))}startEntity(){}stateInEntity(){}parse(t){for(this.buffer=t;this.index<this.buffer.length;){const n=this.buffer.charCodeAt(this.index);switch(n===10&&this.state!==33&&this.newlines.push(this.index),this.state){case 1:{this.stateText(n);break}case 2:{this.stateInterpolationOpen(n);break}case 3:{this.stateInterpolation(n);break}case 4:{this.stateInterpolationClose(n);break}case 31:{this.stateSpecialStartSequence(n);break}case 32:{this.stateInRCDATA(n);break}case 26:{this.stateCDATASequence(n);break}case 19:{this.stateInAttrValueDoubleQuotes(n);break}case 12:{this.stateInAttrName(n);break}case 13:{this.stateInDirName(n);break}case 14:{this.stateInDirArg(n);break}case 15:{this.stateInDynamicDirArg(n);break}case 16:{this.stateInDirModifier(n);break}case 28:{this.stateInCommentLike(n);break}case 27:{this.stateInSpecialComment(n);break}case 11:{this.stateBeforeAttrName(n);break}case 6:{this.stateInTagName(n);break}case 34:{this.stateInSFCRootTagName(n);break}case 9:{this.stateInClosingTagName(n);break}case 5:{this.stateBeforeTagName(n);break}case 17:{this.stateAfterAttrName(n);break}case 20:{this.stateInAttrValueSingleQuotes(n);break}case 18:{this.stateBeforeAttrValue(n);break}case 8:{this.stateBeforeClosingTagName(n);break}case 10:{this.stateAfterClosingTagName(n);break}case 29:{this.stateBeforeSpecialS(n);break}case 30:{this.stateBeforeSpecialT(n);break}case 21:{this.stateInAttrValueNoQuotes(n);break}case 7:{this.stateInSelfClosingTag(n);break}case 23:{this.stateInDeclaration(n);break}case 22:{this.stateBeforeDeclaration(n);break}case 25:{this.stateBeforeComment(n);break}case 24:{this.stateInProcessingInstruction(n);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length;this.sectionStart>=t||(this.state===28?this.currentSequence===Mn.CdataEnd?this.cbs.oncdata(this.sectionStart,t):this.cbs.oncomment(this.sectionStart,t):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,n){}}const V8={COMPILER_IS_ON_ELEMENT:"COMPILER_IS_ON_ELEMENT",COMPILER_V_BIND_SYNC:"COMPILER_V_BIND_SYNC",COMPILER_V_BIND_OBJECT_ORDER:"COMPILER_V_BIND_OBJECT_ORDER",COMPILER_V_ON_NATIVE:"COMPILER_V_ON_NATIVE",COMPILER_V_IF_V_FOR_PRECEDENCE:"COMPILER_V_IF_V_FOR_PRECEDENCE",COMPILER_NATIVE_TEMPLATE:"COMPILER_NATIVE_TEMPLATE",COMPILER_INLINE_TEMPLATE:"COMPILER_INLINE_TEMPLATE",COMPILER_FILTERS:"COMPILER_FILTERS"},F8={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3-migration.vuejs.org/breaking-changes/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:e=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${e}.sync\` should be changed to \`v-model:${e}\`.`,link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3-migration.vuejs.org/breaking-changes/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3-migration.vuejs.org/breaking-changes/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3-migration.vuejs.org/breaking-changes/v-if-v-for.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3-migration.vuejs.org/breaking-changes/inline-template-attribute.html"},COMPILER_FILTERS:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"}};function Fy(e,{compatConfig:t}){const n=t&&t[e];return e==="MODE"?n||3:n}function ga(e,t){const n=Fy("MODE",t),s=Fy(e,t);return n===3?s===!0:s!==!1}function Kl(e,t,n,...s){return ga(e,t)}function $8(e,t,n,...s){if(Fy(e,t)==="suppress-warning")return;const{message:r,link:o}=F8[e],a=`(deprecation ${e}) ${typeof r=="function"?r(...s):r}${o?`
  Details: ${o}`:""}`,l=new SyntaxError(a);l.code=e,n&&(l.loc=n),t.onWarn(l)}function Xb(e){throw e}function qR(e){}function Ue(e,t,n,s){const i=`https://vuejs.org/error-reference/#compiler-${e}`,r=new SyntaxError(String(i));return r.code=e,r.loc=t,r}const U8={ABRUPT_CLOSING_OF_EMPTY_COMMENT:0,0:"ABRUPT_CLOSING_OF_EMPTY_COMMENT",CDATA_IN_HTML_CONTENT:1,1:"CDATA_IN_HTML_CONTENT",DUPLICATE_ATTRIBUTE:2,2:"DUPLICATE_ATTRIBUTE",END_TAG_WITH_ATTRIBUTES:3,3:"END_TAG_WITH_ATTRIBUTES",END_TAG_WITH_TRAILING_SOLIDUS:4,4:"END_TAG_WITH_TRAILING_SOLIDUS",EOF_BEFORE_TAG_NAME:5,5:"EOF_BEFORE_TAG_NAME",EOF_IN_CDATA:6,6:"EOF_IN_CDATA",EOF_IN_COMMENT:7,7:"EOF_IN_COMMENT",EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT:8,8:"EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT",EOF_IN_TAG:9,9:"EOF_IN_TAG",INCORRECTLY_CLOSED_COMMENT:10,10:"INCORRECTLY_CLOSED_COMMENT",INCORRECTLY_OPENED_COMMENT:11,11:"INCORRECTLY_OPENED_COMMENT",INVALID_FIRST_CHARACTER_OF_TAG_NAME:12,12:"INVALID_FIRST_CHARACTER_OF_TAG_NAME",MISSING_ATTRIBUTE_VALUE:13,13:"MISSING_ATTRIBUTE_VALUE",MISSING_END_TAG_NAME:14,14:"MISSING_END_TAG_NAME",MISSING_WHITESPACE_BETWEEN_ATTRIBUTES:15,15:"MISSING_WHITESPACE_BETWEEN_ATTRIBUTES",NESTED_COMMENT:16,16:"NESTED_COMMENT",UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME:17,17:"UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME",UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE:18,18:"UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE",UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME:19,19:"UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME",UNEXPECTED_NULL_CHARACTER:20,20:"UNEXPECTED_NULL_CHARACTER",UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME:21,21:"UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME",UNEXPECTED_SOLIDUS_IN_TAG:22,22:"UNEXPECTED_SOLIDUS_IN_TAG",X_INVALID_END_TAG:23,23:"X_INVALID_END_TAG",X_MISSING_END_TAG:24,24:"X_MISSING_END_TAG",X_MISSING_INTERPOLATION_END:25,25:"X_MISSING_INTERPOLATION_END",X_MISSING_DIRECTIVE_NAME:26,26:"X_MISSING_DIRECTIVE_NAME",X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END:27,27:"X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END",X_V_IF_NO_EXPRESSION:28,28:"X_V_IF_NO_EXPRESSION",X_V_IF_SAME_KEY:29,29:"X_V_IF_SAME_KEY",X_V_ELSE_NO_ADJACENT_IF:30,30:"X_V_ELSE_NO_ADJACENT_IF",X_V_FOR_NO_EXPRESSION:31,31:"X_V_FOR_NO_EXPRESSION",X_V_FOR_MALFORMED_EXPRESSION:32,32:"X_V_FOR_MALFORMED_EXPRESSION",X_V_FOR_TEMPLATE_KEY_PLACEMENT:33,33:"X_V_FOR_TEMPLATE_KEY_PLACEMENT",X_V_BIND_NO_EXPRESSION:34,34:"X_V_BIND_NO_EXPRESSION",X_V_ON_NO_EXPRESSION:35,35:"X_V_ON_NO_EXPRESSION",X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET:36,36:"X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET",X_V_SLOT_MIXED_SLOT_USAGE:37,37:"X_V_SLOT_MIXED_SLOT_USAGE",X_V_SLOT_DUPLICATE_SLOT_NAMES:38,38:"X_V_SLOT_DUPLICATE_SLOT_NAMES",X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN:39,39:"X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN",X_V_SLOT_MISPLACED:40,40:"X_V_SLOT_MISPLACED",X_V_MODEL_NO_EXPRESSION:41,41:"X_V_MODEL_NO_EXPRESSION",X_V_MODEL_MALFORMED_EXPRESSION:42,42:"X_V_MODEL_MALFORMED_EXPRESSION",X_V_MODEL_ON_SCOPE_VARIABLE:43,43:"X_V_MODEL_ON_SCOPE_VARIABLE",X_V_MODEL_ON_PROPS:44,44:"X_V_MODEL_ON_PROPS",X_INVALID_EXPRESSION:45,45:"X_INVALID_EXPRESSION",X_KEEP_ALIVE_INVALID_CHILDREN:46,46:"X_KEEP_ALIVE_INVALID_CHILDREN",X_PREFIX_ID_NOT_SUPPORTED:47,47:"X_PREFIX_ID_NOT_SUPPORTED",X_MODULE_MODE_NOT_SUPPORTED:48,48:"X_MODULE_MODE_NOT_SUPPORTED",X_CACHE_HANDLER_NOT_SUPPORTED:49,49:"X_CACHE_HANDLER_NOT_SUPPORTED",X_SCOPE_ID_NOT_SUPPORTED:50,50:"X_SCOPE_ID_NOT_SUPPORTED",X_VNODE_HOOKS:51,51:"X_VNODE_HOOKS",X_V_BIND_INVALID_SAME_NAME_ARGUMENT:52,52:"X_V_BIND_INVALID_SAME_NAME_ARGUMENT",__EXTEND_POINT__:53,53:"__EXTEND_POINT__"},B8={0:"Illegal comment.",1:"CDATA section is allowed only in XML context.",2:"Duplicate attribute.",3:"End tag cannot have attributes.",4:"Illegal '/' in tags.",5:"Unexpected EOF in tag.",6:"Unexpected EOF in CDATA section.",7:"Unexpected EOF in comment.",8:"Unexpected EOF in script.",9:"Unexpected EOF in tag.",10:"Incorrectly closed comment.",11:"Incorrectly opened comment.",12:"Illegal tag name. Use '&lt;' to print '<'.",13:"Attribute value was expected.",14:"End tag name was expected.",15:"Whitespace was expected.",16:"Unexpected '<!--' in comment.",17:`Attribute name cannot contain U+0022 ("), U+0027 ('), and U+003C (<).`,18:"Unquoted attribute value cannot contain U+0022 (\"), U+0027 ('), U+003C (<), U+003D (=), and U+0060 (`).",19:"Attribute name cannot start with '='.",21:"'<?' is allowed only in XML context.",20:"Unexpected null character.",22:"Illegal '/' in tags.",23:"Invalid end tag.",24:"Element is missing end tag.",25:"Interpolation end sign was not found.",27:"End bracket for dynamic directive argument was not found. Note that dynamic directive argument cannot contain spaces.",26:"Legal directive name was expected.",28:"v-if/v-else-if is missing expression.",29:"v-if/else branches must use unique keys.",30:"v-else/v-else-if has no adjacent v-if or v-else-if.",31:"v-for is missing expression.",32:"v-for has invalid expression.",33:"<template v-for> key should be placed on the <template> tag.",34:"v-bind is missing expression.",52:"v-bind with same-name shorthand only allows static argument.",35:"v-on is missing expression.",36:"Unexpected custom directive on <slot> outlet.",37:"Mixed v-slot usage on both the component and nested <template>. When there are multiple named slots, all slots should use <template> syntax to avoid scope ambiguity.",38:"Duplicate slot names found. ",39:"Extraneous children found when component already has explicitly named default slot. These children will be ignored.",40:"v-slot can only be used on components or <template> tags.",41:"v-model is missing expression.",42:"v-model value must be a valid JavaScript member expression.",43:"v-model cannot be used on v-for or v-slot scope variables because they are not writable.",44:`v-model cannot be used on a prop, because local prop bindings are not writable.
Use a v-bind binding combined with a v-on listener that emits update:x event instead.`,45:"Error parsing JavaScript expression: ",46:"<KeepAlive> expects exactly one child component.",51:"@vnode-* hooks in templates are no longer supported. Use the vue: prefix instead. For example, @vnode-mounted should be changed to @vue:mounted. @vnode-* hooks support has been removed in 3.4.",47:'"prefixIdentifiers" option is not supported in this build of compiler.',48:"ES module mode is not supported in this build of compiler.",49:'"cacheHandlers" option is only supported when the "prefixIdentifiers" option is enabled.',50:'"scopeId" option is only supported in module mode.',53:""};function j8(e,t,n=!1,s=[],i=Object.create(null)){}function H8(e,t,n){return!1}function z8(e,t){if(e&&(e.type==="ObjectProperty"||e.type==="ArrayPattern")){let n=t.length;for(;n--;){const s=t[n];if(s.type==="AssignmentExpression")return!0;if(s.type!=="ObjectProperty"&&!s.type.endsWith("Pattern"))break}}return!1}function W8(e){let t=e.length;for(;t--;){const n=e[t];if(n.type==="NewExpression")return!0;if(n.type!=="MemberExpression")break}return!1}function K8(e,t){for(const n of e.params)for(const s of tr(n))t(s)}function G8(e,t){for(const n of e.body)if(n.type==="VariableDeclaration"){if(n.declare)continue;for(const s of n.declarations)for(const i of tr(s.id))t(i)}else if(n.type==="FunctionDeclaration"||n.type==="ClassDeclaration"){if(n.declare||!n.id)continue;t(n.id)}else X8(n)&&Y8(n,!0,t)}function X8(e){return e.type==="ForOfStatement"||e.type==="ForInStatement"||e.type==="ForStatement"}function Y8(e,t,n){const s=e.type==="ForStatement"?e.init:e.left;if(s&&s.type==="VariableDeclaration"&&(s.kind==="var"?t:!t))for(const i of s.declarations)for(const r of tr(i.id))n(r)}function tr(e,t=[]){switch(e.type){case"Identifier":t.push(e);break;case"MemberExpression":let n=e;for(;n.type==="MemberExpression";)n=n.object;t.push(n);break;case"ObjectPattern":for(const s of e.properties)s.type==="RestElement"?tr(s.argument,t):tr(s.value,t);break;case"ArrayPattern":e.elements.forEach(s=>{s&&tr(s,t)});break;case"RestElement":tr(e.argument,t);break;case"AssignmentPattern":tr(e.left,t);break}return t}const q8=e=>/Function(?:Expression|Declaration)$|Method$/.test(e.type),QR=e=>e&&(e.type==="ObjectProperty"||e.type==="ObjectMethod")&&!e.computed,Q8=(e,t)=>QR(t)&&t.key===e,JR=["TSAsExpression","TSTypeAssertion","TSNonNullExpression","TSInstantiationExpression","TSSatisfiesExpression"];function ZR(e){return JR.includes(e.type)?ZR(e.expression):e}const es=e=>e.type===4&&e.isStatic;function Yb(e){switch(e){case"Teleport":case"teleport":return Al;case"Suspense":case"suspense":return $g;case"KeepAlive":case"keep-alive":return sh;case"BaseTransition":case"base-transition":return Bb}}const J8=/^$|^\d|[^\$\w\xA0-\uFFFF]/,Lh=e=>!J8.test(e),Z8=/[A-Za-z_$\xA0-\uFFFF]/,t7=/[\.\?\w$\xA0-\uFFFF]/,e7=/\s+[.[]\s*|\s*[.[]\s+/g,tO=e=>e.type===4?e.content:e.loc.source,eO=e=>{const t=tO(e).trim().replace(e7,a=>a.trim());let n=0,s=[],i=0,r=0,o=null;for(let a=0;a<t.length;a++){const l=t.charAt(a);switch(n){case 0:if(l==="[")s.push(n),n=1,i++;else if(l==="(")s.push(n),n=2,r++;else if(!(a===0?Z8:t7).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(s.push(n),n=3,o=l):l==="["?i++:l==="]"&&(--i||(n=s.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")s.push(n),n=3,o=l;else if(l==="(")r++;else if(l===")"){if(a===t.length-1)return!1;--r||(n=s.pop())}break;case 3:l===o&&(n=s.pop(),o=null);break}}return!i&&!r},n7=_n,qb=eO,s7=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,nO=e=>s7.test(tO(e)),i7=_n,sO=nO;function r7(e,t,n=t.length){return iO({offset:e.offset,line:e.line,column:e.column},t,n)}function iO(e,t,n=t.length){let s=0,i=-1;for(let r=0;r<n;r++)t.charCodeAt(r)===10&&(s++,i=r);return e.offset+=n,e.line+=s,e.column=i===-1?e.column+n:n-i,e}function o7(e,t){if(!e)throw new Error(t||"unexpected compiler condition")}function Zn(e,t,n=!1){for(let s=0;s<e.props.length;s++){const i=e.props[s];if(i.type===7&&(n||i.exp)&&(Gt(t)?i.name===t:t.test(i.name)))return i}}function Vh(e,t,n=!1,s=!1){for(let i=0;i<e.props.length;i++){const r=e.props[i];if(r.type===6){if(n)continue;if(r.name===t&&(r.value||s))return r}else if(r.name==="bind"&&(r.exp||s)&&Qr(r.arg,t))return r}}function Qr(e,t){return!!(e&&es(e)&&e.content===t)}function rO(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function _d(e){return e.type===5||e.type===2}function $y(e){return e.type===7&&e.name==="pre"}function Qb(e){return e.type===7&&e.name==="slot"}function Gl(e){return e.type===1&&e.tagType===3}function oh(e){return e.type===1&&e.tagType===2}const a7=new Set([zl,mc]);function oO(e,t=[]){if(e&&!Gt(e)&&e.type===14){const n=e.callee;if(!Gt(n)&&a7.has(n))return oO(e.arguments[0],t.concat(e))}return[e,t]}function ah(e,t,n){let s,i=e.type===13?e.props:e.arguments[2],r=[],o;if(i&&!Gt(i)&&i.type===14){const a=oO(i);i=a[0],r=a[1],o=r[r.length-1]}if(i==null||Gt(i))s=Ps([t]);else if(i.type===14){const a=i.arguments[0];!Gt(a)&&a.type===15?S0(t,a)||a.properties.unshift(t):i.callee===Qg?s=ln(n.helper(ih),[Ps([t]),i]):i.arguments.unshift(Ps([t])),!s&&(s=i)}else i.type===15?(S0(t,i)||i.properties.unshift(t),s=i):(s=ln(n.helper(ih),[Ps([t]),i]),o&&o.callee===mc&&(o=r[r.length-2]));e.type===13?o?o.arguments[0]=s:e.props=s:o?o.arguments[0]=s:e.arguments[2]=s}function S0(e,t){let n=!1;if(e.key.type===4){const s=e.key.content;n=t.properties.some(i=>i.key.type===4&&i.key.content===s)}return n}function Xl(e,t){return`_${t}_${e.replace(/[^\w]/g,(n,s)=>n==="-"?"_":e.charCodeAt(s).toString())}`}function ti(e,t){if(!e||Object.keys(t).length===0)return!1;switch(e.type){case 1:for(let n=0;n<e.props.length;n++){const s=e.props[n];if(s.type===7&&(ti(s.arg,t)||ti(s.exp,t)))return!0}return e.children.some(n=>ti(n,t));case 11:return ti(e.source,t)?!0:e.children.some(n=>ti(n,t));case 9:return e.branches.some(n=>ti(n,t));case 10:return ti(e.condition,t)?!0:e.children.some(n=>ti(n,t));case 4:return!e.isStatic&&Lh(e.content)&&!!t[e.content];case 8:return e.children.some(n=>we(n)&&ti(n,t));case 5:case 12:return ti(e.content,t);case 2:case 3:case 20:return!1;default:return!1}}function aO(e){return e.type===14&&e.callee===Zg?e.arguments[1].returns:e}const lO=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,cO={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:dl,isPreTag:dl,isIgnoreNewlineTag:dl,isCustomElement:dl,onError:Xb,onWarn:qR,comments:!1,prefixIdentifiers:!1};let Te=cO,lh=null,or="",Fn=null,ue=null,cs="",Ki=-1,qo=-1,Jb=0,zr=!1,Uy=null;const He=[],Je=new L8(He,{onerr:zi,ontext(e,t){xf(Sn(e,t),e,t)},ontextentity(e,t,n){xf(e,t,n)},oninterpolation(e,t){if(zr)return xf(Sn(e,t),e,t);let n=e+Je.delimiterOpen.length,s=t-Je.delimiterClose.length;for(;Is(or.charCodeAt(n));)n++;for(;Is(or.charCodeAt(s-1));)s--;let i=Sn(n,s);i.includes("&")&&(i=Te.decodeEntities(i,!1)),By({type:5,content:Ed(i,!1,en(n,s)),loc:en(e,t)})},onopentagname(e,t){const n=Sn(e,t);Fn={type:1,tag:n,ns:Te.getNamespace(n,He[0],Te.ns),tagType:0,props:[],children:[],loc:en(e-1,t),codegenNode:void 0}},onopentagend(e){A0(e)},onclosetag(e,t){const n=Sn(e,t);if(!Te.isVoidTag(n)){let s=!1;for(let i=0;i<He.length;i++)if(He[i].tag.toLowerCase()===n.toLowerCase()){s=!0,i>0&&zi(24,He[0].loc.start.offset);for(let o=0;o<=i;o++){const a=He.shift();bd(a,t,o<i)}break}s||zi(23,uO(e,60))}},onselfclosingtag(e){const t=Fn.tag;Fn.isSelfClosing=!0,A0(e),He[0]&&He[0].tag===t&&bd(He.shift(),e)},onattribname(e,t){ue={type:6,name:Sn(e,t),nameLoc:en(e,t),value:void 0,loc:en(e)}},ondirname(e,t){const n=Sn(e,t),s=n==="."||n===":"?"bind":n==="@"?"on":n==="#"?"slot":n.slice(2);if(!zr&&s===""&&zi(26,e),zr||s==="")ue={type:6,name:n,nameLoc:en(e,t),value:void 0,loc:en(e)};else if(ue={type:7,name:s,rawName:n,exp:void 0,arg:void 0,modifiers:n==="."?[qt("prop")]:[],loc:en(e)},s==="pre"){zr=Je.inVPre=!0,Uy=Fn;const i=Fn.props;for(let r=0;r<i.length;r++)i[r].type===7&&(i[r]=y7(i[r]))}},ondirarg(e,t){if(e===t)return;const n=Sn(e,t);if(zr&&!$y(ue))ue.name+=n,ea(ue.nameLoc,t);else{const s=n[0]!=="[";ue.arg=Ed(s?n:n.slice(1,-1),s,en(e,t),s?3:0)}},ondirmodifier(e,t){const n=Sn(e,t);if(zr&&!$y(ue))ue.name+="."+n,ea(ue.nameLoc,t);else if(ue.name==="slot"){const s=ue.arg;s&&(s.content+="."+n,ea(s.loc,t))}else{const s=qt(n,!0,en(e,t));ue.modifiers.push(s)}},onattribdata(e,t){cs+=Sn(e,t),Ki<0&&(Ki=e),qo=t},onattribentity(e,t,n){cs+=e,Ki<0&&(Ki=t),qo=n},onattribnameend(e){const t=ue.loc.start.offset,n=Sn(t,e);ue.type===7&&(ue.rawName=n),Fn.props.some(s=>(s.type===7?s.rawName:s.name)===n)&&zi(2,t)},onattribend(e,t){if(Fn&&ue){if(ea(ue.loc,t),e!==0)if(cs.includes("&")&&(cs=Te.decodeEntities(cs,!0)),ue.type===6)ue.name==="class"&&(cs=fO(cs).trim()),e===1&&!cs&&zi(13,t),ue.value={type:2,content:cs,loc:e===1?en(Ki,qo):en(Ki-1,qo+1)},Je.inSFCRoot&&Fn.tag==="template"&&ue.name==="lang"&&cs&&cs!=="html"&&Je.enterRCDATA(Ep("</template"),0);else{let n=0;ue.exp=Ed(cs,!1,en(Ki,qo),0,n),ue.name==="for"&&(ue.forParseResult=c7(ue.exp));let s=-1;ue.name==="bind"&&(s=ue.modifiers.findIndex(i=>i.content==="sync"))>-1&&Kl("COMPILER_V_BIND_SYNC",Te,ue.loc,ue.arg.loc.source)&&(ue.name="model",ue.modifiers.splice(s,1))}(ue.type!==7||ue.name!=="pre")&&Fn.props.push(ue)}cs="",Ki=qo=-1},oncomment(e,t){Te.comments&&By({type:3,content:Sn(e,t),loc:en(e-4,t+3)})},onend(){const e=or.length;for(let t=0;t<He.length;t++)bd(He[t],e-1),zi(24,He[t].loc.start.offset)},oncdata(e,t){He[0].ns!==0?xf(Sn(e,t),e,t):zi(1,e-9)},onprocessinginstruction(e){(He[0]?He[0].ns:Te.ns)===0&&zi(21,e-1)}}),w0=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,l7=/^\(|\)$/g;function c7(e){const t=e.loc,n=e.content,s=n.match(lO);if(!s)return;const[,i,r]=s,o=(h,d,p=!1)=>{const g=t.start.offset+d,m=g+h.length;return Ed(h,!1,en(g,m),0,p?1:0)},a={source:o(r.trim(),n.indexOf(r,i.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=i.trim().replace(l7,"").trim();const c=i.indexOf(l),u=l.match(w0);if(u){l=l.replace(w0,"").trim();const h=u[1].trim();let d;if(h&&(d=n.indexOf(h,c+l.length),a.key=o(h,d,!0)),u[2]){const p=u[2].trim();p&&(a.index=o(p,n.indexOf(p,a.key?d+h.length:c+l.length),!0))}}return l&&(a.value=o(l,c,!0)),a}function Sn(e,t){return or.slice(e,t)}function A0(e){Je.inSFCRoot&&(Fn.innerLoc=en(e+1,e+1)),By(Fn);const{tag:t,ns:n}=Fn;n===0&&Te.isPreTag(t)&&Jb++,Te.isVoidTag(t)?bd(Fn,e):(He.unshift(Fn),(n===1||n===2)&&(Je.inXML=!0)),Fn=null}function xf(e,t,n){{const r=He[0]&&He[0].tag;r!=="script"&&r!=="style"&&e.includes("&")&&(e=Te.decodeEntities(e,!1))}const s=He[0]||lh,i=s.children[s.children.length-1];i&&i.type===2?(i.content+=e,ea(i.loc,n)):s.children.push({type:2,content:e,loc:en(t,n)})}function bd(e,t,n=!1){n?ea(e.loc,uO(t,60)):ea(e.loc,u7(t,62)+1),Je.inSFCRoot&&(e.children.length?e.innerLoc.end=ce({},e.children[e.children.length-1].loc.end):e.innerLoc.end=ce({},e.innerLoc.start),e.innerLoc.source=Sn(e.innerLoc.start.offset,e.innerLoc.end.offset));const{tag:s,ns:i,children:r}=e;if(zr||(s==="slot"?e.tagType=2:I0(e)?e.tagType=3:f7(e)&&(e.tagType=1)),Je.inRCDATA||(e.children=hO(r)),i===0&&Te.isIgnoreNewlineTag(s)){const o=r[0];o&&o.type===2&&(o.content=o.content.replace(/^\r?\n/,""))}i===0&&Te.isPreTag(s)&&Jb--,Uy===e&&(zr=Je.inVPre=!1,Uy=null),Je.inXML&&(He[0]?He[0].ns:Te.ns)===0&&(Je.inXML=!1);{const o=e.props;if(!Je.inSFCRoot&&ga("COMPILER_NATIVE_TEMPLATE",Te)&&e.tag==="template"&&!I0(e)){const l=He[0]||lh,c=l.children.indexOf(e);l.children.splice(c,1,...e.children)}const a=o.find(l=>l.type===6&&l.name==="inline-template");a&&Kl("COMPILER_INLINE_TEMPLATE",Te,a.loc)&&e.children.length&&(a.value={type:2,content:Sn(e.children[0].loc.start.offset,e.children[e.children.length-1].loc.end.offset),loc:a.loc})}}function u7(e,t){let n=e;for(;or.charCodeAt(n)!==t&&n<or.length-1;)n++;return n}function uO(e,t){let n=e;for(;or.charCodeAt(n)!==t&&n>=0;)n--;return n}const h7=new Set(["if","else","else-if","for","slot"]);function I0({tag:e,props:t}){if(e==="template"){for(let n=0;n<t.length;n++)if(t[n].type===7&&h7.has(t[n].name))return!0}return!1}function f7({tag:e,props:t}){if(Te.isCustomElement(e))return!1;if(e==="component"||d7(e.charCodeAt(0))||Yb(e)||Te.isBuiltInComponent&&Te.isBuiltInComponent(e)||Te.isNativeTag&&!Te.isNativeTag(e))return!0;for(let n=0;n<t.length;n++){const s=t[n];if(s.type===6){if(s.name==="is"&&s.value){if(s.value.content.startsWith("vue:"))return!0;if(Kl("COMPILER_IS_ON_ELEMENT",Te,s.loc))return!0}}else if(s.name==="bind"&&Qr(s.arg,"is")&&Kl("COMPILER_IS_ON_ELEMENT",Te,s.loc))return!0}return!1}function d7(e){return e>64&&e<91}const p7=/\r\n/g;function hO(e){const t=Te.whitespace!=="preserve";let n=!1;for(let s=0;s<e.length;s++){const i=e[s];if(i.type===2)if(Jb)i.content=i.content.replace(p7,`
`);else if(g7(i.content)){const r=e[s-1]&&e[s-1].type,o=e[s+1]&&e[s+1].type;!r||!o||t&&(r===3&&(o===3||o===1)||r===1&&(o===3||o===1&&m7(i.content)))?(n=!0,e[s]=null):i.content=" "}else t&&(i.content=fO(i.content))}return n?e.filter(Boolean):e}function g7(e){for(let t=0;t<e.length;t++)if(!Is(e.charCodeAt(t)))return!1;return!0}function m7(e){for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);if(n===10||n===13)return!0}return!1}function fO(e){let t="",n=!1;for(let s=0;s<e.length;s++)Is(e.charCodeAt(s))?n||(t+=" ",n=!0):(t+=e[s],n=!1);return t}function By(e){(He[0]||lh).children.push(e)}function en(e,t){return{start:Je.getPos(e),end:t==null?t:Je.getPos(t),source:t==null?t:Sn(e,t)}}function v7(e){return en(e.start.offset,e.end.offset)}function ea(e,t){e.end=Je.getPos(t),e.source=Sn(e.start.offset,t)}function y7(e){const t={type:6,name:e.rawName,nameLoc:en(e.loc.start.offset,e.loc.start.offset+e.rawName.length),value:void 0,loc:e.loc};if(e.exp){const n=e.exp.loc;n.end.offset<e.loc.end.offset&&(n.start.offset--,n.start.column--,n.end.offset++,n.end.column++),t.value={type:2,content:e.exp.content,loc:n}}return t}function Ed(e,t=!1,n,s=0,i=0){return qt(e,t,n,s)}function zi(e,t,n){Te.onError(Ue(e,en(t,t)))}function _7(){Je.reset(),Fn=null,ue=null,cs="",Ki=-1,qo=-1,He.length=0}function Zb(e,t){if(_7(),or=e,Te=ce({},cO),t){let i;for(i in t)t[i]!=null&&(Te[i]=t[i])}Je.mode=Te.parseMode==="html"?1:Te.parseMode==="sfc"?2:0,Je.inXML=Te.ns===1||Te.ns===2;const n=t&&t.delimiters;n&&(Je.delimiterOpen=Ep(n[0]),Je.delimiterClose=Ep(n[1]));const s=lh=GR([],e);return Je.parse(or),s.loc=en(0,e.length),s.children=hO(s.children),lh=null,s}function b7(e,t){Td(e,void 0,t,!!dO(e))}function dO(e){const t=e.children.filter(n=>n.type!==3);return t.length===1&&t[0].type===1&&!oh(t[0])?t[0]:null}function Td(e,t,n,s=!1,i=!1){const{children:r}=e,o=[];for(let h=0;h<r.length;h++){const d=r[h];if(d.type===1&&d.tagType===0){const p=s?0:vs(d,n);if(p>0){if(p>=2){d.codegenNode.patchFlag=-1,o.push(d);continue}}else{const g=d.codegenNode;if(g.type===13){const m=g.patchFlag;if((m===void 0||m===512||m===1)&&gO(d,n)>=2){const y=mO(d);y&&(g.props=n.hoist(y))}g.dynamicProps&&(g.dynamicProps=n.hoist(g.dynamicProps))}}}else if(d.type===12&&(s?0:vs(d,n))>=2){d.codegenNode.type===14&&d.codegenNode.arguments.length>0&&d.codegenNode.arguments.push("-1"),o.push(d);continue}if(d.type===1){const p=d.tagType===1;p&&n.scopes.vSlot++,Td(d,e,n,!1,i),p&&n.scopes.vSlot--}else if(d.type===11)Td(d,e,n,d.children.length===1,!0);else if(d.type===9)for(let p=0;p<d.branches.length;p++)Td(d.branches[p],e,n,d.branches[p].children.length===1,i)}let a=!1;const l=[];if(o.length===r.length&&e.type===1){if(e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&wt(e.codegenNode.children))e.codegenNode.children=c(uo(e.codegenNode.children)),a=!0;else if(e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!wt(e.codegenNode.children)&&e.codegenNode.children.type===15){const h=u(e.codegenNode,"default");h&&(l.push(n.cached.length),h.returns=c(uo(h.returns)),a=!0)}else if(e.tagType===3&&t&&t.type===1&&t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!wt(t.codegenNode.children)&&t.codegenNode.children.type===15){const h=Zn(e,"slot",!0),d=h&&h.arg&&u(t.codegenNode,h.arg);d&&(l.push(n.cached.length),d.returns=c(uo(d.returns)),a=!0)}}if(!a)for(const h of o)l.push(n.cached.length),h.codegenNode=n.cache(h.codegenNode);l.length&&e.type===1&&e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!wt(e.codegenNode.children)&&e.codegenNode.children.type===15&&e.codegenNode.children.properties.push(Ke("__",qt(JSON.stringify(l),!1)));function c(h){const d=n.cache(h);return i&&n.hmr&&(d.needArraySpread=!0),d}function u(h,d){if(h.children&&!wt(h.children)&&h.children.type===15){const p=h.children.properties.find(g=>g.key===d||g.key.content===d);return p&&p.value}}o.length&&n.transformHoist&&n.transformHoist(r,n,e)}function vs(e,t){const{constantCache:n}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const s=n.get(e);if(s!==void 0)return s;const i=e.codegenNode;if(i.type!==13||i.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject"&&e.tag!=="math")return 0;if(i.patchFlag===void 0){let o=3;const a=gO(e,t);if(a===0)return n.set(e,0),0;a<o&&(o=a);for(let l=0;l<e.children.length;l++){const c=vs(e.children[l],t);if(c===0)return n.set(e,0),0;c<o&&(o=c)}if(o>1)for(let l=0;l<e.props.length;l++){const c=e.props[l];if(c.type===7&&c.name==="bind"&&c.exp){const u=vs(c.exp,t);if(u===0)return n.set(e,0),0;u<o&&(o=u)}}if(i.isBlock){for(let l=0;l<e.props.length;l++)if(e.props[l].type===7)return n.set(e,0),0;t.removeHelper(To),t.removeHelper(Pa(t.inSSR,i.isComponent)),i.isBlock=!1,t.helper(xa(t.inSSR,i.isComponent))}return n.set(e,o),o}else return n.set(e,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return vs(e.content,t);case 4:return e.constType;case 8:let r=3;for(let o=0;o<e.children.length;o++){const a=e.children[o];if(Gt(a)||is(a))continue;const l=vs(a,t);if(l===0)return 0;l<r&&(r=l)}return r;case 20:return 2;default:return 0}}const E7=new Set([Yg,qg,zl,mc]);function pO(e,t){if(e.type===14&&!Gt(e.callee)&&E7.has(e.callee)){const n=e.arguments[0];if(n.type===4)return vs(n,t);if(n.type===14)return pO(n,t)}return 0}function gO(e,t){let n=3;const s=mO(e);if(s&&s.type===15){const{properties:i}=s;for(let r=0;r<i.length;r++){const{key:o,value:a}=i[r],l=vs(o,t);if(l===0)return l;l<n&&(n=l);let c;if(a.type===4?c=vs(a,t):a.type===14?c=pO(a,t):c=0,c===0)return c;c<n&&(n=c)}}return n}function mO(e){const t=e.codegenNode;if(t.type===13)return t.props}function vO(e,{filename:t="",prefixIdentifiers:n=!1,hoistStatic:s=!1,hmr:i=!1,cacheHandlers:r=!1,nodeTransforms:o=[],directiveTransforms:a={},transformHoist:l=null,isBuiltInComponent:c=_n,isCustomElement:u=_n,expressionPlugins:h=[],scopeId:d=null,slotted:p=!0,ssr:g=!1,inSSR:m=!1,ssrCssVars:y="",bindingMetadata:E=le,inline:A=!1,isTS:w=!1,onError:C=Xb,onWarn:O=qR,compatConfig:D}){const x=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),T={filename:t,selfName:x&&Po(Le(x[1])),prefixIdentifiers:n,hoistStatic:s,hmr:i,cacheHandlers:r,nodeTransforms:o,directiveTransforms:a,transformHoist:l,isBuiltInComponent:c,isCustomElement:u,expressionPlugins:h,scopeId:d,slotted:p,ssr:g,inSSR:m,ssrCssVars:y,bindingMetadata:E,inline:A,isTS:w,onError:C,onWarn:O,compatConfig:D,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(_){const S=T.helpers.get(_)||0;return T.helpers.set(_,S+1),_},removeHelper(_){const S=T.helpers.get(_);if(S){const P=S-1;P?T.helpers.set(_,P):T.helpers.delete(_)}},helperString(_){return`_${Ia[T.helper(_)]}`},replaceNode(_){T.parent.children[T.childIndex]=T.currentNode=_},removeNode(_){const S=T.parent.children,P=_?S.indexOf(_):T.currentNode?T.childIndex:-1;!_||_===T.currentNode?(T.currentNode=null,T.onNodeRemoved()):T.childIndex>P&&(T.childIndex--,T.onNodeRemoved()),T.parent.children.splice(P,1)},onNodeRemoved:_n,addIdentifiers(_){},removeIdentifiers(_){},hoist(_){Gt(_)&&(_=qt(_)),T.hoists.push(_);const S=qt(`_hoisted_${T.hoists.length}`,!1,_.loc,2);return S.hoisted=_,S},cache(_,S=!1,P=!1){const R=XR(T.cached.length,_,S,P);return T.cached.push(R),R}};return T.filters=new Set,T}function yO(e,t){const n=vO(e,t);Fh(e,n),t.hoistStatic&&b7(e,n),t.ssr||T7(e,n),e.helpers=new Set([...n.helpers.keys()]),e.components=[...n.components],e.directives=[...n.directives],e.imports=n.imports,e.hoists=n.hoists,e.temps=n.temps,e.cached=n.cached,e.transformed=!0,e.filters=[...n.filters]}function T7(e,t){const{helper:n}=t,{children:s}=e;if(s.length===1){const i=dO(e);if(i&&i.codegenNode){const r=i.codegenNode;r.type===13&&tm(r,t),e.codegenNode=r}else e.codegenNode=s[0]}else if(s.length>1){let i=64;e.codegenNode=Wl(t,n(Hl),void 0,e.children,i,void 0,void 0,!0,void 0,!1)}}function S7(e,t){let n=0;const s=()=>{n--};for(;n<e.children.length;n++){const i=e.children[n];Gt(i)||(t.grandParent=t.parent,t.parent=e,t.childIndex=n,t.onNodeRemoved=s,Fh(i,t))}}function Fh(e,t){t.currentNode=e;const{nodeTransforms:n}=t,s=[];for(let r=0;r<n.length;r++){const o=n[r](e,t);if(o&&(wt(o)?s.push(...o):s.push(o)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(gc);break;case 5:t.ssr||t.helper(Mh);break;case 9:for(let r=0;r<e.branches.length;r++)Fh(e.branches[r],t);break;case 10:case 11:case 1:case 0:S7(e,t);break}t.currentNode=e;let i=s.length;for(;i--;)s[i]()}function tE(e,t){const n=Gt(e)?s=>s===e:s=>e.test(s);return(s,i)=>{if(s.type===1){const{props:r}=s;if(s.tagType===3&&r.some(Qb))return;const o=[];for(let a=0;a<r.length;a++){const l=r[a];if(l.type===7&&n(l.name)){r.splice(a,1),a--;const c=t(s,l,i);c&&o.push(c)}}return o}}}const em="/*@__PURE__*/",_O=e=>`${Ia[e]}: _${Ia[e]}`;function w7(e,{mode:t="function",prefixIdentifiers:n=t==="module",sourceMap:s=!1,filename:i="template.vue.html",scopeId:r=null,optimizeImports:o=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:c="vue/server-renderer",ssr:u=!1,isTS:h=!1,inSSR:d=!1}){const p={mode:t,prefixIdentifiers:n,sourceMap:s,filename:i,scopeId:r,optimizeImports:o,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:c,ssr:u,isTS:h,inSSR:d,source:e.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(m){return`_${Ia[m]}`},push(m,y=-2,E){p.code+=m},indent(){g(++p.indentLevel)},deindent(m=!1){m?--p.indentLevel:g(--p.indentLevel)},newline(){g(p.indentLevel)}};function g(m){p.push(`
`+"  ".repeat(m),0)}return p}function bO(e,t={}){const n=w7(e,t);t.onContextCreated&&t.onContextCreated(n);const{mode:s,push:i,prefixIdentifiers:r,indent:o,deindent:a,newline:l,scopeId:c,ssr:u}=n,h=Array.from(e.helpers),d=h.length>0,p=!r&&s!=="module";A7(e,n);const m=u?"ssrRender":"render",E=(u?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(i(`function ${m}(${E}) {`),o(),p&&(i("with (_ctx) {"),o(),d&&(i(`const { ${h.map(_O).join(", ")} } = _Vue
`,-1),l())),e.components.length&&(iv(e.components,"component",n),(e.directives.length||e.temps>0)&&l()),e.directives.length&&(iv(e.directives,"directive",n),e.temps>0&&l()),e.filters&&e.filters.length&&(l(),iv(e.filters,"filter",n),l()),e.temps>0){i("let ");for(let A=0;A<e.temps;A++)i(`${A>0?", ":""}_temp${A}`)}return(e.components.length||e.directives.length||e.temps)&&(i(`
`,0),l()),u||i("return "),e.codegenNode?Gn(e.codegenNode,n):i("null"),p&&(a(),i("}")),a(),i("}"),{ast:e,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function A7(e,t){const{ssr:n,prefixIdentifiers:s,push:i,newline:r,runtimeModuleName:o,runtimeGlobalName:a,ssrRuntimeModuleName:l}=t,c=a,u=Array.from(e.helpers);if(u.length>0&&(i(`const _Vue = ${c}
`,-1),e.hoists.length)){const h=[Ug,Bg,gc,jg,zb].filter(d=>u.includes(d)).map(_O).join(", ");i(`const { ${h} } = _Vue
`,-1)}I7(e.hoists,t),r(),i("return ")}function iv(e,t,{helper:n,push:s,newline:i,isTS:r}){const o=n(t==="filter"?Kg:t==="component"?Hg:Wg);for(let a=0;a<e.length;a++){let l=e[a];const c=l.endsWith("__self");c&&(l=l.slice(0,-6)),s(`const ${Xl(l,t)} = ${o}(${JSON.stringify(l)}${c?", true":""})${r?"!":""}`),a<e.length-1&&i()}}function I7(e,t){if(!e.length)return;t.pure=!0;const{push:n,newline:s}=t;s();for(let i=0;i<e.length;i++){const r=e[i];r&&(n(`const _hoisted_${i+1} = `),Gn(r,t),s())}t.pure=!1}function eE(e,t){const n=e.length>3||!1;t.push("["),n&&t.indent(),$h(e,t,n),n&&t.deindent(),t.push("]")}function $h(e,t,n=!1,s=!0){const{push:i,newline:r}=t;for(let o=0;o<e.length;o++){const a=e[o];Gt(a)?i(a,-3):wt(a)?eE(a,t):Gn(a,t),o<e.length-1&&(n?(s&&i(","),r()):s&&i(", "))}}function Gn(e,t){if(Gt(e)){t.push(e,-3);return}if(is(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:Gn(e.codegenNode,t);break;case 2:C7(e,t);break;case 4:EO(e,t);break;case 5:x7(e,t);break;case 12:Gn(e.codegenNode,t);break;case 8:TO(e,t);break;case 3:R7(e,t);break;case 13:O7(e,t);break;case 14:D7(e,t);break;case 15:k7(e,t);break;case 17:M7(e,t);break;case 18:L7(e,t);break;case 19:V7(e,t);break;case 20:F7(e,t);break;case 21:$h(e.body,t,!0,!1);break}}function C7(e,t){t.push(JSON.stringify(e.content),-3,e)}function EO(e,t){const{content:n,isStatic:s}=e;t.push(s?JSON.stringify(n):n,-3,e)}function x7(e,t){const{push:n,helper:s,pure:i}=t;i&&n(em),n(`${s(Mh)}(`),Gn(e.content,t),n(")")}function TO(e,t){for(let n=0;n<e.children.length;n++){const s=e.children[n];Gt(s)?t.push(s,-3):Gn(s,t)}}function P7(e,t){const{push:n}=t;if(e.type===8)n("["),TO(e,t),n("]");else if(e.isStatic){const s=Lh(e.content)?e.content:JSON.stringify(e.content);n(s,-2,e)}else n(`[${e.content}]`,-3,e)}function R7(e,t){const{push:n,helper:s,pure:i}=t;i&&n(em),n(`${s(gc)}(${JSON.stringify(e.content)})`,-3,e)}function O7(e,t){const{push:n,helper:s,pure:i}=t,{tag:r,props:o,children:a,patchFlag:l,dynamicProps:c,directives:u,isBlock:h,disableTracking:d,isComponent:p}=e;let g;l&&(g=String(l)),u&&n(s(Gg)+"("),h&&n(`(${s(To)}(${d?"true":""}), `),i&&n(em);const m=h?Pa(t.inSSR,p):xa(t.inSSR,p);n(s(m)+"(",-2,e),$h(N7([r,o,a,g,c]),t),n(")"),h&&n(")"),u&&(n(", "),Gn(u,t),n(")"))}function N7(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(n=>n||"null")}function D7(e,t){const{push:n,helper:s,pure:i}=t,r=Gt(e.callee)?e.callee:s(e.callee);i&&n(em),n(r+"(",-2,e),$h(e.arguments,t),n(")")}function k7(e,t){const{push:n,indent:s,deindent:i,newline:r}=t,{properties:o}=e;if(!o.length){n("{}",-2,e);return}const a=o.length>1||!1;n(a?"{":"{ "),a&&s();for(let l=0;l<o.length;l++){const{key:c,value:u}=o[l];P7(c,t),n(": "),Gn(u,t),l<o.length-1&&(n(","),r())}a&&i(),n(a?"}":" }")}function M7(e,t){eE(e.elements,t)}function L7(e,t){const{push:n,indent:s,deindent:i}=t,{params:r,returns:o,body:a,newline:l,isSlot:c}=e;c&&n(`_${Ia[Jg]}(`),n("(",-2,e),wt(r)?$h(r,t):r&&Gn(r,t),n(") => "),(l||a)&&(n("{"),s()),o?(l&&n("return "),wt(o)?eE(o,t):Gn(o,t)):a&&Gn(a,t),(l||a)&&(i(),n("}")),c&&(e.isNonScopedSlot&&n(", undefined, true"),n(")"))}function V7(e,t){const{test:n,consequent:s,alternate:i,newline:r}=e,{push:o,indent:a,deindent:l,newline:c}=t;if(n.type===4){const h=!Lh(n.content);h&&o("("),EO(n,t),h&&o(")")}else o("("),Gn(n,t),o(")");r&&a(),t.indentLevel++,r||o(" "),o("? "),Gn(s,t),t.indentLevel--,r&&c(),r||o(" "),o(": ");const u=i.type===19;u||t.indentLevel++,Gn(i,t),u||t.indentLevel--,r&&l(!0)}function F7(e,t){const{push:n,helper:s,indent:i,deindent:r,newline:o}=t,{needPauseTracking:a,needArraySpread:l}=e;l&&n("[...("),n(`_cache[${e.index}] || (`),a&&(i(),n(`${s(rh)}(-1`),e.inVOnce&&n(", true"),n("),"),o(),n("(")),n(`_cache[${e.index}] = `),Gn(e.value,t),a&&(n(`).cacheIndex = ${e.index},`),o(),n(`${s(rh)}(1),`),o(),n(`_cache[${e.index}]`),r()),n(")"),l&&n(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const $7=(e,t)=>{if(e.type===5)e.content=Sd(e.content,t);else if(e.type===1){const n=Zn(e,"memo");for(let s=0;s<e.props.length;s++){const i=e.props[s];if(i.type===7&&i.name!=="for"){const r=i.exp,o=i.arg;r&&r.type===4&&!(i.name==="on"&&o)&&!(n&&o&&o.type===4&&o.content==="key")&&(i.exp=Sd(r,t,i.name==="slot")),o&&o.type===4&&!o.isStatic&&(i.arg=Sd(o,t))}}}};function Sd(e,t,n=!1,s=!1,i=Object.create(t.identifiers)){return e}function SO(e){return Gt(e)?e:e.type===4?e.content:e.children.map(SO).join("")}const U7=tE(/^(if|else|else-if)$/,(e,t,n)=>wO(e,t,n,(s,i,r)=>{const o=n.parent.children;let a=o.indexOf(s),l=0;for(;a-->=0;){const c=o[a];c&&c.type===9&&(l+=c.branches.length)}return()=>{if(r)s.codegenNode=x0(i,l,n);else{const c=B7(s.codegenNode);c.alternate=x0(i,l+s.branches.length-1,n)}}}));function wO(e,t,n,s){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const i=t.exp?t.exp.loc:e.loc;n.onError(Ue(28,t.loc)),t.exp=qt("true",!1,i)}if(t.name==="if"){const i=C0(e,t),r={type:9,loc:v7(e.loc),branches:[i]};if(n.replaceNode(r),s)return s(r,i,!0)}else{const i=n.parent.children;let r=i.indexOf(e);for(;r-->=-1;){const o=i[r];if(o&&o.type===3){n.removeNode(o);continue}if(o&&o.type===2&&!o.content.trim().length){n.removeNode(o);continue}if(o&&o.type===9){t.name==="else-if"&&o.branches[o.branches.length-1].condition===void 0&&n.onError(Ue(30,e.loc)),n.removeNode();const a=C0(e,t);o.branches.push(a);const l=s&&s(o,a,!1);Fh(a,n),l&&l(),n.currentNode=null}else n.onError(Ue(30,e.loc));break}}}function C0(e,t){const n=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:n&&!Zn(e,"for")?e.children:[e],userKey:Vh(e,"key"),isTemplateIf:n}}function x0(e,t,n){return e.condition?bp(e.condition,P0(e,t,n),ln(n.helper(gc),['""',"true"])):P0(e,t,n)}function P0(e,t,n){const{helper:s}=n,i=Ke("key",qt(`${t}`,!1,gn,2)),{children:r}=e,o=r[0];if(r.length!==1||o.type!==1)if(r.length===1&&o.type===11){const l=o.codegenNode;return ah(l,i,n),l}else return Wl(n,s(Hl),Ps([i]),r,64,void 0,void 0,!0,!1,!1,e.loc);else{const l=o.codegenNode,c=aO(l);return c.type===13&&tm(c,n),ah(c,i,n),l}}function B7(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const AO=(e,t,n)=>{const{modifiers:s,loc:i}=e,r=e.arg;let{exp:o}=e;if(o&&o.type===4&&!o.content.trim()&&(o=void 0),!o){if(r.type!==4||!r.isStatic)return n.onError(Ue(52,r.loc)),{props:[Ke(r,qt("",!0,i))]};IO(e),o=e.exp}return r.type!==4?(r.children.unshift("("),r.children.push(') || ""')):r.isStatic||(r.content=r.content?`${r.content} || ""`:'""'),s.some(a=>a.content==="camel")&&(r.type===4?r.isStatic?r.content=Le(r.content):r.content=`${n.helperString(yp)}(${r.content})`:(r.children.unshift(`${n.helperString(yp)}(`),r.children.push(")"))),n.inSSR||(s.some(a=>a.content==="prop")&&R0(r,"."),s.some(a=>a.content==="attr")&&R0(r,"^")),{props:[Ke(r,o)]}},IO=(e,t)=>{const n=e.arg,s=Le(n.content);e.exp=qt(s,!1,n.loc)},R0=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},j7=tE("for",(e,t,n)=>{const{helper:s,removeHelper:i}=n;return CO(e,t,n,r=>{const o=ln(s(Xg),[r.source]),a=Gl(e),l=Zn(e,"memo"),c=Vh(e,"key",!1,!0);c&&c.type===7&&!c.exp&&IO(c);let h=c&&(c.type===6?c.value?qt(c.value.content,!0):void 0:c.exp);const d=c&&h?Ke("key",h):null,p=r.source.type===4&&r.source.constType>0,g=p?64:c?128:256;return r.codegenNode=Wl(n,s(Hl),void 0,o,g,void 0,void 0,!0,!p,!1,e.loc),()=>{let m;const{children:y}=r,E=y.length!==1||y[0].type!==1,A=oh(e)?e:a&&e.children.length===1&&oh(e.children[0])?e.children[0]:null;if(A?(m=A.codegenNode,a&&d&&ah(m,d,n)):E?m=Wl(n,s(Hl),d?Ps([d]):void 0,e.children,64,void 0,void 0,!0,void 0,!1):(m=y[0].codegenNode,a&&d&&ah(m,d,n),m.isBlock!==!p&&(m.isBlock?(i(To),i(Pa(n.inSSR,m.isComponent))):i(xa(n.inSSR,m.isComponent))),m.isBlock=!p,m.isBlock?(s(To),s(Pa(n.inSSR,m.isComponent))):s(xa(n.inSSR,m.isComponent))),l){const w=Ca(Tp(r.parseResult,[qt("_cached")]));w.body=YR([Bs(["const _memo = (",l.exp,")"]),Bs(["if (_cached",...h?[" && _cached.key === ",h]:[],` && ${n.helperString(Gb)}(_cached, _memo)) return _cached`]),Bs(["const _item = ",m]),qt("_item.memo = _memo"),qt("return _item")]),o.arguments.push(w,qt("_cache"),qt(String(n.cached.length))),n.cached.push(null)}else o.arguments.push(Ca(Tp(r.parseResult),m,!0))}})});function CO(e,t,n,s){if(!t.exp){n.onError(Ue(31,t.loc));return}const i=t.forParseResult;if(!i){n.onError(Ue(32,t.loc));return}nE(i);const{addIdentifiers:r,removeIdentifiers:o,scopes:a}=n,{source:l,value:c,key:u,index:h}=i,d={type:11,loc:t.loc,source:l,valueAlias:c,keyAlias:u,objectIndexAlias:h,parseResult:i,children:Gl(e)?e.children:[e]};n.replaceNode(d),a.vFor++;const p=s&&s(d);return()=>{a.vFor--,p&&p()}}function nE(e,t){e.finalized||(e.finalized=!0)}function Tp({value:e,key:t,index:n},s=[]){return H7([e,t,n,...s])}function H7(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((n,s)=>n||qt("_".repeat(s+1),!1))}const O0=qt("undefined",!1),xO=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const n=Zn(e,"slot");if(n)return n.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},z7=(e,t)=>{let n;if(Gl(e)&&e.props.some(Qb)&&(n=Zn(e,"for"))){const s=n.forParseResult;if(s){nE(s);const{value:i,key:r,index:o}=s,{addIdentifiers:a,removeIdentifiers:l}=t;return i&&a(i),r&&a(r),o&&a(o),()=>{i&&l(i),r&&l(r),o&&l(o)}}}},W7=(e,t,n,s)=>Ca(e,n,!1,!0,n.length?n[0].loc:s);function PO(e,t,n=W7){t.helper(Jg);const{children:s,loc:i}=e,r=[],o=[];let a=t.scopes.vSlot>0||t.scopes.vFor>0;const l=Zn(e,"slot",!0);if(l){const{arg:y,exp:E}=l;y&&!es(y)&&(a=!0),r.push(Ke(y||qt("default",!0),n(E,void 0,s,i)))}let c=!1,u=!1;const h=[],d=new Set;let p=0;for(let y=0;y<s.length;y++){const E=s[y];let A;if(!Gl(E)||!(A=Zn(E,"slot",!0))){E.type!==3&&h.push(E);continue}if(l){t.onError(Ue(37,A.loc));break}c=!0;const{children:w,loc:C}=E,{arg:O=qt("default",!0),exp:D,loc:x}=A;let T;es(O)?T=O?O.content:"default":a=!0;const _=Zn(E,"for"),S=n(D,_,w,C);let P,R;if(P=Zn(E,"if"))a=!0,o.push(bp(P.exp,Pf(O,S,p++),O0));else if(R=Zn(E,/^else(-if)?$/,!0)){let I=y,z;for(;I--&&(z=s[I],!(z.type!==3&&jy(z))););if(z&&Gl(z)&&Zn(z,/^(else-)?if$/)){let Y=o[o.length-1];for(;Y.alternate.type===19;)Y=Y.alternate;Y.alternate=R.exp?bp(R.exp,Pf(O,S,p++),O0):Pf(O,S,p++)}else t.onError(Ue(30,R.loc))}else if(_){a=!0;const I=_.forParseResult;I?(nE(I),o.push(ln(t.helper(Xg),[I.source,Ca(Tp(I),Pf(O,S),!0)]))):t.onError(Ue(32,_.loc))}else{if(T){if(d.has(T)){t.onError(Ue(38,x));continue}d.add(T),T==="default"&&(u=!0)}r.push(Ke(O,S))}}if(!l){const y=(E,A)=>{const w=n(E,void 0,A,i);return t.compatConfig&&(w.isNonScopedSlot=!0),Ke("default",w)};c?h.length&&h.some(E=>jy(E))&&(u?t.onError(Ue(39,h[0].loc)):r.push(y(void 0,h))):r.push(y(void 0,s))}const g=a?2:wd(e.children)?3:1;let m=Ps(r.concat(Ke("_",qt(g+"",!1))),i);return o.length&&(m=ln(t.helper(Kb),[m,uo(o)])),{slots:m,hasDynamicSlots:a}}function Pf(e,t,n){const s=[Ke("name",e),Ke("fn",t)];return n!=null&&s.push(Ke("key",qt(String(n),!0))),Ps(s)}function wd(e){for(let t=0;t<e.length;t++){const n=e[t];switch(n.type){case 1:if(n.tagType===2||wd(n.children))return!0;break;case 9:if(wd(n.branches))return!0;break;case 10:case 11:if(wd(n.children))return!0;break}}return!1}function jy(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():jy(e.content)}const RO=new WeakMap,OO=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:s,props:i}=e,r=e.tagType===1;let o=r?NO(e,t):`"${s}"`;const a=we(o)&&o.callee===zg;let l,c,u=0,h,d,p,g=a||o===Al||o===$g||!r&&(s==="svg"||s==="foreignObject"||s==="math");if(i.length>0){const m=sE(e,t,void 0,r,a);l=m.props,u=m.patchFlag,d=m.dynamicPropNames;const y=m.directives;p=y&&y.length?uo(y.map(E=>DO(E,t))):void 0,m.shouldUseBlock&&(g=!0)}if(e.children.length>0)if(o===sh&&(g=!0,u|=1024),r&&o!==Al&&o!==sh){const{slots:y,hasDynamicSlots:E}=PO(e,t);c=y,E&&(u|=1024)}else if(e.children.length===1&&o!==Al){const y=e.children[0],E=y.type,A=E===5||E===8;A&&vs(y,t)===0&&(u|=1),A||E===2?c=y:c=e.children}else c=e.children;d&&d.length&&(h=G7(d)),e.codegenNode=Wl(t,o,l,c,u===0?void 0:u,h,p,!!g,!1,r,e.loc)};function NO(e,t,n=!1){let{tag:s}=e;const i=Hy(s),r=Vh(e,"is",!1,!0);if(r)if(i||ga("COMPILER_IS_ON_ELEMENT",t)){let a;if(r.type===6?a=r.value&&qt(r.value.content,!0):(a=r.exp,a||(a=qt("is",!1,r.arg.loc))),a)return ln(t.helper(zg),[a])}else r.type===6&&r.value.content.startsWith("vue:")&&(s=r.value.content.slice(4));const o=Yb(s)||t.isBuiltInComponent(s);return o?(n||t.helper(o),o):(t.helper(Hg),t.components.add(s),Xl(s,"component"))}function sE(e,t,n=e.props,s,i,r=!1){const{tag:o,loc:a,children:l}=e;let c=[];const u=[],h=[],d=l.length>0;let p=!1,g=0,m=!1,y=!1,E=!1,A=!1,w=!1,C=!1;const O=[],D=S=>{c.length&&(u.push(Ps(N0(c),a)),c=[]),S&&u.push(S)},x=()=>{t.scopes.vFor>0&&c.push(Ke(qt("ref_for",!0),qt("true")))},T=({key:S,value:P})=>{if(es(S)){const R=S.content,I=Co(R);if(I&&(!s||i)&&R.toLowerCase()!=="onclick"&&R!=="onUpdate:modelValue"&&!sr(R)&&(A=!0),I&&sr(R)&&(C=!0),I&&P.type===14&&(P=P.arguments[0]),P.type===20||(P.type===4||P.type===8)&&vs(P,t)>0)return;R==="ref"?m=!0:R==="class"?y=!0:R==="style"?E=!0:R!=="key"&&!O.includes(R)&&O.push(R),s&&(R==="class"||R==="style")&&!O.includes(R)&&O.push(R)}else w=!0};for(let S=0;S<n.length;S++){const P=n[S];if(P.type===6){const{loc:R,name:I,nameLoc:z,value:Y}=P;let B=!0;if(I==="ref"&&(m=!0,x()),I==="is"&&(Hy(o)||Y&&Y.content.startsWith("vue:")||ga("COMPILER_IS_ON_ELEMENT",t)))continue;c.push(Ke(qt(I,!0,z),qt(Y?Y.content:"",B,Y?Y.loc:R)))}else{const{name:R,arg:I,exp:z,loc:Y,modifiers:B}=P,K=R==="bind",tt=R==="on";if(R==="slot"){s||t.onError(Ue(40,Y));continue}if(R==="once"||R==="memo"||R==="is"||K&&Qr(I,"is")&&(Hy(o)||ga("COMPILER_IS_ON_ELEMENT",t))||tt&&r)continue;if((K&&Qr(I,"key")||tt&&d&&Qr(I,"vue:before-update"))&&(p=!0),K&&Qr(I,"ref")&&x(),!I&&(K||tt)){if(w=!0,z)if(K){if(D(),ga("COMPILER_V_BIND_OBJECT_ORDER",t)){u.unshift(z);continue}x(),D(),u.push(z)}else D({type:14,loc:Y,callee:t.helper(Qg),arguments:s?[z]:[z,"true"]});else t.onError(Ue(K?34:35,Y));continue}K&&B.some(U=>U.content==="prop")&&(g|=32);const Pt=t.directiveTransforms[R];if(Pt){const{props:U,needRuntime:V}=Pt(P,e,t);!r&&U.forEach(T),tt&&I&&!es(I)?D(Ps(U,a)):c.push(...U),V&&(h.push(P),is(V)&&RO.set(P,V))}else KI(R)||(h.push(P),d&&(p=!0))}}let _;if(u.length?(D(),u.length>1?_=ln(t.helper(ih),u,a):_=u[0]):c.length&&(_=Ps(N0(c),a)),w?g|=16:(y&&!s&&(g|=2),E&&!s&&(g|=4),O.length&&(g|=8),A&&(g|=32)),!p&&(g===0||g===32)&&(m||C||h.length>0)&&(g|=512),!t.inSSR&&_)switch(_.type){case 15:let S=-1,P=-1,R=!1;for(let Y=0;Y<_.properties.length;Y++){const B=_.properties[Y].key;es(B)?B.content==="class"?S=Y:B.content==="style"&&(P=Y):B.isHandlerKey||(R=!0)}const I=_.properties[S],z=_.properties[P];R?_=ln(t.helper(zl),[_]):(I&&!es(I.value)&&(I.value=ln(t.helper(Yg),[I.value])),z&&(E||z.value.type===4&&z.value.content.trim()[0]==="["||z.value.type===17)&&(z.value=ln(t.helper(qg),[z.value])));break;case 14:break;default:_=ln(t.helper(zl),[ln(t.helper(mc),[_])]);break}return{props:_,directives:h,patchFlag:g,dynamicPropNames:O,shouldUseBlock:p}}function N0(e){const t=new Map,n=[];for(let s=0;s<e.length;s++){const i=e[s];if(i.key.type===8||!i.key.isStatic){n.push(i);continue}const r=i.key.content,o=t.get(r);o?(r==="style"||r==="class"||Co(r))&&K7(o,i):(t.set(r,i),n.push(i))}return n}function K7(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=uo([e.value,t.value],e.loc)}function DO(e,t){const n=[],s=RO.get(e);s?n.push(t.helperString(s)):(t.helper(Wg),t.directives.add(e.name),n.push(Xl(e.name,"directive")));const{loc:i}=e;if(e.exp&&n.push(e.exp),e.arg&&(e.exp||n.push("void 0"),n.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||n.push("void 0"),n.push("void 0"));const r=qt("true",!1,i);n.push(Ps(e.modifiers.map(o=>Ke(o,r)),i))}return uo(n,e.loc)}function G7(e){let t="[";for(let n=0,s=e.length;n<s;n++)t+=JSON.stringify(e[n]),n<s-1&&(t+=", ");return t+"]"}function Hy(e){return e==="component"||e==="Component"}const X7=(e,t)=>{if(oh(e)){const{children:n,loc:s}=e,{slotName:i,slotProps:r}=kO(e,t),o=[t.prefixIdentifiers?"_ctx.$slots":"$slots",i,"{}","undefined","true"];let a=2;r&&(o[2]=r,a=3),n.length&&(o[3]=Ca([],n,!1,!1,s),a=4),t.scopeId&&!t.slotted&&(a=5),o.splice(a),e.codegenNode=ln(t.helper(Wb),o,s)}};function kO(e,t){let n='"default"',s;const i=[];for(let r=0;r<e.props.length;r++){const o=e.props[r];if(o.type===6)o.value&&(o.name==="name"?n=JSON.stringify(o.value.content):(o.name=Le(o.name),i.push(o)));else if(o.name==="bind"&&Qr(o.arg,"name")){if(o.exp)n=o.exp;else if(o.arg&&o.arg.type===4){const a=Le(o.arg.content);n=o.exp=qt(a,!1,o.arg.loc)}}else o.name==="bind"&&o.arg&&es(o.arg)&&(o.arg.content=Le(o.arg.content)),i.push(o)}if(i.length>0){const{props:r,directives:o}=sE(e,t,i,!1,!1);s=r,o.length&&t.onError(Ue(36,o[0].loc))}return{slotName:n,slotProps:s}}const iE=(e,t,n,s)=>{const{loc:i,modifiers:r,arg:o}=e;!e.exp&&!r.length&&n.onError(Ue(35,i));let a;if(o.type===4)if(o.isStatic){let h=o.content;h.startsWith("vue:")&&(h=`vnode-${h.slice(4)}`);const d=t.tagType!==0||h.startsWith("vnode")||!/[A-Z]/.test(h)?aa(Le(h)):`on:${h}`;a=qt(d,!0,o.loc)}else a=Bs([`${n.helperString(_p)}(`,o,")"]);else a=o,a.children.unshift(`${n.helperString(_p)}(`),a.children.push(")");let l=e.exp;l&&!l.content.trim()&&(l=void 0);let c=n.cacheHandlers&&!l&&!n.inVOnce;if(l){const h=qb(l),d=!(h||sO(l)),p=l.content.includes(";");(d||c&&h)&&(l=Bs([`${d?"$event":"(...args)"} => ${p?"{":"("}`,l,p?"}":")"]))}let u={props:[Ke(a,l||qt("() => {}",!1,i))]};return s&&(u=s(u)),c&&(u.props[0].value=n.cache(u.props[0].value)),u.props.forEach(h=>h.key.isHandlerKey=!0),u},Y7=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const n=e.children;let s,i=!1;for(let r=0;r<n.length;r++){const o=n[r];if(_d(o)){i=!0;for(let a=r+1;a<n.length;a++){const l=n[a];if(_d(l))s||(s=n[r]=Bs([o],o.loc)),s.children.push(" + ",l),n.splice(a,1),a--;else{s=void 0;break}}}}if(!(!i||n.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(r=>r.type===7&&!t.directiveTransforms[r.name])&&e.tag!=="template")))for(let r=0;r<n.length;r++){const o=n[r];if(_d(o)||o.type===8){const a=[];(o.type!==2||o.content!==" ")&&a.push(o),!t.ssr&&vs(o,t)===0&&a.push("1"),n[r]={type:12,content:o,loc:o.loc,codegenNode:ln(t.helper(jg),a)}}}}},D0=new WeakSet,q7=(e,t)=>{if(e.type===1&&Zn(e,"once",!0))return D0.has(e)||t.inVOnce||t.inSSR?void 0:(D0.add(e),t.inVOnce=!0,t.helper(rh),()=>{t.inVOnce=!1;const n=t.currentNode;n.codegenNode&&(n.codegenNode=t.cache(n.codegenNode,!0,!0))})},rE=(e,t,n)=>{const{exp:s,arg:i}=e;if(!s)return n.onError(Ue(41,e.loc)),Rf();const r=s.loc.source.trim(),o=s.type===4?s.content:r,a=n.bindingMetadata[r];if(a==="props"||a==="props-aliased")return n.onError(Ue(44,s.loc)),Rf();if(!o.trim()||!qb(s))return n.onError(Ue(42,s.loc)),Rf();const l=i||qt("modelValue",!0),c=i?es(i)?`onUpdate:${Le(i.content)}`:Bs(['"onUpdate:" + ',i]):"onUpdate:modelValue";let u;const h=n.isTS?"($event: any)":"$event";u=Bs([`${h} => ((`,s,") = $event)"]);const d=[Ke(l,e.exp),Ke(c,u)];if(e.modifiers.length&&t.tagType===1){const p=e.modifiers.map(m=>m.content).map(m=>(Lh(m)?m:JSON.stringify(m))+": true").join(", "),g=i?es(i)?`${i.content}Modifiers`:Bs([i,' + "Modifiers"']):"modelModifiers";d.push(Ke(g,qt(`{ ${p} }`,!1,e.loc,2)))}return Rf(d)};function Rf(e=[]){return{props:e}}const Q7=/[\w).+\-_$\]]/,J7=(e,t)=>{ga("COMPILER_FILTERS",t)&&(e.type===5?Sp(e.content,t):e.type===1&&e.props.forEach(n=>{n.type===7&&n.name!=="for"&&n.exp&&Sp(n.exp,t)}))};function Sp(e,t){if(e.type===4)k0(e,t);else for(let n=0;n<e.children.length;n++){const s=e.children[n];typeof s=="object"&&(s.type===4?k0(s,t):s.type===8?Sp(e,t):s.type===5&&Sp(s.content,t))}}function k0(e,t){const n=e.content;let s=!1,i=!1,r=!1,o=!1,a=0,l=0,c=0,u=0,h,d,p,g,m=[];for(p=0;p<n.length;p++)if(d=h,h=n.charCodeAt(p),s)h===39&&d!==92&&(s=!1);else if(i)h===34&&d!==92&&(i=!1);else if(r)h===96&&d!==92&&(r=!1);else if(o)h===47&&d!==92&&(o=!1);else if(h===124&&n.charCodeAt(p+1)!==124&&n.charCodeAt(p-1)!==124&&!a&&!l&&!c)g===void 0?(u=p+1,g=n.slice(0,p).trim()):y();else{switch(h){case 34:i=!0;break;case 39:s=!0;break;case 96:r=!0;break;case 40:c++;break;case 41:c--;break;case 91:l++;break;case 93:l--;break;case 123:a++;break;case 125:a--;break}if(h===47){let E=p-1,A;for(;E>=0&&(A=n.charAt(E),A===" ");E--);(!A||!Q7.test(A))&&(o=!0)}}g===void 0?g=n.slice(0,p).trim():u!==0&&y();function y(){m.push(n.slice(u,p).trim()),u=p+1}if(m.length){for(p=0;p<m.length;p++)g=Z7(g,m[p],t);e.content=g,e.ast=void 0}}function Z7(e,t,n){n.helper(Kg);const s=t.indexOf("(");if(s<0)return n.filters.add(t),`${Xl(t,"filter")}(${e})`;{const i=t.slice(0,s),r=t.slice(s+1);return n.filters.add(i),`${Xl(i,"filter")}(${e}${r!==")"?","+r:r}`}}const M0=new WeakSet,tW=(e,t)=>{if(e.type===1){const n=Zn(e,"memo");return!n||M0.has(e)?void 0:(M0.add(e),()=>{const s=e.codegenNode||t.currentNode.codegenNode;s&&s.type===13&&(e.tagType!==1&&tm(s,t),e.codegenNode=ln(t.helper(Zg),[n.exp,Ca(void 0,s),"_cache",String(t.cached.length)]),t.cached.push(null))})}};function MO(e){return[[q7,U7,tW,j7,J7,X7,OO,xO,Y7],{on:iE,bind:AO,model:rE}]}function LO(e,t={}){const n=t.onError||Xb,s=t.mode==="module";t.prefixIdentifiers===!0?n(Ue(47)):s&&n(Ue(48));const i=!1;t.cacheHandlers&&n(Ue(49)),t.scopeId&&!s&&n(Ue(50));const r=ce({},t,{prefixIdentifiers:i}),o=Gt(e)?Zb(e,r):e,[a,l]=MO();return yO(o,ce({},r,{nodeTransforms:[...a,...t.nodeTransforms||[]],directiveTransforms:ce({},l,t.directiveTransforms||{})})),bO(o,r)}const eW={DATA:"data",PROPS:"props",PROPS_ALIASED:"props-aliased",SETUP_LET:"setup-let",SETUP_CONST:"setup-const",SETUP_REACTIVE_CONST:"setup-reactive-const",SETUP_MAYBE_REF:"setup-maybe-ref",SETUP_REF:"setup-ref",OPTIONS:"options",LITERAL_CONST:"literal-const"},VO=()=>({props:[]});/**
* @vue/compiler-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const oE=Symbol(""),aE=Symbol(""),lE=Symbol(""),cE=Symbol(""),wp=Symbol(""),uE=Symbol(""),hE=Symbol(""),fE=Symbol(""),dE=Symbol(""),pE=Symbol("");KR({[oE]:"vModelRadio",[aE]:"vModelCheckbox",[lE]:"vModelText",[cE]:"vModelSelect",[wp]:"vModelDynamic",[uE]:"withModifiers",[hE]:"withKeys",[fE]:"vShow",[dE]:"Transition",[pE]:"TransitionGroup"});let Ya;function nW(e,t=!1){return Ya||(Ya=document.createElement("div")),t?(Ya.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,Ya.children[0].getAttribute("foo")):(Ya.innerHTML=e,Ya.textContent)}const gE={parseMode:"html",isVoidTag:JI,isNativeTag:e=>YI(e)||qI(e)||QI(e),isPreTag:e=>e==="pre",isIgnoreNewlineTag:e=>e==="pre"||e==="textarea",decodeEntities:nW,isBuiltInComponent:e=>{if(e==="Transition"||e==="transition")return dE;if(e==="TransitionGroup"||e==="transition-group")return pE},getNamespace(e,t,n){let s=t?t.ns:n;if(t&&s===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(i=>i.type===6&&i.name==="encoding"&&i.value!=null&&(i.value.content==="text/html"||i.value.content==="application/xhtml+xml"))&&(s=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(s=0);else t&&s===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(s=0);if(s===0){if(e==="svg")return 1;if(e==="math")return 2}return s}},FO=e=>{e.type===1&&e.props.forEach((t,n)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[n]={type:7,name:"bind",arg:qt("style",!0,t.loc),exp:sW(t.value.content,t.loc),modifiers:[],loc:t.loc})})},sW=(e,t)=>{const n=c_(e);return qt(JSON.stringify(n),!1,t,3)};function ar(e,t){return Ue(e,t)}const iW={X_V_HTML_NO_EXPRESSION:53,53:"X_V_HTML_NO_EXPRESSION",X_V_HTML_WITH_CHILDREN:54,54:"X_V_HTML_WITH_CHILDREN",X_V_TEXT_NO_EXPRESSION:55,55:"X_V_TEXT_NO_EXPRESSION",X_V_TEXT_WITH_CHILDREN:56,56:"X_V_TEXT_WITH_CHILDREN",X_V_MODEL_ON_INVALID_ELEMENT:57,57:"X_V_MODEL_ON_INVALID_ELEMENT",X_V_MODEL_ARG_ON_ELEMENT:58,58:"X_V_MODEL_ARG_ON_ELEMENT",X_V_MODEL_ON_FILE_INPUT_ELEMENT:59,59:"X_V_MODEL_ON_FILE_INPUT_ELEMENT",X_V_MODEL_UNNECESSARY_VALUE:60,60:"X_V_MODEL_UNNECESSARY_VALUE",X_V_SHOW_NO_EXPRESSION:61,61:"X_V_SHOW_NO_EXPRESSION",X_TRANSITION_INVALID_CHILDREN:62,62:"X_TRANSITION_INVALID_CHILDREN",X_IGNORED_SIDE_EFFECT_TAG:63,63:"X_IGNORED_SIDE_EFFECT_TAG",__EXTEND_POINT__:64,64:"__EXTEND_POINT__"},rW={53:"v-html is missing expression.",54:"v-html will override element children.",55:"v-text is missing expression.",56:"v-text will override element children.",57:"v-model can only be used on <input>, <textarea> and <select> elements.",58:"v-model argument is not supported on plain elements.",59:"v-model cannot be used on file inputs since they are read-only. Use a v-on:change listener instead.",60:"Unnecessary value binding used alongside v-model. It will interfere with v-model's behavior.",61:"v-show is missing expression.",62:"<Transition> expects exactly one child element or component.",63:"Tags with side effect (<script> and <style>) are ignored in client component templates."},oW=(e,t,n)=>{const{exp:s,loc:i}=e;return s||n.onError(ar(53,i)),t.children.length&&(n.onError(ar(54,i)),t.children.length=0),{props:[Ke(qt("innerHTML",!0,i),s||qt("",!0))]}},aW=(e,t,n)=>{const{exp:s,loc:i}=e;return s||n.onError(ar(55,i)),t.children.length&&(n.onError(ar(56,i)),t.children.length=0),{props:[Ke(qt("textContent",!0),s?vs(s,n)>0?s:ln(n.helperString(Mh),[s],i):qt("",!0))]}},lW=(e,t,n)=>{const s=rE(e,t,n);if(!s.props.length||t.tagType===1)return s;e.arg&&n.onError(ar(58,e.arg.loc));const{tag:i}=t,r=n.isCustomElement(i);if(i==="input"||i==="textarea"||i==="select"||r){let o=lE,a=!1;if(i==="input"||r){const l=Vh(t,"type");if(l){if(l.type===7)o=wp;else if(l.value)switch(l.value.content){case"radio":o=oE;break;case"checkbox":o=aE;break;case"file":a=!0,n.onError(ar(59,e.loc));break}}else rO(t)&&(o=wp)}else i==="select"&&(o=cE);a||(s.needRuntime=n.helper(o))}else n.onError(ar(57,e.loc));return s.props=s.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),s},cW=bn("passive,once,capture"),uW=bn("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),hW=bn("left,right"),$O=bn("onkeyup,onkeydown,onkeypress"),fW=(e,t,n,s)=>{const i=[],r=[],o=[];for(let a=0;a<t.length;a++){const l=t[a].content;l==="native"&&Kl("COMPILER_V_ON_NATIVE",n)||cW(l)?o.push(l):hW(l)?es(e)?$O(e.content.toLowerCase())?i.push(l):r.push(l):(i.push(l),r.push(l)):uW(l)?r.push(l):i.push(l)}return{keyModifiers:i,nonKeyModifiers:r,eventOptionModifiers:o}},L0=(e,t)=>es(e)&&e.content.toLowerCase()==="onclick"?qt(t,!0):e.type!==4?Bs(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,dW=(e,t,n)=>iE(e,t,n,s=>{const{modifiers:i}=e;if(!i.length)return s;let{key:r,value:o}=s.props[0];const{keyModifiers:a,nonKeyModifiers:l,eventOptionModifiers:c}=fW(r,i,n,e.loc);if(l.includes("right")&&(r=L0(r,"onContextmenu")),l.includes("middle")&&(r=L0(r,"onMouseup")),l.length&&(o=ln(n.helper(uE),[o,JSON.stringify(l)])),a.length&&(!es(r)||$O(r.content.toLowerCase()))&&(o=ln(n.helper(hE),[o,JSON.stringify(a)])),c.length){const u=c.map(Po).join("");r=es(r)?qt(`${r.content}${u}`,!0):Bs(["(",r,`) + "${u}"`])}return{props:[Ke(r,o)]}}),pW=(e,t,n)=>{const{exp:s,loc:i}=e;return s||n.onError(ar(61,i)),{props:[],needRuntime:n.helper(fE)}},gW=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&t.removeNode()},UO=[FO],BO={cloak:VO,html:oW,text:aW,model:lW,on:dW,show:pW};function mW(e,t={}){return LO(e,ce({},gE,t,{nodeTransforms:[gW,...UO,...t.nodeTransforms||[]],directiveTransforms:ce({},BO,t.directiveTransforms||{}),transformHoist:null}))}function vW(e,t={}){return Zb(e,ce({},gE,t))}const yW=Object.freeze(Object.defineProperty({__proto__:null,BASE_TRANSITION:Bb,BindingTypes:eW,CAMELIZE:yp,CAPITALIZE:BR,CREATE_BLOCK:jb,CREATE_COMMENT:gc,CREATE_ELEMENT_BLOCK:Hb,CREATE_ELEMENT_VNODE:Bg,CREATE_SLOTS:Kb,CREATE_STATIC:zb,CREATE_TEXT:jg,CREATE_VNODE:Ug,CompilerDeprecationTypes:V8,ConstantTypes:P8,DOMDirectiveTransforms:BO,DOMErrorCodes:iW,DOMErrorMessages:rW,DOMNodeTransforms:UO,ElementTypes:x8,ErrorCodes:U8,FRAGMENT:Hl,GUARD_REACTIVE_PROPS:mc,IS_MEMO_SAME:Gb,IS_REF:WR,KEEP_ALIVE:sh,MERGE_PROPS:ih,NORMALIZE_CLASS:Yg,NORMALIZE_PROPS:zl,NORMALIZE_STYLE:qg,Namespaces:I8,NodeTypes:C8,OPEN_BLOCK:To,POP_SCOPE_ID:HR,PUSH_SCOPE_ID:jR,RENDER_LIST:Xg,RENDER_SLOT:Wb,RESOLVE_COMPONENT:Hg,RESOLVE_DIRECTIVE:Wg,RESOLVE_DYNAMIC_COMPONENT:zg,RESOLVE_FILTER:Kg,SET_BLOCK_TRACKING:rh,SUSPENSE:$g,TELEPORT:Al,TO_DISPLAY_STRING:Mh,TO_HANDLERS:Qg,TO_HANDLER_KEY:_p,TRANSITION:dE,TRANSITION_GROUP:pE,TS_NODE_TYPES:JR,UNREF:zR,V_MODEL_CHECKBOX:aE,V_MODEL_DYNAMIC:wp,V_MODEL_RADIO:oE,V_MODEL_SELECT:cE,V_MODEL_TEXT:lE,V_ON_WITH_KEYS:hE,V_ON_WITH_MODIFIERS:uE,V_SHOW:fE,WITH_CTX:Jg,WITH_DIRECTIVES:Gg,WITH_MEMO:Zg,advancePositionWithClone:r7,advancePositionWithMutation:iO,assert:o7,baseCompile:LO,baseParse:Zb,buildDirectiveArgs:DO,buildProps:sE,buildSlots:PO,checkCompatEnabled:Kl,compile:mW,convertToBlock:tm,createArrayExpression:uo,createAssignmentExpression:D8,createBlockStatement:YR,createCacheExpression:XR,createCallExpression:ln,createCompilerError:Ue,createCompoundExpression:Bs,createConditionalExpression:bp,createDOMCompilerError:ar,createForLoopParams:Tp,createFunctionExpression:Ca,createIfStatement:N8,createInterpolation:R8,createObjectExpression:Ps,createObjectProperty:Ke,createReturnStatement:M8,createRoot:GR,createSequenceExpression:k8,createSimpleExpression:qt,createStructuralDirectiveTransform:tE,createTemplateLiteral:O8,createTransformContext:vO,createVNodeCall:Wl,errorMessages:B8,extractIdentifiers:tr,findDir:Zn,findProp:Vh,forAliasRE:lO,generate:bO,generateCodeFrame:GI,getBaseTransformPreset:MO,getConstantType:vs,getMemoedVNodeCall:aO,getVNodeBlockHelper:Pa,getVNodeHelper:xa,hasDynamicKeyVBind:rO,hasScopeRef:ti,helperNameMap:Ia,injectProp:ah,isCoreComponent:Yb,isFnExpression:sO,isFnExpressionBrowser:nO,isFnExpressionNode:i7,isFunctionType:q8,isInDestructureAssignment:z8,isInNewExpression:W8,isMemberExpression:qb,isMemberExpressionBrowser:eO,isMemberExpressionNode:n7,isReferencedIdentifier:H8,isSimpleIdentifier:Lh,isSlotOutlet:oh,isStaticArgOf:Qr,isStaticExp:es,isStaticProperty:QR,isStaticPropertyKey:Q8,isTemplateNode:Gl,isText:_d,isVPre:$y,isVSlot:Qb,locStub:gn,noopDirectiveTransform:VO,parse:vW,parserOptions:gE,processExpression:Sd,processFor:CO,processIf:wO,processSlotOutlet:kO,registerRuntimeHelpers:KR,resolveComponentType:NO,stringifyExpression:SO,toValidAssetId:Xl,trackSlotScopes:xO,trackVForSlotScopes:z7,transform:yO,transformBind:AO,transformElement:OO,transformExpression:$7,transformModel:rE,transformOn:iE,transformStyle:FO,traverseNode:Fh,unwrapTSNode:ZR,walkBlockDeclarations:G8,walkFunctionParams:K8,walkIdentifiers:j8,warnDeprecation:$8},Symbol.toStringTag,{value:"Module"})),_W=Fg(yW),bW=Fg(uV),EW=Fg(Wk);/**
* vue v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var V0;function TW(){return V0||(V0=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=_W,n=bW,s=EW;function i(l){var c=Object.create(null);if(l)for(var u in l)c[u]=l[u];return c.default=l,Object.freeze(c)}var r=i(n);const o=Object.create(null);function a(l,c){if(!s.isString(l))if(l.nodeType)l=l.innerHTML;else return s.NOOP;const u=s.genCacheKey(l,c),h=o[u];if(h)return h;if(l[0]==="#"){const m=document.querySelector(l);l=m?m.innerHTML:""}const d=s.extend({hoistStatic:!0,onError:void 0,onWarn:s.NOOP},c);!d.isCustomElement&&typeof customElements<"u"&&(d.isCustomElement=m=>!!customElements.get(m));const{code:p}=t.compile(l,d),g=new Function("Vue",p)(r);return g._rc=!0,o[u]=g}n.registerRuntimeCompiler(a),e.compile=a,Object.keys(n).forEach(function(l){l!=="default"&&!Object.prototype.hasOwnProperty.call(e,l)&&(e[l]=n[l])})}(sv)),sv}var F0;function SW(){return F0||(F0=1,nv.exports=TW()),nv.exports}/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function $0(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Vi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$0(Object(n),!0).forEach(function(s){wW(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$0(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function Ad(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ad=function(t){return typeof t}:Ad=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ad(e)}function wW(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ws(){return Ws=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ws.apply(this,arguments)}function AW(e,t){if(e==null)return{};var n={},s=Object.keys(e),i,r;for(r=0;r<s.length;r++)i=s[r],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function IW(e,t){if(e==null)return{};var n=AW(e,t),s,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function CW(e){return xW(e)||PW(e)||RW(e)||OW()}function xW(e){if(Array.isArray(e))return zy(e)}function PW(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RW(e,t){if(e){if(typeof e=="string")return zy(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zy(e,t)}}function zy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function OW(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var NW="1.14.0";function lr(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var xr=lr(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Uh=lr(/Edge/i),U0=lr(/firefox/i),Au=lr(/safari/i)&&!lr(/chrome/i)&&!lr(/android/i),jO=lr(/iP(ad|od|hone)/i),DW=lr(/chrome/i)&&lr(/android/i),HO={capture:!1,passive:!1};function he(e,t,n){e.addEventListener(t,n,!xr&&HO)}function ie(e,t,n){e.removeEventListener(t,n,!xr&&HO)}function Ap(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function kW(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function ei(e,t,n,s){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&Ap(e,t):Ap(e,t))||s&&e===n)return e;if(e===n)break}while(e=kW(e))}return null}var B0=/\s+/g;function We(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var s=(" "+e.className+" ").replace(B0," ").replace(" "+t+" "," ");e.className=(s+(n?" "+t:"")).replace(B0," ")}}function Mt(e,t,n){var s=e&&e.style;if(s){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in s)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),s[t]=n+(typeof n=="string"?"":"px")}}function ma(e,t){var n="";if(typeof e=="string")n=e;else do{var s=Mt(e,"transform");s&&s!=="none"&&(n=s+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function zO(e,t,n){if(e){var s=e.getElementsByTagName(t),i=0,r=s.length;if(n)for(;i<r;i++)n(s[i],i);return s}return[]}function Pi(){var e=document.scrollingElement;return e||document.documentElement}function ze(e,t,n,s,i){if(!(!e.getBoundingClientRect&&e!==window)){var r,o,a,l,c,u,h;if(e!==window&&e.parentNode&&e!==Pi()?(r=e.getBoundingClientRect(),o=r.top,a=r.left,l=r.bottom,c=r.right,u=r.height,h=r.width):(o=0,a=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,h=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!xr))do if(i&&i.getBoundingClientRect&&(Mt(i,"transform")!=="none"||n&&Mt(i,"position")!=="static")){var d=i.getBoundingClientRect();o-=d.top+parseInt(Mt(i,"border-top-width")),a-=d.left+parseInt(Mt(i,"border-left-width")),l=o+r.height,c=a+r.width;break}while(i=i.parentNode);if(s&&e!==window){var p=ma(i||e),g=p&&p.a,m=p&&p.d;p&&(o/=m,a/=g,h/=g,u/=m,l=o+u,c=a+h)}return{top:o,left:a,bottom:l,right:c,width:h,height:u}}}function j0(e,t,n){for(var s=Jr(e,!0),i=ze(e)[t];s;){var r=ze(s)[n],o=void 0;if(o=i>=r,!o)return s;if(s===Pi())break;s=Jr(s,!1)}return!1}function Yl(e,t,n,s){for(var i=0,r=0,o=e.children;r<o.length;){if(o[r].style.display!=="none"&&o[r]!==Ht.ghost&&(s||o[r]!==Ht.dragged)&&ei(o[r],n.draggable,e,!1)){if(i===t)return o[r];i++}r++}return null}function mE(e,t){for(var n=e.lastElementChild;n&&(n===Ht.ghost||Mt(n,"display")==="none"||t&&!Ap(n,t));)n=n.previousElementSibling;return n||null}function Qe(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==Ht.clone&&(!t||Ap(e,t))&&n++;return n}function H0(e){var t=0,n=0,s=Pi();if(e)do{var i=ma(e),r=i.a,o=i.d;t+=e.scrollLeft*r,n+=e.scrollTop*o}while(e!==s&&(e=e.parentNode));return[t,n]}function MW(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var s in t)if(t.hasOwnProperty(s)&&t[s]===e[n][s])return Number(n)}return-1}function Jr(e,t){if(!e||!e.getBoundingClientRect)return Pi();var n=e,s=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=Mt(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Pi();if(s||t)return n;s=!0}}while(n=n.parentNode);return Pi()}function LW(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function rv(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var Iu;function WO(e,t){return function(){if(!Iu){var n=arguments,s=this;n.length===1?e.call(s,n[0]):e.apply(s,n),Iu=setTimeout(function(){Iu=void 0},t)}}}function VW(){clearTimeout(Iu),Iu=void 0}function KO(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function vE(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function z0(e,t){Mt(e,"position","absolute"),Mt(e,"top",t.top),Mt(e,"left",t.left),Mt(e,"width",t.width),Mt(e,"height",t.height)}function ov(e){Mt(e,"position",""),Mt(e,"top",""),Mt(e,"left",""),Mt(e,"width",""),Mt(e,"height","")}var zn="Sortable"+new Date().getTime();function FW(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var s=[].slice.call(this.el.children);s.forEach(function(i){if(!(Mt(i,"display")==="none"||i===Ht.ghost)){e.push({target:i,rect:ze(i)});var r=Vi({},e[e.length-1].rect);if(i.thisAnimationDuration){var o=ma(i,!0);o&&(r.top-=o.f,r.left-=o.e)}i.fromRect=r}})}},addAnimationState:function(s){e.push(s)},removeAnimationState:function(s){e.splice(MW(e,{target:s}),1)},animateAll:function(s){var i=this;if(!this.options.animation){clearTimeout(t),typeof s=="function"&&s();return}var r=!1,o=0;e.forEach(function(a){var l=0,c=a.target,u=c.fromRect,h=ze(c),d=c.prevFromRect,p=c.prevToRect,g=a.rect,m=ma(c,!0);m&&(h.top-=m.f,h.left-=m.e),c.toRect=h,c.thisAnimationDuration&&rv(d,h)&&!rv(u,h)&&(g.top-h.top)/(g.left-h.left)===(u.top-h.top)/(u.left-h.left)&&(l=UW(g,d,p,i.options)),rv(h,u)||(c.prevFromRect=u,c.prevToRect=h,l||(l=i.options.animation),i.animate(c,g,h,l)),l&&(r=!0,o=Math.max(o,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(t),r?t=setTimeout(function(){typeof s=="function"&&s()},o):typeof s=="function"&&s(),e=[]},animate:function(s,i,r,o){if(o){Mt(s,"transition",""),Mt(s,"transform","");var a=ma(this.el),l=a&&a.a,c=a&&a.d,u=(i.left-r.left)/(l||1),h=(i.top-r.top)/(c||1);s.animatingX=!!u,s.animatingY=!!h,Mt(s,"transform","translate3d("+u+"px,"+h+"px,0)"),this.forRepaintDummy=$W(s),Mt(s,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),Mt(s,"transform","translate3d(0,0,0)"),typeof s.animated=="number"&&clearTimeout(s.animated),s.animated=setTimeout(function(){Mt(s,"transition",""),Mt(s,"transform",""),s.animated=!1,s.animatingX=!1,s.animatingY=!1},o)}}}}function $W(e){return e.offsetWidth}function UW(e,t,n,s){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*s.animation}var qa=[],av={initializeByDefault:!0},Bh={mount:function(t){for(var n in av)av.hasOwnProperty(n)&&!(n in t)&&(t[n]=av[n]);qa.forEach(function(s){if(s.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),qa.push(t)},pluginEvent:function(t,n,s){var i=this;this.eventCanceled=!1,s.cancel=function(){i.eventCanceled=!0};var r=t+"Global";qa.forEach(function(o){n[o.pluginName]&&(n[o.pluginName][r]&&n[o.pluginName][r](Vi({sortable:n},s)),n.options[o.pluginName]&&n[o.pluginName][t]&&n[o.pluginName][t](Vi({sortable:n},s)))})},initializePlugins:function(t,n,s,i){qa.forEach(function(a){var l=a.pluginName;if(!(!t.options[l]&&!a.initializeByDefault)){var c=new a(t,n,t.options);c.sortable=t,c.options=t.options,t[l]=c,Ws(s,c.defaults)}});for(var r in t.options)if(t.options.hasOwnProperty(r)){var o=this.modifyOption(t,r,t.options[r]);typeof o<"u"&&(t.options[r]=o)}},getEventProperties:function(t,n){var s={};return qa.forEach(function(i){typeof i.eventProperties=="function"&&Ws(s,i.eventProperties.call(n[i.pluginName],t))}),s},modifyOption:function(t,n,s){var i;return qa.forEach(function(r){t[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[n]=="function"&&(i=r.optionListeners[n].call(t[r.pluginName],s))}),i}};function su(e){var t=e.sortable,n=e.rootEl,s=e.name,i=e.targetEl,r=e.cloneEl,o=e.toEl,a=e.fromEl,l=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,h=e.newDraggableIndex,d=e.originalEvent,p=e.putSortable,g=e.extraEventProperties;if(t=t||n&&n[zn],!!t){var m,y=t.options,E="on"+s.charAt(0).toUpperCase()+s.substr(1);window.CustomEvent&&!xr&&!Uh?m=new CustomEvent(s,{bubbles:!0,cancelable:!0}):(m=document.createEvent("Event"),m.initEvent(s,!0,!0)),m.to=o||n,m.from=a||n,m.item=i||n,m.clone=r,m.oldIndex=l,m.newIndex=c,m.oldDraggableIndex=u,m.newDraggableIndex=h,m.originalEvent=d,m.pullMode=p?p.lastPutMode:void 0;var A=Vi(Vi({},g),Bh.getEventProperties(s,t));for(var w in A)m[w]=A[w];n&&n.dispatchEvent(m),y[E]&&y[E].call(t,m)}}var BW=["evt"],os=function(t,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=s.evt,r=IW(s,BW);Bh.pluginEvent.bind(Ht)(t,n,Vi({dragEl:Tt,parentEl:Ye,ghostEl:te,rootEl:je,nextEl:Qo,lastDownEl:Id,cloneEl:qe,cloneHidden:Yr,dragStarted:iu,putSortable:Tn,activeSortable:Ht.active,originalEvent:i,oldIndex:gl,oldDraggableIndex:Cu,newIndex:ws,newDraggableIndex:Wr,hideGhostForTarget:qO,unhideGhostForTarget:QO,cloneNowHidden:function(){Yr=!0},cloneNowShown:function(){Yr=!1},dispatchSortableEvent:function(a){Qn({sortable:n,name:a,originalEvent:i})}},r))};function Qn(e){su(Vi({putSortable:Tn,cloneEl:qe,targetEl:Tt,rootEl:je,oldIndex:gl,oldDraggableIndex:Cu,newIndex:ws,newDraggableIndex:Wr},e))}var Tt,Ye,te,je,Qo,Id,qe,Yr,gl,ws,Cu,Wr,Of,Tn,cl=!1,Ip=!1,Cp=[],Ho,Js,lv,cv,W0,K0,iu,Qa,xu,Pu=!1,Nf=!1,Cd,Ln,uv=[],Wy=!1,xp=[],nm=typeof document<"u",Df=jO,G0=Uh||xr?"cssFloat":"float",jW=nm&&!DW&&!jO&&"draggable"in document.createElement("div"),GO=function(){if(nm){if(xr)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),XO=function(t,n){var s=Mt(t),i=parseInt(s.width)-parseInt(s.paddingLeft)-parseInt(s.paddingRight)-parseInt(s.borderLeftWidth)-parseInt(s.borderRightWidth),r=Yl(t,0,n),o=Yl(t,1,n),a=r&&Mt(r),l=o&&Mt(o),c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+ze(r).width,u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+ze(o).width;if(s.display==="flex")return s.flexDirection==="column"||s.flexDirection==="column-reverse"?"vertical":"horizontal";if(s.display==="grid")return s.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&a.float&&a.float!=="none"){var h=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===h)?"vertical":"horizontal"}return r&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||c>=i&&s[G0]==="none"||o&&s[G0]==="none"&&c+u>i)?"vertical":"horizontal"},HW=function(t,n,s){var i=s?t.left:t.top,r=s?t.right:t.bottom,o=s?t.width:t.height,a=s?n.left:n.top,l=s?n.right:n.bottom,c=s?n.width:n.height;return i===a||r===l||i+o/2===a+c/2},zW=function(t,n){var s;return Cp.some(function(i){var r=i[zn].options.emptyInsertThreshold;if(!(!r||mE(i))){var o=ze(i),a=t>=o.left-r&&t<=o.right+r,l=n>=o.top-r&&n<=o.bottom+r;if(a&&l)return s=i}}),s},YO=function(t){function n(r,o){return function(a,l,c,u){var h=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(r==null&&(o||h))return!0;if(r==null||r===!1)return!1;if(o&&r==="clone")return r;if(typeof r=="function")return n(r(a,l,c,u),o)(a,l,c,u);var d=(o?a:l).options.group.name;return r===!0||typeof r=="string"&&r===d||r.join&&r.indexOf(d)>-1}}var s={},i=t.group;(!i||Ad(i)!="object")&&(i={name:i}),s.name=i.name,s.checkPull=n(i.pull,!0),s.checkPut=n(i.put),s.revertClone=i.revertClone,t.group=s},qO=function(){!GO&&te&&Mt(te,"display","none")},QO=function(){!GO&&te&&Mt(te,"display","")};nm&&document.addEventListener("click",function(e){if(Ip)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Ip=!1,!1},!0);var zo=function(t){if(Tt){t=t.touches?t.touches[0]:t;var n=zW(t.clientX,t.clientY);if(n){var s={};for(var i in t)t.hasOwnProperty(i)&&(s[i]=t[i]);s.target=s.rootEl=n,s.preventDefault=void 0,s.stopPropagation=void 0,n[zn]._onDragOver(s)}}},WW=function(t){Tt&&Tt.parentNode[zn]._isOutsideThisEl(t.target)};function Ht(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Ws({},t),e[zn]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return XO(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Ht.supportPointer!==!1&&"PointerEvent"in window&&!Au,emptyInsertThreshold:5};Bh.initializePlugins(this,e,n);for(var s in n)!(s in t)&&(t[s]=n[s]);YO(t);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=t.forceFallback?!1:jW,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?he(e,"pointerdown",this._onTapStart):(he(e,"mousedown",this._onTapStart),he(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(he(e,"dragover",this),he(e,"dragenter",this)),Cp.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Ws(this,FW())}Ht.prototype={constructor:Ht,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Qa=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,Tt):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,s=this.el,i=this.options,r=i.preventOnFilter,o=t.type,a=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,l=(a||t).target,c=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,u=i.filter;if(ZW(s),!Tt&&!(/mousedown|pointerdown/.test(o)&&t.button!==0||i.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&Au&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=ei(l,i.draggable,s,!1),!(l&&l.animated)&&Id!==l)){if(gl=Qe(l),Cu=Qe(l,i.draggable),typeof u=="function"){if(u.call(this,t,l,this)){Qn({sortable:n,rootEl:c,name:"filter",targetEl:l,toEl:s,fromEl:s}),os("filter",n,{evt:t}),r&&t.cancelable&&t.preventDefault();return}}else if(u&&(u=u.split(",").some(function(h){if(h=ei(c,h.trim(),s,!1),h)return Qn({sortable:n,rootEl:h,name:"filter",targetEl:l,fromEl:s,toEl:s}),os("filter",n,{evt:t}),!0}),u)){r&&t.cancelable&&t.preventDefault();return}i.handle&&!ei(c,i.handle,s,!1)||this._prepareDragStart(t,a,l)}}},_prepareDragStart:function(t,n,s){var i=this,r=i.el,o=i.options,a=r.ownerDocument,l;if(s&&!Tt&&s.parentNode===r){var c=ze(s);if(je=r,Tt=s,Ye=Tt.parentNode,Qo=Tt.nextSibling,Id=s,Of=o.group,Ht.dragged=Tt,Ho={target:Tt,clientX:(n||t).clientX,clientY:(n||t).clientY},W0=Ho.clientX-c.left,K0=Ho.clientY-c.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,Tt.style["will-change"]="all",l=function(){if(os("delayEnded",i,{evt:t}),Ht.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!U0&&i.nativeDraggable&&(Tt.draggable=!0),i._triggerDragStart(t,n),Qn({sortable:i,name:"choose",originalEvent:t}),We(Tt,o.chosenClass,!0)},o.ignore.split(",").forEach(function(u){zO(Tt,u.trim(),hv)}),he(a,"dragover",zo),he(a,"mousemove",zo),he(a,"touchmove",zo),he(a,"mouseup",i._onDrop),he(a,"touchend",i._onDrop),he(a,"touchcancel",i._onDrop),U0&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Tt.draggable=!0),os("delayStart",this,{evt:t}),o.delay&&(!o.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Uh||xr))){if(Ht.eventCanceled){this._onDrop();return}he(a,"mouseup",i._disableDelayedDrag),he(a,"touchend",i._disableDelayedDrag),he(a,"touchcancel",i._disableDelayedDrag),he(a,"mousemove",i._delayedDragTouchMoveHandler),he(a,"touchmove",i._delayedDragTouchMoveHandler),o.supportPointer&&he(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Tt&&hv(Tt),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;ie(t,"mouseup",this._disableDelayedDrag),ie(t,"touchend",this._disableDelayedDrag),ie(t,"touchcancel",this._disableDelayedDrag),ie(t,"mousemove",this._delayedDragTouchMoveHandler),ie(t,"touchmove",this._delayedDragTouchMoveHandler),ie(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?he(document,"pointermove",this._onTouchMove):n?he(document,"touchmove",this._onTouchMove):he(document,"mousemove",this._onTouchMove):(he(Tt,"dragend",this),he(je,"dragstart",this._onDragStart));try{document.selection?xd(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(cl=!1,je&&Tt){os("dragStarted",this,{evt:n}),this.nativeDraggable&&he(document,"dragover",WW);var s=this.options;!t&&We(Tt,s.dragClass,!1),We(Tt,s.ghostClass,!0),Ht.active=this,t&&this._appendGhost(),Qn({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Js){this._lastX=Js.clientX,this._lastY=Js.clientY,qO();for(var t=document.elementFromPoint(Js.clientX,Js.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Js.clientX,Js.clientY),t!==n);)n=t;if(Tt.parentNode[zn]._isOutsideThisEl(t),n)do{if(n[zn]){var s=void 0;if(s=n[zn]._onDragOver({clientX:Js.clientX,clientY:Js.clientY,target:t,rootEl:n}),s&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);QO()}},_onTouchMove:function(t){if(Ho){var n=this.options,s=n.fallbackTolerance,i=n.fallbackOffset,r=t.touches?t.touches[0]:t,o=te&&ma(te,!0),a=te&&o&&o.a,l=te&&o&&o.d,c=Df&&Ln&&H0(Ln),u=(r.clientX-Ho.clientX+i.x)/(a||1)+(c?c[0]-uv[0]:0)/(a||1),h=(r.clientY-Ho.clientY+i.y)/(l||1)+(c?c[1]-uv[1]:0)/(l||1);if(!Ht.active&&!cl){if(s&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<s)return;this._onDragStart(t,!0)}if(te){o?(o.e+=u-(lv||0),o.f+=h-(cv||0)):o={a:1,b:0,c:0,d:1,e:u,f:h};var d="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");Mt(te,"webkitTransform",d),Mt(te,"mozTransform",d),Mt(te,"msTransform",d),Mt(te,"transform",d),lv=u,cv=h,Js=r}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!te){var t=this.options.fallbackOnBody?document.body:je,n=ze(Tt,!0,Df,!0,t),s=this.options;if(Df){for(Ln=t;Mt(Ln,"position")==="static"&&Mt(Ln,"transform")==="none"&&Ln!==document;)Ln=Ln.parentNode;Ln!==document.body&&Ln!==document.documentElement?(Ln===document&&(Ln=Pi()),n.top+=Ln.scrollTop,n.left+=Ln.scrollLeft):Ln=Pi(),uv=H0(Ln)}te=Tt.cloneNode(!0),We(te,s.ghostClass,!1),We(te,s.fallbackClass,!0),We(te,s.dragClass,!0),Mt(te,"transition",""),Mt(te,"transform",""),Mt(te,"box-sizing","border-box"),Mt(te,"margin",0),Mt(te,"top",n.top),Mt(te,"left",n.left),Mt(te,"width",n.width),Mt(te,"height",n.height),Mt(te,"opacity","0.8"),Mt(te,"position",Df?"absolute":"fixed"),Mt(te,"zIndex","100000"),Mt(te,"pointerEvents","none"),Ht.ghost=te,t.appendChild(te),Mt(te,"transform-origin",W0/parseInt(te.style.width)*100+"% "+K0/parseInt(te.style.height)*100+"%")}},_onDragStart:function(t,n){var s=this,i=t.dataTransfer,r=s.options;if(os("dragStart",this,{evt:t}),Ht.eventCanceled){this._onDrop();return}os("setupClone",this),Ht.eventCanceled||(qe=vE(Tt),qe.draggable=!1,qe.style["will-change"]="",this._hideClone(),We(qe,this.options.chosenClass,!1),Ht.clone=qe),s.cloneId=xd(function(){os("clone",s),!Ht.eventCanceled&&(s.options.removeCloneOnHide||je.insertBefore(qe,Tt),s._hideClone(),Qn({sortable:s,name:"clone"}))}),!n&&We(Tt,r.dragClass,!0),n?(Ip=!0,s._loopId=setInterval(s._emulateDragOver,50)):(ie(document,"mouseup",s._onDrop),ie(document,"touchend",s._onDrop),ie(document,"touchcancel",s._onDrop),i&&(i.effectAllowed="move",r.setData&&r.setData.call(s,i,Tt)),he(document,"drop",s),Mt(Tt,"transform","translateZ(0)")),cl=!0,s._dragStartId=xd(s._dragStarted.bind(s,n,t)),he(document,"selectstart",s),iu=!0,Au&&Mt(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,s=t.target,i,r,o,a=this.options,l=a.group,c=Ht.active,u=Of===l,h=a.sort,d=Tn||c,p,g=this,m=!1;if(Wy)return;function y(tt,Pt){os(tt,g,Vi({evt:t,isOwner:u,axis:p?"vertical":"horizontal",revert:o,dragRect:i,targetRect:r,canSort:h,fromSortable:d,target:s,completed:A,onMove:function(V,at){return kf(je,n,Tt,i,V,ze(V),t,at)},changed:w},Pt))}function E(){y("dragOverAnimationCapture"),g.captureAnimationState(),g!==d&&d.captureAnimationState()}function A(tt){return y("dragOverCompleted",{insertion:tt}),tt&&(u?c._hideClone():c._showClone(g),g!==d&&(We(Tt,Tn?Tn.options.ghostClass:c.options.ghostClass,!1),We(Tt,a.ghostClass,!0)),Tn!==g&&g!==Ht.active?Tn=g:g===Ht.active&&Tn&&(Tn=null),d===g&&(g._ignoreWhileAnimating=s),g.animateAll(function(){y("dragOverAnimationComplete"),g._ignoreWhileAnimating=null}),g!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(s===Tt&&!Tt.animated||s===n&&!s.animated)&&(Qa=null),!a.dragoverBubble&&!t.rootEl&&s!==document&&(Tt.parentNode[zn]._isOutsideThisEl(t.target),!tt&&zo(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),m=!0}function w(){ws=Qe(Tt),Wr=Qe(Tt,a.draggable),Qn({sortable:g,name:"change",toEl:n,newIndex:ws,newDraggableIndex:Wr,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),s=ei(s,a.draggable,n,!0),y("dragOver"),Ht.eventCanceled)return m;if(Tt.contains(t.target)||s.animated&&s.animatingX&&s.animatingY||g._ignoreWhileAnimating===s)return A(!1);if(Ip=!1,c&&!a.disabled&&(u?h||(o=Ye!==je):Tn===this||(this.lastPutMode=Of.checkPull(this,c,Tt,t))&&l.checkPut(this,c,Tt,t))){if(p=this._getDirection(t,s)==="vertical",i=ze(Tt),y("dragOverValid"),Ht.eventCanceled)return m;if(o)return Ye=je,E(),this._hideClone(),y("revert"),Ht.eventCanceled||(Qo?je.insertBefore(Tt,Qo):je.appendChild(Tt)),A(!0);var C=mE(n,a.draggable);if(!C||YW(t,p,this)&&!C.animated){if(C===Tt)return A(!1);if(C&&n===t.target&&(s=C),s&&(r=ze(s)),kf(je,n,Tt,i,s,r,t,!!s)!==!1)return E(),n.appendChild(Tt),Ye=n,w(),A(!0)}else if(C&&XW(t,p,this)){var O=Yl(n,0,a,!0);if(O===Tt)return A(!1);if(s=O,r=ze(s),kf(je,n,Tt,i,s,r,t,!1)!==!1)return E(),n.insertBefore(Tt,O),Ye=n,w(),A(!0)}else if(s.parentNode===n){r=ze(s);var D=0,x,T=Tt.parentNode!==n,_=!HW(Tt.animated&&Tt.toRect||i,s.animated&&s.toRect||r,p),S=p?"top":"left",P=j0(s,"top","top")||j0(Tt,"top","top"),R=P?P.scrollTop:void 0;Qa!==s&&(x=r[S],Pu=!1,Nf=!_&&a.invertSwap||T),D=qW(t,s,r,p,_?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,Nf,Qa===s);var I;if(D!==0){var z=Qe(Tt);do z-=D,I=Ye.children[z];while(I&&(Mt(I,"display")==="none"||I===te))}if(D===0||I===s)return A(!1);Qa=s,xu=D;var Y=s.nextElementSibling,B=!1;B=D===1;var K=kf(je,n,Tt,i,s,r,t,B);if(K!==!1)return(K===1||K===-1)&&(B=K===1),Wy=!0,setTimeout(GW,30),E(),B&&!Y?n.appendChild(Tt):s.parentNode.insertBefore(Tt,B?Y:s),P&&KO(P,0,R-P.scrollTop),Ye=Tt.parentNode,x!==void 0&&!Nf&&(Cd=Math.abs(x-ze(s)[S])),w(),A(!0)}if(n.contains(Tt))return A(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){ie(document,"mousemove",this._onTouchMove),ie(document,"touchmove",this._onTouchMove),ie(document,"pointermove",this._onTouchMove),ie(document,"dragover",zo),ie(document,"mousemove",zo),ie(document,"touchmove",zo)},_offUpEvents:function(){var t=this.el.ownerDocument;ie(t,"mouseup",this._onDrop),ie(t,"touchend",this._onDrop),ie(t,"pointerup",this._onDrop),ie(t,"touchcancel",this._onDrop),ie(document,"selectstart",this)},_onDrop:function(t){var n=this.el,s=this.options;if(ws=Qe(Tt),Wr=Qe(Tt,s.draggable),os("drop",this,{evt:t}),Ye=Tt&&Tt.parentNode,ws=Qe(Tt),Wr=Qe(Tt,s.draggable),Ht.eventCanceled){this._nulling();return}cl=!1,Nf=!1,Pu=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ky(this.cloneId),Ky(this._dragStartId),this.nativeDraggable&&(ie(document,"drop",this),ie(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Au&&Mt(document.body,"user-select",""),Mt(Tt,"transform",""),t&&(iu&&(t.cancelable&&t.preventDefault(),!s.dropBubble&&t.stopPropagation()),te&&te.parentNode&&te.parentNode.removeChild(te),(je===Ye||Tn&&Tn.lastPutMode!=="clone")&&qe&&qe.parentNode&&qe.parentNode.removeChild(qe),Tt&&(this.nativeDraggable&&ie(Tt,"dragend",this),hv(Tt),Tt.style["will-change"]="",iu&&!cl&&We(Tt,Tn?Tn.options.ghostClass:this.options.ghostClass,!1),We(Tt,this.options.chosenClass,!1),Qn({sortable:this,name:"unchoose",toEl:Ye,newIndex:null,newDraggableIndex:null,originalEvent:t}),je!==Ye?(ws>=0&&(Qn({rootEl:Ye,name:"add",toEl:Ye,fromEl:je,originalEvent:t}),Qn({sortable:this,name:"remove",toEl:Ye,originalEvent:t}),Qn({rootEl:Ye,name:"sort",toEl:Ye,fromEl:je,originalEvent:t}),Qn({sortable:this,name:"sort",toEl:Ye,originalEvent:t})),Tn&&Tn.save()):ws!==gl&&ws>=0&&(Qn({sortable:this,name:"update",toEl:Ye,originalEvent:t}),Qn({sortable:this,name:"sort",toEl:Ye,originalEvent:t})),Ht.active&&((ws==null||ws===-1)&&(ws=gl,Wr=Cu),Qn({sortable:this,name:"end",toEl:Ye,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){os("nulling",this),je=Tt=Ye=te=Qo=qe=Id=Yr=Ho=Js=iu=ws=Wr=gl=Cu=Qa=xu=Tn=Of=Ht.dragged=Ht.ghost=Ht.clone=Ht.active=null,xp.forEach(function(t){t.checked=!0}),xp.length=lv=cv=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":Tt&&(this._onDragOver(t),KW(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,s=this.el.children,i=0,r=s.length,o=this.options;i<r;i++)n=s[i],ei(n,o.draggable,this.el,!1)&&t.push(n.getAttribute(o.dataIdAttr)||JW(n));return t},sort:function(t,n){var s={},i=this.el;this.toArray().forEach(function(r,o){var a=i.children[o];ei(a,this.options.draggable,i,!1)&&(s[r]=a)},this),n&&this.captureAnimationState(),t.forEach(function(r){s[r]&&(i.removeChild(s[r]),i.appendChild(s[r]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return ei(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var s=this.options;if(n===void 0)return s[t];var i=Bh.modifyOption(this,t,n);typeof i<"u"?s[t]=i:s[t]=n,t==="group"&&YO(s)},destroy:function(){os("destroy",this);var t=this.el;t[zn]=null,ie(t,"mousedown",this._onTapStart),ie(t,"touchstart",this._onTapStart),ie(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(ie(t,"dragover",this),ie(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Cp.splice(Cp.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Yr){if(os("hideClone",this),Ht.eventCanceled)return;Mt(qe,"display","none"),this.options.removeCloneOnHide&&qe.parentNode&&qe.parentNode.removeChild(qe),Yr=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(Yr){if(os("showClone",this),Ht.eventCanceled)return;Tt.parentNode==je&&!this.options.group.revertClone?je.insertBefore(qe,Tt):Qo?je.insertBefore(qe,Qo):je.appendChild(qe),this.options.group.revertClone&&this.animate(Tt,qe),Mt(qe,"display",""),Yr=!1}}};function KW(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function kf(e,t,n,s,i,r,o,a){var l,c=e[zn],u=c.options.onMove,h;return window.CustomEvent&&!xr&&!Uh?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=e,l.dragged=n,l.draggedRect=s,l.related=i||t,l.relatedRect=r||ze(t),l.willInsertAfter=a,l.originalEvent=o,e.dispatchEvent(l),u&&(h=u.call(c,l,o)),h}function hv(e){e.draggable=!1}function GW(){Wy=!1}function XW(e,t,n){var s=ze(Yl(n.el,0,n.options,!0)),i=10;return t?e.clientX<s.left-i||e.clientY<s.top&&e.clientX<s.right:e.clientY<s.top-i||e.clientY<s.bottom&&e.clientX<s.left}function YW(e,t,n){var s=ze(mE(n.el,n.options.draggable)),i=10;return t?e.clientX>s.right+i||e.clientX<=s.right&&e.clientY>s.bottom&&e.clientX>=s.left:e.clientX>s.right&&e.clientY>s.top||e.clientX<=s.right&&e.clientY>s.bottom+i}function qW(e,t,n,s,i,r,o,a){var l=s?e.clientY:e.clientX,c=s?n.height:n.width,u=s?n.top:n.left,h=s?n.bottom:n.right,d=!1;if(!o){if(a&&Cd<c*i){if(!Pu&&(xu===1?l>u+c*r/2:l<h-c*r/2)&&(Pu=!0),Pu)d=!0;else if(xu===1?l<u+Cd:l>h-Cd)return-xu}else if(l>u+c*(1-i)/2&&l<h-c*(1-i)/2)return QW(t)}return d=d||o,d&&(l<u+c*r/2||l>h-c*r/2)?l>u+c/2?1:-1:0}function QW(e){return Qe(Tt)<Qe(e)?1:-1}function JW(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,s=0;n--;)s+=t.charCodeAt(n);return s.toString(36)}function ZW(e){xp.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var s=t[n];s.checked&&xp.push(s)}}function xd(e){return setTimeout(e,0)}function Ky(e){return clearTimeout(e)}nm&&he(document,"touchmove",function(e){(Ht.active||cl)&&e.cancelable&&e.preventDefault()});Ht.utils={on:he,off:ie,css:Mt,find:zO,is:function(t,n){return!!ei(t,n,t,!1)},extend:LW,throttle:WO,closest:ei,toggleClass:We,clone:vE,index:Qe,nextTick:xd,cancelNextTick:Ky,detectDirection:XO,getChild:Yl};Ht.get=function(e){return e[zn]};Ht.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(s){if(!s.prototype||!s.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(s));s.utils&&(Ht.utils=Vi(Vi({},Ht.utils),s.utils)),Bh.mount(s)})};Ht.create=function(e,t){return new Ht(e,t)};Ht.version=NW;var an=[],ru,Gy,Xy=!1,fv,dv,Pp,ou;function tK(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var s=n.originalEvent;this.sortable.nativeDraggable?he(document,"dragover",this._handleAutoScroll):this.options.supportPointer?he(document,"pointermove",this._handleFallbackAutoScroll):s.touches?he(document,"touchmove",this._handleFallbackAutoScroll):he(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var s=n.originalEvent;!this.options.dragOverBubble&&!s.rootEl&&this._handleAutoScroll(s)},drop:function(){this.sortable.nativeDraggable?ie(document,"dragover",this._handleAutoScroll):(ie(document,"pointermove",this._handleFallbackAutoScroll),ie(document,"touchmove",this._handleFallbackAutoScroll),ie(document,"mousemove",this._handleFallbackAutoScroll)),X0(),Pd(),VW()},nulling:function(){Pp=Gy=ru=Xy=ou=fv=dv=null,an.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,s){var i=this,r=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(r,o);if(Pp=n,s||this.options.forceAutoScrollFallback||Uh||xr||Au){pv(n,this.options,a,s);var l=Jr(a,!0);Xy&&(!ou||r!==fv||o!==dv)&&(ou&&X0(),ou=setInterval(function(){var c=Jr(document.elementFromPoint(r,o),!0);c!==l&&(l=c,Pd()),pv(n,i.options,c,s)},10),fv=r,dv=o)}else{if(!this.options.bubbleScroll||Jr(a,!0)===Pi()){Pd();return}pv(n,this.options,Jr(a,!1),!1)}}},Ws(e,{pluginName:"scroll",initializeByDefault:!0})}function Pd(){an.forEach(function(e){clearInterval(e.pid)}),an=[]}function X0(){clearInterval(ou)}var pv=WO(function(e,t,n,s){if(t.scroll){var i=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,o=t.scrollSensitivity,a=t.scrollSpeed,l=Pi(),c=!1,u;Gy!==n&&(Gy=n,Pd(),ru=t.scroll,u=t.scrollFn,ru===!0&&(ru=Jr(n,!0)));var h=0,d=ru;do{var p=d,g=ze(p),m=g.top,y=g.bottom,E=g.left,A=g.right,w=g.width,C=g.height,O=void 0,D=void 0,x=p.scrollWidth,T=p.scrollHeight,_=Mt(p),S=p.scrollLeft,P=p.scrollTop;p===l?(O=w<x&&(_.overflowX==="auto"||_.overflowX==="scroll"||_.overflowX==="visible"),D=C<T&&(_.overflowY==="auto"||_.overflowY==="scroll"||_.overflowY==="visible")):(O=w<x&&(_.overflowX==="auto"||_.overflowX==="scroll"),D=C<T&&(_.overflowY==="auto"||_.overflowY==="scroll"));var R=O&&(Math.abs(A-i)<=o&&S+w<x)-(Math.abs(E-i)<=o&&!!S),I=D&&(Math.abs(y-r)<=o&&P+C<T)-(Math.abs(m-r)<=o&&!!P);if(!an[h])for(var z=0;z<=h;z++)an[z]||(an[z]={});(an[h].vx!=R||an[h].vy!=I||an[h].el!==p)&&(an[h].el=p,an[h].vx=R,an[h].vy=I,clearInterval(an[h].pid),(R!=0||I!=0)&&(c=!0,an[h].pid=setInterval((function(){s&&this.layer===0&&Ht.active._onTouchMove(Pp);var Y=an[this.layer].vy?an[this.layer].vy*a:0,B=an[this.layer].vx?an[this.layer].vx*a:0;typeof u=="function"&&u.call(Ht.dragged.parentNode[zn],B,Y,e,Pp,an[this.layer].el)!=="continue"||KO(an[this.layer].el,B,Y)}).bind({layer:h}),24))),h++}while(t.bubbleScroll&&d!==l&&(d=Jr(d,!1)));Xy=c}},30),JO=function(t){var n=t.originalEvent,s=t.putSortable,i=t.dragEl,r=t.activeSortable,o=t.dispatchSortableEvent,a=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(n){var c=s||r;a();var u=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,h=document.elementFromPoint(u.clientX,u.clientY);l(),c&&!c.el.contains(h)&&(o("spill"),this.onSpill({dragEl:i,putSortable:s}))}};function yE(){}yE.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,s=t.putSortable;this.sortable.captureAnimationState(),s&&s.captureAnimationState();var i=Yl(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),s&&s.animateAll()},drop:JO};Ws(yE,{pluginName:"revertOnSpill"});function _E(){}_E.prototype={onSpill:function(t){var n=t.dragEl,s=t.putSortable,i=s||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:JO};Ws(_E,{pluginName:"removeOnSpill"});var Ms;function eK(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(n){var s=n.dragEl;Ms=s},dragOverValid:function(n){var s=n.completed,i=n.target,r=n.onMove,o=n.activeSortable,a=n.changed,l=n.cancel;if(o.options.swap){var c=this.sortable.el,u=this.options;if(i&&i!==c){var h=Ms;r(i)!==!1?(We(i,u.swapClass,!0),Ms=i):Ms=null,h&&h!==Ms&&We(h,u.swapClass,!1)}a(),s(!0),l()}},drop:function(n){var s=n.activeSortable,i=n.putSortable,r=n.dragEl,o=i||this.sortable,a=this.options;Ms&&We(Ms,a.swapClass,!1),Ms&&(a.swap||i&&i.options.swap)&&r!==Ms&&(o.captureAnimationState(),o!==s&&s.captureAnimationState(),nK(r,Ms),o.animateAll(),o!==s&&s.animateAll())},nulling:function(){Ms=null}},Ws(e,{pluginName:"swap",eventProperties:function(){return{swapItem:Ms}}})}function nK(e,t){var n=e.parentNode,s=t.parentNode,i,r;!n||!s||n.isEqualNode(t)||s.isEqualNode(e)||(i=Qe(e),r=Qe(t),n.isEqualNode(s)&&i<r&&r++,n.insertBefore(t,n.children[i]),s.insertBefore(e,s.children[r]))}var Qt=[],Ss=[],$c,Zs,Uc=!1,as=!1,Ja=!1,De,Bc,Mf;function sK(){function e(t){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));t.options.supportPointer?he(document,"pointerup",this._deselectMultiDrag):(he(document,"mouseup",this._deselectMultiDrag),he(document,"touchend",this._deselectMultiDrag)),he(document,"keydown",this._checkKeyDown),he(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(i,r){var o="";Qt.length&&Zs===t?Qt.forEach(function(a,l){o+=(l?", ":"")+a.textContent}):o=r.textContent,i.setData("Text",o)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var s=n.dragEl;De=s},delayEnded:function(){this.isMultiDrag=~Qt.indexOf(De)},setupClone:function(n){var s=n.sortable,i=n.cancel;if(this.isMultiDrag){for(var r=0;r<Qt.length;r++)Ss.push(vE(Qt[r])),Ss[r].sortableIndex=Qt[r].sortableIndex,Ss[r].draggable=!1,Ss[r].style["will-change"]="",We(Ss[r],this.options.selectedClass,!1),Qt[r]===De&&We(Ss[r],this.options.chosenClass,!1);s._hideClone(),i()}},clone:function(n){var s=n.sortable,i=n.rootEl,r=n.dispatchSortableEvent,o=n.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||Qt.length&&Zs===s&&(Y0(!0,i),r("clone"),o()))},showClone:function(n){var s=n.cloneNowShown,i=n.rootEl,r=n.cancel;this.isMultiDrag&&(Y0(!1,i),Ss.forEach(function(o){Mt(o,"display","")}),s(),Mf=!1,r())},hideClone:function(n){var s=this;n.sortable;var i=n.cloneNowHidden,r=n.cancel;this.isMultiDrag&&(Ss.forEach(function(o){Mt(o,"display","none"),s.options.removeCloneOnHide&&o.parentNode&&o.parentNode.removeChild(o)}),i(),Mf=!0,r())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&Zs&&Zs.multiDrag._deselectMultiDrag(),Qt.forEach(function(s){s.sortableIndex=Qe(s)}),Qt=Qt.sort(function(s,i){return s.sortableIndex-i.sortableIndex}),Ja=!0},dragStarted:function(n){var s=this,i=n.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){Qt.forEach(function(o){o!==De&&Mt(o,"position","absolute")});var r=ze(De,!1,!0,!0);Qt.forEach(function(o){o!==De&&z0(o,r)}),as=!0,Uc=!0}i.animateAll(function(){as=!1,Uc=!1,s.options.animation&&Qt.forEach(function(o){ov(o)}),s.options.sort&&Lf()})}},dragOver:function(n){var s=n.target,i=n.completed,r=n.cancel;as&&~Qt.indexOf(s)&&(i(!1),r())},revert:function(n){var s=n.fromSortable,i=n.rootEl,r=n.sortable,o=n.dragRect;Qt.length>1&&(Qt.forEach(function(a){r.addAnimationState({target:a,rect:as?ze(a):o}),ov(a),a.fromRect=o,s.removeAnimationState(a)}),as=!1,iK(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(n){var s=n.sortable,i=n.isOwner,r=n.insertion,o=n.activeSortable,a=n.parentEl,l=n.putSortable,c=this.options;if(r){if(i&&o._hideClone(),Uc=!1,c.animation&&Qt.length>1&&(as||!i&&!o.options.sort&&!l)){var u=ze(De,!1,!0,!0);Qt.forEach(function(d){d!==De&&(z0(d,u),a.appendChild(d))}),as=!0}if(!i)if(as||Lf(),Qt.length>1){var h=Mf;o._showClone(s),o.options.animation&&!Mf&&h&&Ss.forEach(function(d){o.addAnimationState({target:d,rect:Bc}),d.fromRect=Bc,d.thisAnimationDuration=null})}else o._showClone(s)}},dragOverAnimationCapture:function(n){var s=n.dragRect,i=n.isOwner,r=n.activeSortable;if(Qt.forEach(function(a){a.thisAnimationDuration=null}),r.options.animation&&!i&&r.multiDrag.isMultiDrag){Bc=Ws({},s);var o=ma(De,!0);Bc.top-=o.f,Bc.left-=o.e}},dragOverAnimationComplete:function(){as&&(as=!1,Lf())},drop:function(n){var s=n.originalEvent,i=n.rootEl,r=n.parentEl,o=n.sortable,a=n.dispatchSortableEvent,l=n.oldIndex,c=n.putSortable,u=c||this.sortable;if(s){var h=this.options,d=r.children;if(!Ja)if(h.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),We(De,h.selectedClass,!~Qt.indexOf(De)),~Qt.indexOf(De))Qt.splice(Qt.indexOf(De),1),$c=null,su({sortable:o,rootEl:i,name:"deselect",targetEl:De});else{if(Qt.push(De),su({sortable:o,rootEl:i,name:"select",targetEl:De}),s.shiftKey&&$c&&o.el.contains($c)){var p=Qe($c),g=Qe(De);if(~p&&~g&&p!==g){var m,y;for(g>p?(y=p,m=g):(y=g,m=p+1);y<m;y++)~Qt.indexOf(d[y])||(We(d[y],h.selectedClass,!0),Qt.push(d[y]),su({sortable:o,rootEl:i,name:"select",targetEl:d[y]}))}}else $c=De;Zs=u}if(Ja&&this.isMultiDrag){if(as=!1,(r[zn].options.sort||r!==i)&&Qt.length>1){var E=ze(De),A=Qe(De,":not(."+this.options.selectedClass+")");if(!Uc&&h.animation&&(De.thisAnimationDuration=null),u.captureAnimationState(),!Uc&&(h.animation&&(De.fromRect=E,Qt.forEach(function(C){if(C.thisAnimationDuration=null,C!==De){var O=as?ze(C):E;C.fromRect=O,u.addAnimationState({target:C,rect:O})}})),Lf(),Qt.forEach(function(C){d[A]?r.insertBefore(C,d[A]):r.appendChild(C),A++}),l===Qe(De))){var w=!1;Qt.forEach(function(C){if(C.sortableIndex!==Qe(C)){w=!0;return}}),w&&a("update")}Qt.forEach(function(C){ov(C)}),u.animateAll()}Zs=u}(i===r||c&&c.lastPutMode!=="clone")&&Ss.forEach(function(C){C.parentNode&&C.parentNode.removeChild(C)})}},nullingGlobal:function(){this.isMultiDrag=Ja=!1,Ss.length=0},destroyGlobal:function(){this._deselectMultiDrag(),ie(document,"pointerup",this._deselectMultiDrag),ie(document,"mouseup",this._deselectMultiDrag),ie(document,"touchend",this._deselectMultiDrag),ie(document,"keydown",this._checkKeyDown),ie(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof Ja<"u"&&Ja)&&Zs===this.sortable&&!(n&&ei(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;Qt.length;){var s=Qt[0];We(s,this.options.selectedClass,!1),Qt.shift(),su({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:s})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Ws(e,{pluginName:"multiDrag",utils:{select:function(n){var s=n.parentNode[zn];!s||!s.options.multiDrag||~Qt.indexOf(n)||(Zs&&Zs!==s&&(Zs.multiDrag._deselectMultiDrag(),Zs=s),We(n,s.options.selectedClass,!0),Qt.push(n))},deselect:function(n){var s=n.parentNode[zn],i=Qt.indexOf(n);!s||!s.options.multiDrag||!~i||(We(n,s.options.selectedClass,!1),Qt.splice(i,1))}},eventProperties:function(){var n=this,s=[],i=[];return Qt.forEach(function(r){s.push({multiDragElement:r,index:r.sortableIndex});var o;as&&r!==De?o=-1:as?o=Qe(r,":not(."+n.options.selectedClass+")"):o=Qe(r),i.push({multiDragElement:r,index:o})}),{items:CW(Qt),clones:[].concat(Ss),oldIndicies:s,newIndicies:i}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function iK(e,t){Qt.forEach(function(n,s){var i=t.children[n.sortableIndex+(e?Number(s):0)];i?t.insertBefore(n,i):t.appendChild(n)})}function Y0(e,t){Ss.forEach(function(n,s){var i=t.children[n.sortableIndex+(e?Number(s):0)];i?t.insertBefore(n,i):t.appendChild(n)})}function Lf(){Qt.forEach(function(e){e!==De&&e.parentNode&&e.parentNode.removeChild(e)})}Ht.mount(new tK);Ht.mount(_E,yE);const rK=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:sK,Sortable:Ht,Swap:eK,default:Ht},Symbol.toStringTag,{value:"Module"})),oK=Fg(rK);var aK=yd.exports,q0;function lK(){return q0||(q0=1,function(e,t){(function(s,i){e.exports=i(SW(),oK)})(typeof self<"u"?self:aK,function(n,s){return function(i){var r={};function o(a){if(r[a])return r[a].exports;var l=r[a]={i:a,l:!1,exports:{}};return i[a].call(l.exports,l,l.exports,o),l.l=!0,l.exports}return o.m=i,o.c=r,o.d=function(a,l,c){o.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:c})},o.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},o.t=function(a,l){if(l&1&&(a=o(a)),l&8||l&4&&typeof a=="object"&&a&&a.__esModule)return a;var c=Object.create(null);if(o.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:a}),l&2&&typeof a!="string")for(var u in a)o.d(c,u,(function(h){return a[h]}).bind(null,u));return c},o.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return o.d(l,"a",l),l},o.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},o.p="",o(o.s="fb15")}({"00ee":function(i,r,o){var a=o("b622"),l=a("toStringTag"),c={};c[l]="z",i.exports=String(c)==="[object z]"},"0366":function(i,r,o){var a=o("1c0b");i.exports=function(l,c,u){if(a(l),c===void 0)return l;switch(u){case 0:return function(){return l.call(c)};case 1:return function(h){return l.call(c,h)};case 2:return function(h,d){return l.call(c,h,d)};case 3:return function(h,d,p){return l.call(c,h,d,p)}}return function(){return l.apply(c,arguments)}}},"057f":function(i,r,o){var a=o("fc6a"),l=o("241c").f,c={}.toString,u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],h=function(d){try{return l(d)}catch{return u.slice()}};i.exports.f=function(p){return u&&c.call(p)=="[object Window]"?h(p):l(a(p))}},"06cf":function(i,r,o){var a=o("83ab"),l=o("d1e7"),c=o("5c6c"),u=o("fc6a"),h=o("c04e"),d=o("5135"),p=o("0cfb"),g=Object.getOwnPropertyDescriptor;r.f=a?g:function(y,E){if(y=u(y),E=h(E,!0),p)try{return g(y,E)}catch{}if(d(y,E))return c(!l.f.call(y,E),y[E])}},"0cfb":function(i,r,o){var a=o("83ab"),l=o("d039"),c=o("cc12");i.exports=!a&&!l(function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(i,r,o){var a=o("23e7"),l=o("d58f").left,c=o("a640"),u=o("ae40"),h=c("reduce"),d=u("reduce",{1:0});a({target:"Array",proto:!0,forced:!h||!d},{reduce:function(g){return l(this,g,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(i,r,o){var a=o("c6b6"),l=o("9263");i.exports=function(c,u){var h=c.exec;if(typeof h=="function"){var d=h.call(c,u);if(typeof d!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return d}if(a(c)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return l.call(c,u)}},"159b":function(i,r,o){var a=o("da84"),l=o("fdbc"),c=o("17c2"),u=o("9112");for(var h in l){var d=a[h],p=d&&d.prototype;if(p&&p.forEach!==c)try{u(p,"forEach",c)}catch{p.forEach=c}}},"17c2":function(i,r,o){var a=o("b727").forEach,l=o("a640"),c=o("ae40"),u=l("forEach"),h=c("forEach");i.exports=!u||!h?function(p){return a(this,p,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(i,r,o){var a=o("d066");i.exports=a("document","documentElement")},"1c0b":function(i,r){i.exports=function(o){if(typeof o!="function")throw TypeError(String(o)+" is not a function");return o}},"1c7e":function(i,r,o){var a=o("b622"),l=a("iterator"),c=!1;try{var u=0,h={next:function(){return{done:!!u++}},return:function(){c=!0}};h[l]=function(){return this},Array.from(h,function(){throw 2})}catch{}i.exports=function(d,p){if(!p&&!c)return!1;var g=!1;try{var m={};m[l]=function(){return{next:function(){return{done:g=!0}}}},d(m)}catch{}return g}},"1d80":function(i,r){i.exports=function(o){if(o==null)throw TypeError("Can't call method on "+o);return o}},"1dde":function(i,r,o){var a=o("d039"),l=o("b622"),c=o("2d00"),u=l("species");i.exports=function(h){return c>=51||!a(function(){var d=[],p=d.constructor={};return p[u]=function(){return{foo:1}},d[h](Boolean).foo!==1})}},"23cb":function(i,r,o){var a=o("a691"),l=Math.max,c=Math.min;i.exports=function(u,h){var d=a(u);return d<0?l(d+h,0):c(d,h)}},"23e7":function(i,r,o){var a=o("da84"),l=o("06cf").f,c=o("9112"),u=o("6eeb"),h=o("ce4e"),d=o("e893"),p=o("94ca");i.exports=function(g,m){var y=g.target,E=g.global,A=g.stat,w,C,O,D,x,T;if(E?C=a:A?C=a[y]||h(y,{}):C=(a[y]||{}).prototype,C)for(O in m){if(x=m[O],g.noTargetGet?(T=l(C,O),D=T&&T.value):D=C[O],w=p(E?O:y+(A?".":"#")+O,g.forced),!w&&D!==void 0){if(typeof x==typeof D)continue;d(x,D)}(g.sham||D&&D.sham)&&c(x,"sham",!0),u(C,O,x,g)}}},"241c":function(i,r,o){var a=o("ca84"),l=o("7839"),c=l.concat("length","prototype");r.f=Object.getOwnPropertyNames||function(h){return a(h,c)}},"25f0":function(i,r,o){var a=o("6eeb"),l=o("825a"),c=o("d039"),u=o("ad6d"),h="toString",d=RegExp.prototype,p=d[h],g=c(function(){return p.call({source:"a",flags:"b"})!="/a/b"}),m=p.name!=h;(g||m)&&a(RegExp.prototype,h,function(){var E=l(this),A=String(E.source),w=E.flags,C=String(w===void 0&&E instanceof RegExp&&!("flags"in d)?u.call(E):w);return"/"+A+"/"+C},{unsafe:!0})},"2ca0":function(i,r,o){var a=o("23e7"),l=o("06cf").f,c=o("50c4"),u=o("5a34"),h=o("1d80"),d=o("ab13"),p=o("c430"),g="".startsWith,m=Math.min,y=d("startsWith"),E=!p&&!y&&!!function(){var A=l(String.prototype,"startsWith");return A&&!A.writable}();a({target:"String",proto:!0,forced:!E&&!y},{startsWith:function(w){var C=String(h(this));u(w);var O=c(m(arguments.length>1?arguments[1]:void 0,C.length)),D=String(w);return g?g.call(C,D,O):C.slice(O,O+D.length)===D}})},"2d00":function(i,r,o){var a=o("da84"),l=o("342f"),c=a.process,u=c&&c.versions,h=u&&u.v8,d,p;h?(d=h.split("."),p=d[0]+d[1]):l&&(d=l.match(/Edge\/(\d+)/),(!d||d[1]>=74)&&(d=l.match(/Chrome\/(\d+)/),d&&(p=d[1]))),i.exports=p&&+p},"342f":function(i,r,o){var a=o("d066");i.exports=a("navigator","userAgent")||""},"35a1":function(i,r,o){var a=o("f5df"),l=o("3f8c"),c=o("b622"),u=c("iterator");i.exports=function(h){if(h!=null)return h[u]||h["@@iterator"]||l[a(h)]}},"37e8":function(i,r,o){var a=o("83ab"),l=o("9bf2"),c=o("825a"),u=o("df75");i.exports=a?Object.defineProperties:function(d,p){c(d);for(var g=u(p),m=g.length,y=0,E;m>y;)l.f(d,E=g[y++],p[E]);return d}},"3bbe":function(i,r,o){var a=o("861d");i.exports=function(l){if(!a(l)&&l!==null)throw TypeError("Can't set "+String(l)+" as a prototype");return l}},"3ca3":function(i,r,o){var a=o("6547").charAt,l=o("69f3"),c=o("7dd0"),u="String Iterator",h=l.set,d=l.getterFor(u);c(String,"String",function(p){h(this,{type:u,string:String(p),index:0})},function(){var g=d(this),m=g.string,y=g.index,E;return y>=m.length?{value:void 0,done:!0}:(E=a(m,y),g.index+=E.length,{value:E,done:!1})})},"3f8c":function(i,r){i.exports={}},4160:function(i,r,o){var a=o("23e7"),l=o("17c2");a({target:"Array",proto:!0,forced:[].forEach!=l},{forEach:l})},"428f":function(i,r,o){var a=o("da84");i.exports=a},"44ad":function(i,r,o){var a=o("d039"),l=o("c6b6"),c="".split;i.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(u){return l(u)=="String"?c.call(u,""):Object(u)}:Object},"44d2":function(i,r,o){var a=o("b622"),l=o("7c73"),c=o("9bf2"),u=a("unscopables"),h=Array.prototype;h[u]==null&&c.f(h,u,{configurable:!0,value:l(null)}),i.exports=function(d){h[u][d]=!0}},"44e7":function(i,r,o){var a=o("861d"),l=o("c6b6"),c=o("b622"),u=c("match");i.exports=function(h){var d;return a(h)&&((d=h[u])!==void 0?!!d:l(h)=="RegExp")}},4930:function(i,r,o){var a=o("d039");i.exports=!!Object.getOwnPropertySymbols&&!a(function(){return!String(Symbol())})},"4d64":function(i,r,o){var a=o("fc6a"),l=o("50c4"),c=o("23cb"),u=function(h){return function(d,p,g){var m=a(d),y=l(m.length),E=c(g,y),A;if(h&&p!=p){for(;y>E;)if(A=m[E++],A!=A)return!0}else for(;y>E;E++)if((h||E in m)&&m[E]===p)return h||E||0;return!h&&-1}};i.exports={includes:u(!0),indexOf:u(!1)}},"4de4":function(i,r,o){var a=o("23e7"),l=o("b727").filter,c=o("1dde"),u=o("ae40"),h=c("filter"),d=u("filter");a({target:"Array",proto:!0,forced:!h||!d},{filter:function(g){return l(this,g,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(i,r,o){var a=o("0366"),l=o("7b0b"),c=o("9bdd"),u=o("e95a"),h=o("50c4"),d=o("8418"),p=o("35a1");i.exports=function(m){var y=l(m),E=typeof this=="function"?this:Array,A=arguments.length,w=A>1?arguments[1]:void 0,C=w!==void 0,O=p(y),D=0,x,T,_,S,P,R;if(C&&(w=a(w,A>2?arguments[2]:void 0,2)),O!=null&&!(E==Array&&u(O)))for(S=O.call(y),P=S.next,T=new E;!(_=P.call(S)).done;D++)R=C?c(S,w,[_.value,D],!0):_.value,d(T,D,R);else for(x=h(y.length),T=new E(x);x>D;D++)R=C?w(y[D],D):y[D],d(T,D,R);return T.length=D,T}},"4fad":function(i,r,o){var a=o("23e7"),l=o("6f53").entries;a({target:"Object",stat:!0},{entries:function(u){return l(u)}})},"50c4":function(i,r,o){var a=o("a691"),l=Math.min;i.exports=function(c){return c>0?l(a(c),9007199254740991):0}},5135:function(i,r){var o={}.hasOwnProperty;i.exports=function(a,l){return o.call(a,l)}},5319:function(i,r,o){var a=o("d784"),l=o("825a"),c=o("7b0b"),u=o("50c4"),h=o("a691"),d=o("1d80"),p=o("8aa5"),g=o("14c3"),m=Math.max,y=Math.min,E=Math.floor,A=/\$([$&'`]|\d\d?|<[^>]*>)/g,w=/\$([$&'`]|\d\d?)/g,C=function(O){return O===void 0?O:String(O)};a("replace",2,function(O,D,x,T){var _=T.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,S=T.REPLACE_KEEPS_$0,P=_?"$":"$0";return[function(z,Y){var B=d(this),K=z?.[O];return K!==void 0?K.call(z,B,Y):D.call(String(B),z,Y)},function(I,z){if(!_&&S||typeof z=="string"&&z.indexOf(P)===-1){var Y=x(D,I,this,z);if(Y.done)return Y.value}var B=l(I),K=String(this),tt=typeof z=="function";tt||(z=String(z));var Pt=B.global;if(Pt){var U=B.unicode;B.lastIndex=0}for(var V=[];;){var at=g(B,K);if(at===null||(V.push(at),!Pt))break;var ut=String(at[0]);ut===""&&(B.lastIndex=p(K,u(B.lastIndex),U))}for(var _t="",yt=0,gt=0;gt<V.length;gt++){at=V[gt];for(var F=String(at[0]),J=m(y(h(at.index),K.length),0),et=[],dt=1;dt<at.length;dt++)et.push(C(at[dt]));var At=at.groups;if(tt){var Dt=[F].concat(et,J,K);At!==void 0&&Dt.push(At);var M=String(z.apply(void 0,Dt))}else M=R(F,K,J,et,At,z);J>=yt&&(_t+=K.slice(yt,J)+M,yt=J+F.length)}return _t+K.slice(yt)}];function R(I,z,Y,B,K,tt){var Pt=Y+I.length,U=B.length,V=w;return K!==void 0&&(K=c(K),V=A),D.call(tt,V,function(at,ut){var _t;switch(ut.charAt(0)){case"$":return"$";case"&":return I;case"`":return z.slice(0,Y);case"'":return z.slice(Pt);case"<":_t=K[ut.slice(1,-1)];break;default:var yt=+ut;if(yt===0)return at;if(yt>U){var gt=E(yt/10);return gt===0?at:gt<=U?B[gt-1]===void 0?ut.charAt(1):B[gt-1]+ut.charAt(1):at}_t=B[yt-1]}return _t===void 0?"":_t})}})},5692:function(i,r,o){var a=o("c430"),l=o("c6cd");(i.exports=function(c,u){return l[c]||(l[c]=u!==void 0?u:{})})("versions",[]).push({version:"3.6.5",mode:a?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(i,r,o){var a=o("d066"),l=o("241c"),c=o("7418"),u=o("825a");i.exports=a("Reflect","ownKeys")||function(d){var p=l.f(u(d)),g=c.f;return g?p.concat(g(d)):p}},"5a34":function(i,r,o){var a=o("44e7");i.exports=function(l){if(a(l))throw TypeError("The method doesn't accept regular expressions");return l}},"5c6c":function(i,r){i.exports=function(o,a){return{enumerable:!(o&1),configurable:!(o&2),writable:!(o&4),value:a}}},"5db7":function(i,r,o){var a=o("23e7"),l=o("a2bf"),c=o("7b0b"),u=o("50c4"),h=o("1c0b"),d=o("65f0");a({target:"Array",proto:!0},{flatMap:function(g){var m=c(this),y=u(m.length),E;return h(g),E=d(m,0),E.length=l(E,m,m,y,0,1,g,arguments.length>1?arguments[1]:void 0),E}})},6547:function(i,r,o){var a=o("a691"),l=o("1d80"),c=function(u){return function(h,d){var p=String(l(h)),g=a(d),m=p.length,y,E;return g<0||g>=m?u?"":void 0:(y=p.charCodeAt(g),y<55296||y>56319||g+1===m||(E=p.charCodeAt(g+1))<56320||E>57343?u?p.charAt(g):y:u?p.slice(g,g+2):(y-55296<<10)+(E-56320)+65536)}};i.exports={codeAt:c(!1),charAt:c(!0)}},"65f0":function(i,r,o){var a=o("861d"),l=o("e8b5"),c=o("b622"),u=c("species");i.exports=function(h,d){var p;return l(h)&&(p=h.constructor,typeof p=="function"&&(p===Array||l(p.prototype))?p=void 0:a(p)&&(p=p[u],p===null&&(p=void 0))),new(p===void 0?Array:p)(d===0?0:d)}},"69f3":function(i,r,o){var a=o("7f9a"),l=o("da84"),c=o("861d"),u=o("9112"),h=o("5135"),d=o("f772"),p=o("d012"),g=l.WeakMap,m,y,E,A=function(_){return E(_)?y(_):m(_,{})},w=function(_){return function(S){var P;if(!c(S)||(P=y(S)).type!==_)throw TypeError("Incompatible receiver, "+_+" required");return P}};if(a){var C=new g,O=C.get,D=C.has,x=C.set;m=function(_,S){return x.call(C,_,S),S},y=function(_){return O.call(C,_)||{}},E=function(_){return D.call(C,_)}}else{var T=d("state");p[T]=!0,m=function(_,S){return u(_,T,S),S},y=function(_){return h(_,T)?_[T]:{}},E=function(_){return h(_,T)}}i.exports={set:m,get:y,has:E,enforce:A,getterFor:w}},"6eeb":function(i,r,o){var a=o("da84"),l=o("9112"),c=o("5135"),u=o("ce4e"),h=o("8925"),d=o("69f3"),p=d.get,g=d.enforce,m=String(String).split("String");(i.exports=function(y,E,A,w){var C=w?!!w.unsafe:!1,O=w?!!w.enumerable:!1,D=w?!!w.noTargetGet:!1;if(typeof A=="function"&&(typeof E=="string"&&!c(A,"name")&&l(A,"name",E),g(A).source=m.join(typeof E=="string"?E:"")),y===a){O?y[E]=A:u(E,A);return}else C?!D&&y[E]&&(O=!0):delete y[E];O?y[E]=A:l(y,E,A)})(Function.prototype,"toString",function(){return typeof this=="function"&&p(this).source||h(this)})},"6f53":function(i,r,o){var a=o("83ab"),l=o("df75"),c=o("fc6a"),u=o("d1e7").f,h=function(d){return function(p){for(var g=c(p),m=l(g),y=m.length,E=0,A=[],w;y>E;)w=m[E++],(!a||u.call(g,w))&&A.push(d?[w,g[w]]:g[w]);return A}};i.exports={entries:h(!0),values:h(!1)}},"73d9":function(i,r,o){var a=o("44d2");a("flatMap")},7418:function(i,r){r.f=Object.getOwnPropertySymbols},"746f":function(i,r,o){var a=o("428f"),l=o("5135"),c=o("e538"),u=o("9bf2").f;i.exports=function(h){var d=a.Symbol||(a.Symbol={});l(d,h)||u(d,h,{value:c.f(h)})}},7839:function(i,r){i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(i,r,o){var a=o("1d80");i.exports=function(l){return Object(a(l))}},"7c73":function(i,r,o){var a=o("825a"),l=o("37e8"),c=o("7839"),u=o("d012"),h=o("1be4"),d=o("cc12"),p=o("f772"),g=">",m="<",y="prototype",E="script",A=p("IE_PROTO"),w=function(){},C=function(_){return m+E+g+_+m+"/"+E+g},O=function(_){_.write(C("")),_.close();var S=_.parentWindow.Object;return _=null,S},D=function(){var _=d("iframe"),S="java"+E+":",P;return _.style.display="none",h.appendChild(_),_.src=String(S),P=_.contentWindow.document,P.open(),P.write(C("document.F=Object")),P.close(),P.F},x,T=function(){try{x=document.domain&&new ActiveXObject("htmlfile")}catch{}T=x?O(x):D();for(var _=c.length;_--;)delete T[y][c[_]];return T()};u[A]=!0,i.exports=Object.create||function(S,P){var R;return S!==null?(w[y]=a(S),R=new w,w[y]=null,R[A]=S):R=T(),P===void 0?R:l(R,P)}},"7dd0":function(i,r,o){var a=o("23e7"),l=o("9ed3"),c=o("e163"),u=o("d2bb"),h=o("d44e"),d=o("9112"),p=o("6eeb"),g=o("b622"),m=o("c430"),y=o("3f8c"),E=o("ae93"),A=E.IteratorPrototype,w=E.BUGGY_SAFARI_ITERATORS,C=g("iterator"),O="keys",D="values",x="entries",T=function(){return this};i.exports=function(_,S,P,R,I,z,Y){l(P,S,R);var B=function(gt){if(gt===I&&V)return V;if(!w&&gt in Pt)return Pt[gt];switch(gt){case O:return function(){return new P(this,gt)};case D:return function(){return new P(this,gt)};case x:return function(){return new P(this,gt)}}return function(){return new P(this)}},K=S+" Iterator",tt=!1,Pt=_.prototype,U=Pt[C]||Pt["@@iterator"]||I&&Pt[I],V=!w&&U||B(I),at=S=="Array"&&Pt.entries||U,ut,_t,yt;if(at&&(ut=c(at.call(new _)),A!==Object.prototype&&ut.next&&(!m&&c(ut)!==A&&(u?u(ut,A):typeof ut[C]!="function"&&d(ut,C,T)),h(ut,K,!0,!0),m&&(y[K]=T))),I==D&&U&&U.name!==D&&(tt=!0,V=function(){return U.call(this)}),(!m||Y)&&Pt[C]!==V&&d(Pt,C,V),y[S]=V,I)if(_t={values:B(D),keys:z?V:B(O),entries:B(x)},Y)for(yt in _t)(w||tt||!(yt in Pt))&&p(Pt,yt,_t[yt]);else a({target:S,proto:!0,forced:w||tt},_t);return _t}},"7f9a":function(i,r,o){var a=o("da84"),l=o("8925"),c=a.WeakMap;i.exports=typeof c=="function"&&/native code/.test(l(c))},"825a":function(i,r,o){var a=o("861d");i.exports=function(l){if(!a(l))throw TypeError(String(l)+" is not an object");return l}},"83ab":function(i,r,o){var a=o("d039");i.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(i,r,o){var a=o("c04e"),l=o("9bf2"),c=o("5c6c");i.exports=function(u,h,d){var p=a(h);p in u?l.f(u,p,c(0,d)):u[p]=d}},"861d":function(i,r){i.exports=function(o){return typeof o=="object"?o!==null:typeof o=="function"}},8875:function(i,r,o){var a,l,c;(function(u,h){l=[],a=h,c=typeof a=="function"?a.apply(r,l):a,c!==void 0&&(i.exports=c)})(typeof self<"u"?self:this,function(){function u(){var h=Object.getOwnPropertyDescriptor(document,"currentScript");if(!h&&"currentScript"in document&&document.currentScript||h&&h.get!==u&&document.currentScript)return document.currentScript;try{throw new Error}catch(x){var d=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,p=/@([^@]*):(\d+):(\d+)\s*$/ig,g=d.exec(x.stack)||p.exec(x.stack),m=g&&g[1]||!1,y=g&&g[2]||!1,E=document.location.href.replace(document.location.hash,""),A,w,C,O=document.getElementsByTagName("script");m===E&&(A=document.documentElement.outerHTML,w=new RegExp("(?:[^\\n]+?\\n){0,"+(y-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),C=A.replace(w,"$1").trim());for(var D=0;D<O.length;D++)if(O[D].readyState==="interactive"||O[D].src===m||m===E&&O[D].innerHTML&&O[D].innerHTML.trim()===C)return O[D];return null}}return u})},8925:function(i,r,o){var a=o("c6cd"),l=Function.toString;typeof a.inspectSource!="function"&&(a.inspectSource=function(c){return l.call(c)}),i.exports=a.inspectSource},"8aa5":function(i,r,o){var a=o("6547").charAt;i.exports=function(l,c,u){return c+(u?a(l,c).length:1)}},"8bbf":function(i,r){i.exports=n},"90e3":function(i,r){var o=0,a=Math.random();i.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++o+a).toString(36)}},9112:function(i,r,o){var a=o("83ab"),l=o("9bf2"),c=o("5c6c");i.exports=a?function(u,h,d){return l.f(u,h,c(1,d))}:function(u,h,d){return u[h]=d,u}},9263:function(i,r,o){var a=o("ad6d"),l=o("9f7f"),c=RegExp.prototype.exec,u=String.prototype.replace,h=c,d=function(){var y=/a/,E=/b*/g;return c.call(y,"a"),c.call(E,"a"),y.lastIndex!==0||E.lastIndex!==0}(),p=l.UNSUPPORTED_Y||l.BROKEN_CARET,g=/()??/.exec("")[1]!==void 0,m=d||g||p;m&&(h=function(E){var A=this,w,C,O,D,x=p&&A.sticky,T=a.call(A),_=A.source,S=0,P=E;return x&&(T=T.replace("y",""),T.indexOf("g")===-1&&(T+="g"),P=String(E).slice(A.lastIndex),A.lastIndex>0&&(!A.multiline||A.multiline&&E[A.lastIndex-1]!==`
`)&&(_="(?: "+_+")",P=" "+P,S++),C=new RegExp("^(?:"+_+")",T)),g&&(C=new RegExp("^"+_+"$(?!\\s)",T)),d&&(w=A.lastIndex),O=c.call(x?C:A,P),x?O?(O.input=O.input.slice(S),O[0]=O[0].slice(S),O.index=A.lastIndex,A.lastIndex+=O[0].length):A.lastIndex=0:d&&O&&(A.lastIndex=A.global?O.index+O[0].length:w),g&&O&&O.length>1&&u.call(O[0],C,function(){for(D=1;D<arguments.length-2;D++)arguments[D]===void 0&&(O[D]=void 0)}),O}),i.exports=h},"94ca":function(i,r,o){var a=o("d039"),l=/#|\.prototype\./,c=function(g,m){var y=h[u(g)];return y==p?!0:y==d?!1:typeof m=="function"?a(m):!!m},u=c.normalize=function(g){return String(g).replace(l,".").toLowerCase()},h=c.data={},d=c.NATIVE="N",p=c.POLYFILL="P";i.exports=c},"99af":function(i,r,o){var a=o("23e7"),l=o("d039"),c=o("e8b5"),u=o("861d"),h=o("7b0b"),d=o("50c4"),p=o("8418"),g=o("65f0"),m=o("1dde"),y=o("b622"),E=o("2d00"),A=y("isConcatSpreadable"),w=9007199254740991,C="Maximum allowed index exceeded",O=E>=51||!l(function(){var _=[];return _[A]=!1,_.concat()[0]!==_}),D=m("concat"),x=function(_){if(!u(_))return!1;var S=_[A];return S!==void 0?!!S:c(_)},T=!O||!D;a({target:"Array",proto:!0,forced:T},{concat:function(S){var P=h(this),R=g(P,0),I=0,z,Y,B,K,tt;for(z=-1,B=arguments.length;z<B;z++)if(tt=z===-1?P:arguments[z],x(tt)){if(K=d(tt.length),I+K>w)throw TypeError(C);for(Y=0;Y<K;Y++,I++)Y in tt&&p(R,I,tt[Y])}else{if(I>=w)throw TypeError(C);p(R,I++,tt)}return R.length=I,R}})},"9bdd":function(i,r,o){var a=o("825a");i.exports=function(l,c,u,h){try{return h?c(a(u)[0],u[1]):c(u)}catch(p){var d=l.return;throw d!==void 0&&a(d.call(l)),p}}},"9bf2":function(i,r,o){var a=o("83ab"),l=o("0cfb"),c=o("825a"),u=o("c04e"),h=Object.defineProperty;r.f=a?h:function(p,g,m){if(c(p),g=u(g,!0),c(m),l)try{return h(p,g,m)}catch{}if("get"in m||"set"in m)throw TypeError("Accessors not supported");return"value"in m&&(p[g]=m.value),p}},"9ed3":function(i,r,o){var a=o("ae93").IteratorPrototype,l=o("7c73"),c=o("5c6c"),u=o("d44e"),h=o("3f8c"),d=function(){return this};i.exports=function(p,g,m){var y=g+" Iterator";return p.prototype=l(a,{next:c(1,m)}),u(p,y,!1,!0),h[y]=d,p}},"9f7f":function(i,r,o){var a=o("d039");function l(c,u){return RegExp(c,u)}r.UNSUPPORTED_Y=a(function(){var c=l("a","y");return c.lastIndex=2,c.exec("abcd")!=null}),r.BROKEN_CARET=a(function(){var c=l("^r","gy");return c.lastIndex=2,c.exec("str")!=null})},a2bf:function(i,r,o){var a=o("e8b5"),l=o("50c4"),c=o("0366"),u=function(h,d,p,g,m,y,E,A){for(var w=m,C=0,O=E?c(E,A,3):!1,D;C<g;){if(C in p){if(D=O?O(p[C],C,d):p[C],y>0&&a(D))w=u(h,d,D,l(D.length),w,y-1)-1;else{if(w>=9007199254740991)throw TypeError("Exceed the acceptable array length");h[w]=D}w++}C++}return w};i.exports=u},a352:function(i,r){i.exports=s},a434:function(i,r,o){var a=o("23e7"),l=o("23cb"),c=o("a691"),u=o("50c4"),h=o("7b0b"),d=o("65f0"),p=o("8418"),g=o("1dde"),m=o("ae40"),y=g("splice"),E=m("splice",{ACCESSORS:!0,0:0,1:2}),A=Math.max,w=Math.min,C=9007199254740991,O="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!y||!E},{splice:function(x,T){var _=h(this),S=u(_.length),P=l(x,S),R=arguments.length,I,z,Y,B,K,tt;if(R===0?I=z=0:R===1?(I=0,z=S-P):(I=R-2,z=w(A(c(T),0),S-P)),S+I-z>C)throw TypeError(O);for(Y=d(_,z),B=0;B<z;B++)K=P+B,K in _&&p(Y,B,_[K]);if(Y.length=z,I<z){for(B=P;B<S-z;B++)K=B+z,tt=B+I,K in _?_[tt]=_[K]:delete _[tt];for(B=S;B>S-z+I;B--)delete _[B-1]}else if(I>z)for(B=S-z;B>P;B--)K=B+z-1,tt=B+I-1,K in _?_[tt]=_[K]:delete _[tt];for(B=0;B<I;B++)_[B+P]=arguments[B+2];return _.length=S-z+I,Y}})},a4d3:function(i,r,o){var a=o("23e7"),l=o("da84"),c=o("d066"),u=o("c430"),h=o("83ab"),d=o("4930"),p=o("fdbf"),g=o("d039"),m=o("5135"),y=o("e8b5"),E=o("861d"),A=o("825a"),w=o("7b0b"),C=o("fc6a"),O=o("c04e"),D=o("5c6c"),x=o("7c73"),T=o("df75"),_=o("241c"),S=o("057f"),P=o("7418"),R=o("06cf"),I=o("9bf2"),z=o("d1e7"),Y=o("9112"),B=o("6eeb"),K=o("5692"),tt=o("f772"),Pt=o("d012"),U=o("90e3"),V=o("b622"),at=o("e538"),ut=o("746f"),_t=o("d44e"),yt=o("69f3"),gt=o("b727").forEach,F=tt("hidden"),J="Symbol",et="prototype",dt=V("toPrimitive"),At=yt.set,Dt=yt.getterFor(J),M=Object[et],L=l.Symbol,j=c("JSON","stringify"),Z=R.f,X=I.f,it=S.f,mt=z.f,ot=K("symbols"),ht=K("op-symbols"),ct=K("string-to-symbol-registry"),Rt=K("symbol-to-string-registry"),vt=K("wks"),xt=l.QObject,St=!xt||!xt[et]||!xt[et].findChild,kt=h&&g(function(){return x(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a!=7})?function(Ft,Nt,$t){var ee=Z(M,Nt);ee&&delete M[Nt],X(Ft,Nt,$t),ee&&Ft!==M&&X(M,Nt,ee)}:X,Zt=function(Ft,Nt){var $t=ot[Ft]=x(L[et]);return At($t,{type:J,tag:Ft,description:Nt}),h||($t.description=Nt),$t},$=p?function(Ft){return typeof Ft=="symbol"}:function(Ft){return Object(Ft)instanceof L},H=function(Nt,$t,ee){Nt===M&&H(ht,$t,ee),A(Nt);var ae=O($t,!0);return A(ee),m(ot,ae)?(ee.enumerable?(m(Nt,F)&&Nt[F][ae]&&(Nt[F][ae]=!1),ee=x(ee,{enumerable:D(0,!1)})):(m(Nt,F)||X(Nt,F,D(1,{})),Nt[F][ae]=!0),kt(Nt,ae,ee)):X(Nt,ae,ee)},G=function(Nt,$t){A(Nt);var ee=C($t),ae=T(ee).concat(Xt(ee));return gt(ae,function(mn){(!h||bt.call(ee,mn))&&H(Nt,mn,ee[mn])}),Nt},rt=function(Nt,$t){return $t===void 0?x(Nt):G(x(Nt),$t)},bt=function(Nt){var $t=O(Nt,!0),ee=mt.call(this,$t);return this===M&&m(ot,$t)&&!m(ht,$t)?!1:ee||!m(this,$t)||!m(ot,$t)||m(this,F)&&this[F][$t]?ee:!0},Lt=function(Nt,$t){var ee=C(Nt),ae=O($t,!0);if(!(ee===M&&m(ot,ae)&&!m(ht,ae))){var mn=Z(ee,ae);return mn&&m(ot,ae)&&!(m(ee,F)&&ee[F][ae])&&(mn.enumerable=!0),mn}},Kt=function(Nt){var $t=it(C(Nt)),ee=[];return gt($t,function(ae){!m(ot,ae)&&!m(Pt,ae)&&ee.push(ae)}),ee},Xt=function(Nt){var $t=Nt===M,ee=it($t?ht:C(Nt)),ae=[];return gt(ee,function(mn){m(ot,mn)&&(!$t||m(M,mn))&&ae.push(ot[mn])}),ae};if(d||(L=function(){if(this instanceof L)throw TypeError("Symbol is not a constructor");var Nt=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),$t=U(Nt),ee=function(ae){this===M&&ee.call(ht,ae),m(this,F)&&m(this[F],$t)&&(this[F][$t]=!1),kt(this,$t,D(1,ae))};return h&&St&&kt(M,$t,{configurable:!0,set:ee}),Zt($t,Nt)},B(L[et],"toString",function(){return Dt(this).tag}),B(L,"withoutSetter",function(Ft){return Zt(U(Ft),Ft)}),z.f=bt,I.f=H,R.f=Lt,_.f=S.f=Kt,P.f=Xt,at.f=function(Ft){return Zt(V(Ft),Ft)},h&&(X(L[et],"description",{configurable:!0,get:function(){return Dt(this).description}}),u||B(M,"propertyIsEnumerable",bt,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!d,sham:!d},{Symbol:L}),gt(T(vt),function(Ft){ut(Ft)}),a({target:J,stat:!0,forced:!d},{for:function(Ft){var Nt=String(Ft);if(m(ct,Nt))return ct[Nt];var $t=L(Nt);return ct[Nt]=$t,Rt[$t]=Nt,$t},keyFor:function(Nt){if(!$(Nt))throw TypeError(Nt+" is not a symbol");if(m(Rt,Nt))return Rt[Nt]},useSetter:function(){St=!0},useSimple:function(){St=!1}}),a({target:"Object",stat:!0,forced:!d,sham:!h},{create:rt,defineProperty:H,defineProperties:G,getOwnPropertyDescriptor:Lt}),a({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:Kt,getOwnPropertySymbols:Xt}),a({target:"Object",stat:!0,forced:g(function(){P.f(1)})},{getOwnPropertySymbols:function(Nt){return P.f(w(Nt))}}),j){var ge=!d||g(function(){var Ft=L();return j([Ft])!="[null]"||j({a:Ft})!="{}"||j(Object(Ft))!="{}"});a({target:"JSON",stat:!0,forced:ge},{stringify:function(Nt,$t,ee){for(var ae=[Nt],mn=1,qs;arguments.length>mn;)ae.push(arguments[mn++]);if(qs=$t,!(!E($t)&&Nt===void 0||$(Nt)))return y($t)||($t=function(Yh,$i){if(typeof qs=="function"&&($i=qs.call(this,Yh,$i)),!$($i))return $i}),ae[1]=$t,j.apply(null,ae)}})}L[et][dt]||Y(L[et],dt,L[et].valueOf),_t(L,J),Pt[F]=!0},a630:function(i,r,o){var a=o("23e7"),l=o("4df4"),c=o("1c7e"),u=!c(function(h){Array.from(h)});a({target:"Array",stat:!0,forced:u},{from:l})},a640:function(i,r,o){var a=o("d039");i.exports=function(l,c){var u=[][l];return!!u&&a(function(){u.call(null,c||function(){throw 1},1)})}},a691:function(i,r){var o=Math.ceil,a=Math.floor;i.exports=function(l){return isNaN(l=+l)?0:(l>0?a:o)(l)}},ab13:function(i,r,o){var a=o("b622"),l=a("match");i.exports=function(c){var u=/./;try{"/./"[c](u)}catch{try{return u[l]=!1,"/./"[c](u)}catch{}}return!1}},ac1f:function(i,r,o){var a=o("23e7"),l=o("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},ad6d:function(i,r,o){var a=o("825a");i.exports=function(){var l=a(this),c="";return l.global&&(c+="g"),l.ignoreCase&&(c+="i"),l.multiline&&(c+="m"),l.dotAll&&(c+="s"),l.unicode&&(c+="u"),l.sticky&&(c+="y"),c}},ae40:function(i,r,o){var a=o("83ab"),l=o("d039"),c=o("5135"),u=Object.defineProperty,h={},d=function(p){throw p};i.exports=function(p,g){if(c(h,p))return h[p];g||(g={});var m=[][p],y=c(g,"ACCESSORS")?g.ACCESSORS:!1,E=c(g,0)?g[0]:d,A=c(g,1)?g[1]:void 0;return h[p]=!!m&&!l(function(){if(y&&!a)return!0;var w={length:-1};y?u(w,1,{enumerable:!0,get:d}):w[1]=1,m.call(w,E,A)})}},ae93:function(i,r,o){var a=o("e163"),l=o("9112"),c=o("5135"),u=o("b622"),h=o("c430"),d=u("iterator"),p=!1,g=function(){return this},m,y,E;[].keys&&(E=[].keys(),"next"in E?(y=a(a(E)),y!==Object.prototype&&(m=y)):p=!0),m==null&&(m={}),!h&&!c(m,d)&&l(m,d,g),i.exports={IteratorPrototype:m,BUGGY_SAFARI_ITERATORS:p}},b041:function(i,r,o){var a=o("00ee"),l=o("f5df");i.exports=a?{}.toString:function(){return"[object "+l(this)+"]"}},b0c0:function(i,r,o){var a=o("83ab"),l=o("9bf2").f,c=Function.prototype,u=c.toString,h=/^\s*function ([^ (]*)/,d="name";a&&!(d in c)&&l(c,d,{configurable:!0,get:function(){try{return u.call(this).match(h)[1]}catch{return""}}})},b622:function(i,r,o){var a=o("da84"),l=o("5692"),c=o("5135"),u=o("90e3"),h=o("4930"),d=o("fdbf"),p=l("wks"),g=a.Symbol,m=d?g:g&&g.withoutSetter||u;i.exports=function(y){return c(p,y)||(h&&c(g,y)?p[y]=g[y]:p[y]=m("Symbol."+y)),p[y]}},b64b:function(i,r,o){var a=o("23e7"),l=o("7b0b"),c=o("df75"),u=o("d039"),h=u(function(){c(1)});a({target:"Object",stat:!0,forced:h},{keys:function(p){return c(l(p))}})},b727:function(i,r,o){var a=o("0366"),l=o("44ad"),c=o("7b0b"),u=o("50c4"),h=o("65f0"),d=[].push,p=function(g){var m=g==1,y=g==2,E=g==3,A=g==4,w=g==6,C=g==5||w;return function(O,D,x,T){for(var _=c(O),S=l(_),P=a(D,x,3),R=u(S.length),I=0,z=T||h,Y=m?z(O,R):y?z(O,0):void 0,B,K;R>I;I++)if((C||I in S)&&(B=S[I],K=P(B,I,_),g)){if(m)Y[I]=K;else if(K)switch(g){case 3:return!0;case 5:return B;case 6:return I;case 2:d.call(Y,B)}else if(A)return!1}return w?-1:E||A?A:Y}};i.exports={forEach:p(0),map:p(1),filter:p(2),some:p(3),every:p(4),find:p(5),findIndex:p(6)}},c04e:function(i,r,o){var a=o("861d");i.exports=function(l,c){if(!a(l))return l;var u,h;if(c&&typeof(u=l.toString)=="function"&&!a(h=u.call(l))||typeof(u=l.valueOf)=="function"&&!a(h=u.call(l))||!c&&typeof(u=l.toString)=="function"&&!a(h=u.call(l)))return h;throw TypeError("Can't convert object to primitive value")}},c430:function(i,r){i.exports=!1},c6b6:function(i,r){var o={}.toString;i.exports=function(a){return o.call(a).slice(8,-1)}},c6cd:function(i,r,o){var a=o("da84"),l=o("ce4e"),c="__core-js_shared__",u=a[c]||l(c,{});i.exports=u},c740:function(i,r,o){var a=o("23e7"),l=o("b727").findIndex,c=o("44d2"),u=o("ae40"),h="findIndex",d=!0,p=u(h);h in[]&&Array(1)[h](function(){d=!1}),a({target:"Array",proto:!0,forced:d||!p},{findIndex:function(m){return l(this,m,arguments.length>1?arguments[1]:void 0)}}),c(h)},c8ba:function(i,r){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}i.exports=o},c975:function(i,r,o){var a=o("23e7"),l=o("4d64").indexOf,c=o("a640"),u=o("ae40"),h=[].indexOf,d=!!h&&1/[1].indexOf(1,-0)<0,p=c("indexOf"),g=u("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:d||!p||!g},{indexOf:function(y){return d?h.apply(this,arguments)||0:l(this,y,arguments.length>1?arguments[1]:void 0)}})},ca84:function(i,r,o){var a=o("5135"),l=o("fc6a"),c=o("4d64").indexOf,u=o("d012");i.exports=function(h,d){var p=l(h),g=0,m=[],y;for(y in p)!a(u,y)&&a(p,y)&&m.push(y);for(;d.length>g;)a(p,y=d[g++])&&(~c(m,y)||m.push(y));return m}},caad:function(i,r,o){var a=o("23e7"),l=o("4d64").includes,c=o("44d2"),u=o("ae40"),h=u("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!h},{includes:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}}),c("includes")},cc12:function(i,r,o){var a=o("da84"),l=o("861d"),c=a.document,u=l(c)&&l(c.createElement);i.exports=function(h){return u?c.createElement(h):{}}},ce4e:function(i,r,o){var a=o("da84"),l=o("9112");i.exports=function(c,u){try{l(a,c,u)}catch{a[c]=u}return u}},d012:function(i,r){i.exports={}},d039:function(i,r){i.exports=function(o){try{return!!o()}catch{return!0}}},d066:function(i,r,o){var a=o("428f"),l=o("da84"),c=function(u){return typeof u=="function"?u:void 0};i.exports=function(u,h){return arguments.length<2?c(a[u])||c(l[u]):a[u]&&a[u][h]||l[u]&&l[u][h]}},d1e7:function(i,r,o){var a={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,c=l&&!a.call({1:2},1);r.f=c?function(h){var d=l(this,h);return!!d&&d.enumerable}:a},d28b:function(i,r,o){var a=o("746f");a("iterator")},d2bb:function(i,r,o){var a=o("825a"),l=o("3bbe");i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var c=!1,u={},h;try{h=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,h.call(u,[]),c=u instanceof Array}catch{}return function(p,g){return a(p),l(g),c?h.call(p,g):p.__proto__=g,p}}():void 0)},d3b7:function(i,r,o){var a=o("00ee"),l=o("6eeb"),c=o("b041");a||l(Object.prototype,"toString",c,{unsafe:!0})},d44e:function(i,r,o){var a=o("9bf2").f,l=o("5135"),c=o("b622"),u=c("toStringTag");i.exports=function(h,d,p){h&&!l(h=p?h:h.prototype,u)&&a(h,u,{configurable:!0,value:d})}},d58f:function(i,r,o){var a=o("1c0b"),l=o("7b0b"),c=o("44ad"),u=o("50c4"),h=function(d){return function(p,g,m,y){a(g);var E=l(p),A=c(E),w=u(E.length),C=d?w-1:0,O=d?-1:1;if(m<2)for(;;){if(C in A){y=A[C],C+=O;break}if(C+=O,d?C<0:w<=C)throw TypeError("Reduce of empty array with no initial value")}for(;d?C>=0:w>C;C+=O)C in A&&(y=g(y,A[C],C,E));return y}};i.exports={left:h(!1),right:h(!0)}},d784:function(i,r,o){o("ac1f");var a=o("6eeb"),l=o("d039"),c=o("b622"),u=o("9263"),h=o("9112"),d=c("species"),p=!l(function(){var A=/./;return A.exec=function(){var w=[];return w.groups={a:"7"},w},"".replace(A,"$<a>")!=="7"}),g=function(){return"a".replace(/./,"$0")==="$0"}(),m=c("replace"),y=function(){return/./[m]?/./[m]("a","$0")==="":!1}(),E=!l(function(){var A=/(?:)/,w=A.exec;A.exec=function(){return w.apply(this,arguments)};var C="ab".split(A);return C.length!==2||C[0]!=="a"||C[1]!=="b"});i.exports=function(A,w,C,O){var D=c(A),x=!l(function(){var I={};return I[D]=function(){return 7},""[A](I)!=7}),T=x&&!l(function(){var I=!1,z=/a/;return A==="split"&&(z={},z.constructor={},z.constructor[d]=function(){return z},z.flags="",z[D]=/./[D]),z.exec=function(){return I=!0,null},z[D](""),!I});if(!x||!T||A==="replace"&&!(p&&g&&!y)||A==="split"&&!E){var _=/./[D],S=C(D,""[A],function(I,z,Y,B,K){return z.exec===u?x&&!K?{done:!0,value:_.call(z,Y,B)}:{done:!0,value:I.call(Y,z,B)}:{done:!1}},{REPLACE_KEEPS_$0:g,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:y}),P=S[0],R=S[1];a(String.prototype,A,P),a(RegExp.prototype,D,w==2?function(I,z){return R.call(I,this,z)}:function(I){return R.call(I,this)})}O&&h(RegExp.prototype[D],"sham",!0)}},d81d:function(i,r,o){var a=o("23e7"),l=o("b727").map,c=o("1dde"),u=o("ae40"),h=c("map"),d=u("map");a({target:"Array",proto:!0,forced:!h||!d},{map:function(g){return l(this,g,arguments.length>1?arguments[1]:void 0)}})},da84:function(i,r,o){(function(a){var l=function(c){return c&&c.Math==Math&&c};i.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof a=="object"&&a)||Function("return this")()}).call(this,o("c8ba"))},dbb4:function(i,r,o){var a=o("23e7"),l=o("83ab"),c=o("56ef"),u=o("fc6a"),h=o("06cf"),d=o("8418");a({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(g){for(var m=u(g),y=h.f,E=c(m),A={},w=0,C,O;E.length>w;)O=y(m,C=E[w++]),O!==void 0&&d(A,C,O);return A}})},dbf1:function(i,r,o){(function(a){o.d(r,"a",function(){return c});function l(){return typeof window<"u"?window.console:a.console}var c=l()}).call(this,o("c8ba"))},ddb0:function(i,r,o){var a=o("da84"),l=o("fdbc"),c=o("e260"),u=o("9112"),h=o("b622"),d=h("iterator"),p=h("toStringTag"),g=c.values;for(var m in l){var y=a[m],E=y&&y.prototype;if(E){if(E[d]!==g)try{u(E,d,g)}catch{E[d]=g}if(E[p]||u(E,p,m),l[m]){for(var A in c)if(E[A]!==c[A])try{u(E,A,c[A])}catch{E[A]=c[A]}}}}},df75:function(i,r,o){var a=o("ca84"),l=o("7839");i.exports=Object.keys||function(u){return a(u,l)}},e01a:function(i,r,o){var a=o("23e7"),l=o("83ab"),c=o("da84"),u=o("5135"),h=o("861d"),d=o("9bf2").f,p=o("e893"),g=c.Symbol;if(l&&typeof g=="function"&&(!("description"in g.prototype)||g().description!==void 0)){var m={},y=function(){var D=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),x=this instanceof y?new g(D):D===void 0?g():g(D);return D===""&&(m[x]=!0),x};p(y,g);var E=y.prototype=g.prototype;E.constructor=y;var A=E.toString,w=String(g("test"))=="Symbol(test)",C=/^Symbol\((.*)\)[^)]+$/;d(E,"description",{configurable:!0,get:function(){var D=h(this)?this.valueOf():this,x=A.call(D);if(u(m,D))return"";var T=w?x.slice(7,-1):x.replace(C,"$1");return T===""?void 0:T}}),a({global:!0,forced:!0},{Symbol:y})}},e163:function(i,r,o){var a=o("5135"),l=o("7b0b"),c=o("f772"),u=o("e177"),h=c("IE_PROTO"),d=Object.prototype;i.exports=u?Object.getPrototypeOf:function(p){return p=l(p),a(p,h)?p[h]:typeof p.constructor=="function"&&p instanceof p.constructor?p.constructor.prototype:p instanceof Object?d:null}},e177:function(i,r,o){var a=o("d039");i.exports=!a(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},e260:function(i,r,o){var a=o("fc6a"),l=o("44d2"),c=o("3f8c"),u=o("69f3"),h=o("7dd0"),d="Array Iterator",p=u.set,g=u.getterFor(d);i.exports=h(Array,"Array",function(m,y){p(this,{type:d,target:a(m),index:0,kind:y})},function(){var m=g(this),y=m.target,E=m.kind,A=m.index++;return!y||A>=y.length?(m.target=void 0,{value:void 0,done:!0}):E=="keys"?{value:A,done:!1}:E=="values"?{value:y[A],done:!1}:{value:[A,y[A]],done:!1}},"values"),c.Arguments=c.Array,l("keys"),l("values"),l("entries")},e439:function(i,r,o){var a=o("23e7"),l=o("d039"),c=o("fc6a"),u=o("06cf").f,h=o("83ab"),d=l(function(){u(1)}),p=!h||d;a({target:"Object",stat:!0,forced:p,sham:!h},{getOwnPropertyDescriptor:function(m,y){return u(c(m),y)}})},e538:function(i,r,o){var a=o("b622");r.f=a},e893:function(i,r,o){var a=o("5135"),l=o("56ef"),c=o("06cf"),u=o("9bf2");i.exports=function(h,d){for(var p=l(d),g=u.f,m=c.f,y=0;y<p.length;y++){var E=p[y];a(h,E)||g(h,E,m(d,E))}}},e8b5:function(i,r,o){var a=o("c6b6");i.exports=Array.isArray||function(c){return a(c)=="Array"}},e95a:function(i,r,o){var a=o("b622"),l=o("3f8c"),c=a("iterator"),u=Array.prototype;i.exports=function(h){return h!==void 0&&(l.Array===h||u[c]===h)}},f5df:function(i,r,o){var a=o("00ee"),l=o("c6b6"),c=o("b622"),u=c("toStringTag"),h=l(function(){return arguments}())=="Arguments",d=function(p,g){try{return p[g]}catch{}};i.exports=a?l:function(p){var g,m,y;return p===void 0?"Undefined":p===null?"Null":typeof(m=d(g=Object(p),u))=="string"?m:h?l(g):(y=l(g))=="Object"&&typeof g.callee=="function"?"Arguments":y}},f772:function(i,r,o){var a=o("5692"),l=o("90e3"),c=a("keys");i.exports=function(u){return c[u]||(c[u]=l(u))}},fb15:function(i,r,o){if(o.r(r),typeof window<"u"){var a=window.document.currentScript;{var l=o("8875");a=l(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:l})}var c=a&&a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);c&&(o.p=c[1])}o("99af"),o("4de4"),o("4160"),o("c975"),o("d81d"),o("a434"),o("159b"),o("a4d3"),o("e439"),o("dbb4"),o("b64b");function u($,H,G){return H in $?Object.defineProperty($,H,{value:G,enumerable:!0,configurable:!0,writable:!0}):$[H]=G,$}function h($,H){var G=Object.keys($);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols($);H&&(rt=rt.filter(function(bt){return Object.getOwnPropertyDescriptor($,bt).enumerable})),G.push.apply(G,rt)}return G}function d($){for(var H=1;H<arguments.length;H++){var G=arguments[H]!=null?arguments[H]:{};H%2?h(Object(G),!0).forEach(function(rt){u($,rt,G[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(G)):h(Object(G)).forEach(function(rt){Object.defineProperty($,rt,Object.getOwnPropertyDescriptor(G,rt))})}return $}function p($){if(Array.isArray($))return $}o("e01a"),o("d28b"),o("e260"),o("d3b7"),o("3ca3"),o("ddb0");function g($,H){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object($)))){var G=[],rt=!0,bt=!1,Lt=void 0;try{for(var Kt=$[Symbol.iterator](),Xt;!(rt=(Xt=Kt.next()).done)&&(G.push(Xt.value),!(H&&G.length===H));rt=!0);}catch(ge){bt=!0,Lt=ge}finally{try{!rt&&Kt.return!=null&&Kt.return()}finally{if(bt)throw Lt}}return G}}o("a630"),o("fb6a"),o("b0c0"),o("25f0");function m($,H){(H==null||H>$.length)&&(H=$.length);for(var G=0,rt=new Array(H);G<H;G++)rt[G]=$[G];return rt}function y($,H){if($){if(typeof $=="string")return m($,H);var G=Object.prototype.toString.call($).slice(8,-1);if(G==="Object"&&$.constructor&&(G=$.constructor.name),G==="Map"||G==="Set")return Array.from($);if(G==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G))return m($,H)}}function E(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A($,H){return p($)||g($,H)||y($,H)||E()}function w($){if(Array.isArray($))return m($)}function C($){if(typeof Symbol<"u"&&Symbol.iterator in Object($))return Array.from($)}function O(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D($){return w($)||C($)||y($)||O()}var x=o("a352"),T=o.n(x);function _($){$.parentElement!==null&&$.parentElement.removeChild($)}function S($,H,G){var rt=G===0?$.children[0]:$.children[G-1].nextSibling;$.insertBefore(H,rt)}var P=o("dbf1");o("13d5"),o("4fad"),o("ac1f"),o("5319");function R($){var H=Object.create(null);return function(rt){var bt=H[rt];return bt||(H[rt]=$(rt))}}var I=/-(\w)/g,z=R(function($){return $.replace(I,function(H,G){return G.toUpperCase()})});o("5db7"),o("73d9");var Y=["Start","Add","Remove","Update","End"],B=["Choose","Unchoose","Sort","Filter","Clone"],K=["Move"],tt=[K,Y,B].flatMap(function($){return $}).map(function($){return"on".concat($)}),Pt={manage:K,manageAndEmit:Y,emit:B};function U($){return tt.indexOf($)!==-1}o("caad"),o("2ca0");var V=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function at($){return V.includes($)}function ut($){return["transition-group","TransitionGroup"].includes($)}function _t($){return["id","class","role","style"].includes($)||$.startsWith("data-")||$.startsWith("aria-")||$.startsWith("on")}function yt($){return $.reduce(function(H,G){var rt=A(G,2),bt=rt[0],Lt=rt[1];return H[bt]=Lt,H},{})}function gt($){var H=$.$attrs,G=$.componentData,rt=G===void 0?{}:G,bt=yt(Object.entries(H).filter(function(Lt){var Kt=A(Lt,2),Xt=Kt[0];return Kt[1],_t(Xt)}));return d(d({},bt),rt)}function F($){var H=$.$attrs,G=$.callBackBuilder,rt=yt(J(H));Object.entries(G).forEach(function(Lt){var Kt=A(Lt,2),Xt=Kt[0],ge=Kt[1];Pt[Xt].forEach(function(Ft){rt["on".concat(Ft)]=ge(Ft)})});var bt="[data-draggable]".concat(rt.draggable||"");return d(d({},rt),{},{draggable:bt})}function J($){return Object.entries($).filter(function(H){var G=A(H,2),rt=G[0];return G[1],!_t(rt)}).map(function(H){var G=A(H,2),rt=G[0],bt=G[1];return[z(rt),bt]}).filter(function(H){var G=A(H,2),rt=G[0];return G[1],!U(rt)})}o("c740");function et($,H){if(!($ instanceof H))throw new TypeError("Cannot call a class as a function")}function dt($,H){for(var G=0;G<H.length;G++){var rt=H[G];rt.enumerable=rt.enumerable||!1,rt.configurable=!0,"value"in rt&&(rt.writable=!0),Object.defineProperty($,rt.key,rt)}}function At($,H,G){return H&&dt($.prototype,H),$}var Dt=function(H){var G=H.el;return G},M=function(H,G){return H.__draggable_context=G},L=function(H){return H.__draggable_context},j=function(){function $(H){var G=H.nodes,rt=G.header,bt=G.default,Lt=G.footer,Kt=H.root,Xt=H.realList;et(this,$),this.defaultNodes=bt,this.children=[].concat(D(rt),D(bt),D(Lt)),this.externalComponent=Kt.externalComponent,this.rootTransition=Kt.transition,this.tag=Kt.tag,this.realList=Xt}return At($,[{key:"render",value:function(G,rt){var bt=this.tag,Lt=this.children,Kt=this._isRootComponent,Xt=Kt?{default:function(){return Lt}}:Lt;return G(bt,rt,Xt)}},{key:"updated",value:function(){var G=this.defaultNodes,rt=this.realList;G.forEach(function(bt,Lt){M(Dt(bt),{element:rt[Lt],index:Lt})})}},{key:"getUnderlyingVm",value:function(G){return L(G)}},{key:"getVmIndexFromDomIndex",value:function(G,rt){var bt=this.defaultNodes,Lt=bt.length,Kt=rt.children,Xt=Kt.item(G);if(Xt===null)return Lt;var ge=L(Xt);if(ge)return ge.index;if(Lt===0)return 0;var Ft=Dt(bt[0]),Nt=D(Kt).findIndex(function($t){return $t===Ft});return G<Nt?0:Lt}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),$}(),Z=o("8bbf");function X($,H){var G=$[H];return G?G():[]}function it($){var H=$.$slots,G=$.realList,rt=$.getKey,bt=G||[],Lt=["header","footer"].map(function($t){return X(H,$t)}),Kt=A(Lt,2),Xt=Kt[0],ge=Kt[1],Ft=H.item;if(!Ft)throw new Error("draggable element must have an item slot");var Nt=bt.flatMap(function($t,ee){return Ft({element:$t,index:ee}).map(function(ae){return ae.key=rt($t),ae.props=d(d({},ae.props||{}),{},{"data-draggable":!0}),ae})});if(Nt.length!==bt.length)throw new Error("Item slot must have only one child");return{header:Xt,footer:ge,default:Nt}}function mt($){var H=ut($),G=!at($)&&!H;return{transition:H,externalComponent:G,tag:G?Object(Z.resolveComponent)($):H?Z.TransitionGroup:$}}function ot($){var H=$.$slots,G=$.tag,rt=$.realList,bt=$.getKey,Lt=it({$slots:H,realList:rt,getKey:bt}),Kt=mt(G);return new j({nodes:Lt,root:Kt,realList:rt})}function ht($,H){var G=this;Object(Z.nextTick)(function(){return G.$emit($.toLowerCase(),H)})}function ct($){var H=this;return function(G,rt){if(H.realList!==null)return H["onDrag".concat($)](G,rt)}}function Rt($){var H=this,G=ct.call(this,$);return function(rt,bt){G.call(H,rt,bt),ht.call(H,$,rt)}}var vt=null,xt={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(H){return H}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},St=["update:modelValue","change"].concat(D([].concat(D(Pt.manageAndEmit),D(Pt.emit)).map(function($){return $.toLowerCase()}))),kt=Object(Z.defineComponent)({name:"draggable",inheritAttrs:!1,props:xt,emits:St,data:function(){return{error:!1}},render:function(){try{this.error=!1;var H=this.$slots,G=this.$attrs,rt=this.tag,bt=this.componentData,Lt=this.realList,Kt=this.getKey,Xt=ot({$slots:H,tag:rt,realList:Lt,getKey:Kt});this.componentStructure=Xt;var ge=gt({$attrs:G,componentData:bt});return Xt.render(Z.h,ge)}catch(Ft){return this.error=!0,Object(Z.h)("pre",{style:{color:"red"}},Ft.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&P.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var H=this;if(!this.error){var G=this.$attrs,rt=this.$el,bt=this.componentStructure;bt.updated();var Lt=F({$attrs:G,callBackBuilder:{manageAndEmit:function(ge){return Rt.call(H,ge)},emit:function(ge){return ht.bind(H,ge)},manage:function(ge){return ct.call(H,ge)}}}),Kt=rt.nodeType===1?rt:rt.parentElement;this._sortable=new T.a(Kt,Lt),this.targetDomElement=Kt,Kt.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var H=this.list;return H||this.modelValue},getKey:function(){var H=this.itemKey;return typeof H=="function"?H:function(G){return G[H]}}},watch:{$attrs:{handler:function(H){var G=this._sortable;G&&J(H).forEach(function(rt){var bt=A(rt,2),Lt=bt[0],Kt=bt[1];G.option(Lt,Kt)})},deep:!0}},methods:{getUnderlyingVm:function(H){return this.componentStructure.getUnderlyingVm(H)||null},getUnderlyingPotencialDraggableComponent:function(H){return H.__draggable_component__},emitChanges:function(H){var G=this;Object(Z.nextTick)(function(){return G.$emit("change",H)})},alterList:function(H){if(this.list){H(this.list);return}var G=D(this.modelValue);H(G),this.$emit("update:modelValue",G)},spliceList:function(){var H=arguments,G=function(bt){return bt.splice.apply(bt,D(H))};this.alterList(G)},updatePosition:function(H,G){var rt=function(Lt){return Lt.splice(G,0,Lt.splice(H,1)[0])};this.alterList(rt)},getRelatedContextFromMoveEvent:function(H){var G=H.to,rt=H.related,bt=this.getUnderlyingPotencialDraggableComponent(G);if(!bt)return{component:bt};var Lt=bt.realList,Kt={list:Lt,component:bt};if(G!==rt&&Lt){var Xt=bt.getUnderlyingVm(rt)||{};return d(d({},Xt),Kt)}return Kt},getVmIndexFromDomIndex:function(H){return this.componentStructure.getVmIndexFromDomIndex(H,this.targetDomElement)},onDragStart:function(H){this.context=this.getUnderlyingVm(H.item),H.item._underlying_vm_=this.clone(this.context.element),vt=H.item},onDragAdd:function(H){var G=H.item._underlying_vm_;if(G!==void 0){_(H.item);var rt=this.getVmIndexFromDomIndex(H.newIndex);this.spliceList(rt,0,G);var bt={element:G,newIndex:rt};this.emitChanges({added:bt})}},onDragRemove:function(H){if(S(this.$el,H.item,H.oldIndex),H.pullMode==="clone"){_(H.clone);return}var G=this.context,rt=G.index,bt=G.element;this.spliceList(rt,1);var Lt={element:bt,oldIndex:rt};this.emitChanges({removed:Lt})},onDragUpdate:function(H){_(H.item),S(H.from,H.item,H.oldIndex);var G=this.context.index,rt=this.getVmIndexFromDomIndex(H.newIndex);this.updatePosition(G,rt);var bt={element:this.context.element,oldIndex:G,newIndex:rt};this.emitChanges({moved:bt})},computeFutureIndex:function(H,G){if(!H.element)return 0;var rt=D(G.to.children).filter(function(Xt){return Xt.style.display!=="none"}),bt=rt.indexOf(G.related),Lt=H.component.getVmIndexFromDomIndex(bt),Kt=rt.indexOf(vt)!==-1;return Kt||!G.willInsertAfter?Lt:Lt+1},onDragMove:function(H,G){var rt=this.move,bt=this.realList;if(!rt||!bt)return!0;var Lt=this.getRelatedContextFromMoveEvent(H),Kt=this.computeFutureIndex(Lt,H),Xt=d(d({},this.context),{},{futureIndex:Kt}),ge=d(d({},H),{},{relatedContext:Lt,draggedContext:Xt});return rt(ge,G)},onDragEnd:function(){vt=null}}}),Zt=kt;r.default=Zt},fb6a:function(i,r,o){var a=o("23e7"),l=o("861d"),c=o("e8b5"),u=o("23cb"),h=o("50c4"),d=o("fc6a"),p=o("8418"),g=o("b622"),m=o("1dde"),y=o("ae40"),E=m("slice"),A=y("slice",{ACCESSORS:!0,0:0,1:2}),w=g("species"),C=[].slice,O=Math.max;a({target:"Array",proto:!0,forced:!E||!A},{slice:function(x,T){var _=d(this),S=h(_.length),P=u(x,S),R=u(T===void 0?S:T,S),I,z,Y;if(c(_)&&(I=_.constructor,typeof I=="function"&&(I===Array||c(I.prototype))?I=void 0:l(I)&&(I=I[w],I===null&&(I=void 0)),I===Array||I===void 0))return C.call(_,P,R);for(z=new(I===void 0?Array:I)(O(R-P,0)),Y=0;P<R;P++,Y++)P in _&&p(z,Y,_[P]);return z.length=Y,z}})},fc6a:function(i,r,o){var a=o("44ad"),l=o("1d80");i.exports=function(c){return a(l(c))}},fdbc:function(i,r){i.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(i,r,o){var a=o("4930");i.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})}(yd)),yd.exports}var cK=lK();const uK=A8(cK),hK={class:"kanban-board-tile glassy p-3 rounded shadow"},fK={class:"boards-wrapper d-flex gap-3 overflow-auto"},dK={class:"board-header mb-2"},pK=["onClick"],gK=["onSubmit"],mK=["onUpdate:modelValue"],vK=["disabled"],yK={__name:"KanbanBoardTile",setup(e){const n=dx().params.id,s=It([]),i=Si({}),r=()=>[{id:1,title:"Do zrobienia",bgClass:"board-grey",tasks:[]},{id:2,title:"W trakcie",bgClass:"board-orange",tasks:[]},{id:3,title:"Do sprawdzenia",bgClass:"board-blue",tasks:[]},{id:4,title:"Zrobione",bgClass:"board-green",tasks:[]}];On(async()=>{const h=Be(oe,"teams",n),d=await Mi(h);d.exists()?s.value=d.data().kanban||r():(s.value=r(),await o())});const o=async()=>{const h=Be(oe,"teams",n);await $b(h,{kanban:s.value},{merge:!0})},a=async h=>{const d=s.value[h].id,p=i[d]?.trim();p&&(s.value[h].tasks.push({id:Date.now(),text:p}),i[d]="",await o())},l=async(h,d)=>{const p=s.value[h].tasks,g=p.findIndex(m=>m.id===d);g!==-1&&p.splice(g,1),await o()},c=async()=>{await o()},u=h=>{switch(h){case"W trakcie":return"task-orange";case"Do sprawdzenia":return"task-blue";case"Zrobione":return"task-green";default:return"task-grey"}};return(h,d)=>(Q(),st("div",hK,[d[0]||(d[0]=N("h3",{class:"neon-text mb-3"},"Tablica Kanban",-1)),N("div",fK,[(Q(!0),st(ne,null,tn(s.value,(p,g)=>(Q(),st("div",{key:p.id,class:Pn(["kanban-board p-2 rounded",p.bgClass])},[N("div",dK,[N("h5",null,pt(p.title),1)]),Bt(ai(uK),{modelValue:p.tasks,"onUpdate:modelValue":m=>p.tasks=m,group:"tasks","item-key":"id",class:"task-list",onEnd:c},{item:fs(({element:m})=>[N("div",{class:Pn(["task-card p-2 mb-2 rounded d-flex align-items-center justify-content-between",u(p.title)])},[N("span",{class:Pn({"text-decoration-line-through":p.title==="Zrobione"})},pt(m.text),3),N("button",{class:"btn btn-sm btn-outline-light ms-3",onClick:y=>l(g,m.id)},"×",8,pK)],2)]),_:2},1032,["modelValue","onUpdate:modelValue"]),N("form",{onSubmit:rs(m=>a(g),["prevent"]),class:"mt-2 d-flex gap-2"},[se(N("input",{"onUpdate:modelValue":m=>i[s.value[g].id]=m,placeholder:"Nowe zadanie",class:"form-control form-control-sm",autocomplete:"off"},null,8,mK),[[re,i[s.value[g].id]]]),N("button",{type:"submit",class:"btn btn-sm btn-glow",disabled:!i[s.value[g].id]?.trim()},"+",8,vK)],40,gK)],2))),128))])]))}},_K=Ne(yK,[["__scopeId","data-v-bbfee38f"]]),bK={class:"tile notes-tile"},EK={class:"text-muted ms-2"},TK={class:"list-group mb-3"},SK=["onUpdate:modelValue","onInput"],wK={class:"d-flex justify-content-end gap-2"},AK=["disabled","onClick"],IK=["onClick"],CK=["disabled"],xK={key:0,class:"text-danger mt-2 small"},PK={__name:"NotesTile",props:{initialNotes:{type:Array,default:()=>[]}},emits:["updateNotes"],setup(e,{emit:t}){const n=e,s=t,i=It(n.initialNotes.map(d=>({...d}))),r=Si({}),o=It(""),a=It(""),l=d=>{r[d]=!0},c=()=>{o.value.trim()&&(i.value.push({id:Date.now(),text:o.value.trim()}),o.value="",s("updateNotes",i.value))},u=d=>{if(!i.value[d].text.trim()){a.value="Notatka nie może być pusta";return}r[d]=!1,a.value="",s("updateNotes",i.value)},h=d=>{confirm("Usunąć tę notatkę?")&&(i.value.splice(d,1),delete r[d],s("updateNotes",i.value))};return(d,p)=>(Q(),st("section",bK,[N("h3",null,[p[1]||(p[1]=xe(" Notatki zespołu ",-1)),N("small",EK,pt(i.value.length)+" notatek ",1)]),N("ul",TK,[(Q(!0),st(ne,null,tn(i.value,(g,m)=>(Q(),st("li",{key:g.id,class:"list-group-item d-flex flex-column gap-3"},[se(N("textarea",{"onUpdate:modelValue":y=>g.text=y,class:"form-control",rows:"3",onInput:y=>l(m)},null,40,SK),[[re,g.text]]),N("div",wK,[N("button",{class:"btn btn-sm btn-outline-success",disabled:!r[m],onClick:y=>u(m)}," Zapisz ",8,AK),N("button",{class:"btn btn-sm btn-outline-danger",onClick:y=>h(m)}," Usuń ",8,IK)])]))),128))]),N("form",{onSubmit:rs(c,["prevent"]),class:"d-flex gap-2"},[se(N("input",{"onUpdate:modelValue":p[0]||(p[0]=g=>o.value=g),type:"text",placeholder:"Dodaj nową notatkę",class:"form-control",required:""},null,512),[[re,o.value]]),N("button",{type:"submit",class:"btn btn-glow",disabled:!o.value.trim()}," Dodaj ",8,CK)],32),a.value?(Q(),st("div",xK,pt(a.value),1)):Ee("",!0)]))}},RK=Ne(PK,[["__scopeId","data-v-c6dac3ba"]]),OK={key:0,class:"team-dashboard container py-4"},NK={class:"neon-text mb-4"},DK={class:"top-tiles-row mb-4"},kK={class:"row g-4"},MK={class:"col-md-4"},LK={class:"col-md-4"},VK={class:"col-md-4"},FK={class:"kanban-full-width mb-4"},$K={class:"members-section"},UK={key:1,class:"text-center py-5 text-muted"},BK={key:2,class:"text-danger text-center py-4"},jK={__name:"TeamDetailsView",setup(e){const t=dx(),{user:n}=Ub(),s=t.params.id,i=n?.email||"",r=It(null),o=It(!0),a=It("");It("");const l=It(!1),c=It(""),u=It(!1),h=It(!1),d=()=>r.value?.ownerEmail===i,p=async()=>{o.value=!0,a.value="";try{const _=Be(oe,"teams",s),S=await Mi(_);if(!S.exists()){a.value="Zespół nie istnieje";return}const P=S.data();r.value={...P,goals:P.goals||[],skills:P.skills||[]}}catch(_){console.error("Błąd pobierania zespołu:",_),a.value="Nie udało się pobrać danych zespołu."}finally{o.value=!1}},g=async(_,S)=>{if(r.value)try{const P=Be(oe,"teams",s);await Sr(P,{[_]:S}),r.value[_]=S}catch(P){console.error(`Błąd aktualizacji ${_}:`,P),a.value=`Nie udało się zaktualizować ${_}.`}},m=async _=>{if(!_.trim())return;const S=_.trim().toLowerCase();if(r.value.members.includes(S)){a.value="Ten użytkownik jest już w zespole.";return}l.value=!0,a.value="";try{const P=[...r.value.members,S];await g("members",P)}catch{a.value="Nie udało się dodać członka."}finally{l.value=!1}},y=async _=>{if(confirm(`Czy na pewno chcesz usunąć ${_} z zespołu?`)){a.value="";try{const S=r.value.members.filter(P=>P!==_);await g("members",S)}catch{a.value="Nie udało się usunąć członka."}}},E=async()=>{if(c.value.trim()){u.value=!0,a.value="";try{const _=[...r.value.goals,{text:c.value.trim(),completed:!1}];await g("goals",_),c.value=""}catch{a.value="Nie udało się dodać celu."}finally{u.value=!1}}},A=async _=>{a.value="";try{const S=[...r.value.goals];S.splice(_,1),await g("goals",S)}catch{a.value="Nie udało się usunąć celu."}},w=async()=>{a.value="";try{await g("goals",r.value.goals)}catch{a.value="Nie udało się zaktualizować celów."}},C=async _=>{if(_.trim()){h.value=!0,a.value="";try{const S={text:_.trim(),completed:!1},P=[...r.value.skills,S];await g("skills",P)}catch{a.value="Nie udało się dodać umiejętności."}finally{h.value=!1}}},O=async _=>{a.value="";try{const S=[...r.value.skills];S.splice(_,1),await g("skills",S)}catch{a.value="Nie udało się usunąć umiejętności."}},D=async({index:_,completed:S})=>{a.value="";try{const P=[...r.value.skills];P[_].completed=S,await g("skills",P)}catch{a.value="Nie udało się zaktualizować umiejętności."}},x=async _=>{a.value="";try{await g("notes",_)}catch{a.value="Nie udało się zaktualizować notatek."}},T=async _=>{a.value="";try{await g("kanban",_)}catch{a.value="Nie udało się zaktualizować kanbana."}};return d1(()=>{p()}),(_,S)=>(Q(),st(ne,null,[o.value?(Q(),st("div",UK," Ładowanie danych zespołu... ")):(Q(),st("div",OK,[N("h1",NK,"Zespół: "+pt(r.value.name),1),N("div",DK,[N("div",kK,[N("div",MK,[Bt(g8,{goals:r.value.goals,isOwner:d(),newGoalText:c.value,"onUpdate:newGoalText":S[0]||(S[0]=P=>c.value=P),onAddGoal:E,onRemoveGoal:A,onUpdateGoals:w,adding:u.value},null,8,["goals","isOwner","newGoalText","adding"])]),N("div",LK,[Bt(w8,{skills:r.value.skills,isOwner:d(),onAddSkill:C,onRemoveSkill:O,onToggleSkill:D,adding:h.value},null,8,["skills","isOwner","adding"])]),N("div",VK,[Bt(RK,{initialNotes:r.value.notes||[],onUpdateNotes:x},null,8,["initialNotes"])])])]),N("div",FK,[Bt(_K,{kanbanData:r.value.kanban||{},onUpdateKanban:T},null,8,["kanbanData"])]),N("div",$K,[Bt(o8,{members:r.value.members,ownerEmail:r.value.ownerEmail,currentUserEmail:ai(i),isOwner:d(),onAddMember:m,onRemoveMember:y,adding:l.value},null,8,["members","ownerEmail","currentUserEmail","isOwner","adding"])])])),a.value&&!o.value?(Q(),st("div",BK,pt(a.value),1)):Ee("",!0)],64))}},HK=Ne(jK,[["__scopeId","data-v-fc1a38c2"]]);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function jh(e){return e+.5|0}const Zr=(e,t,n)=>Math.max(Math.min(e,n),t);function au(e){return Zr(jh(e*2.55),0,255)}function ho(e){return Zr(jh(e*255),0,255)}function qi(e){return Zr(jh(e/2.55)/100,0,1)}function Q0(e){return Zr(jh(e*100),0,100)}const Ls={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Yy=[..."0123456789ABCDEF"],zK=e=>Yy[e&15],WK=e=>Yy[(e&240)>>4]+Yy[e&15],Vf=e=>(e&240)>>4===(e&15),KK=e=>Vf(e.r)&&Vf(e.g)&&Vf(e.b)&&Vf(e.a);function GK(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&Ls[e[1]]*17,g:255&Ls[e[2]]*17,b:255&Ls[e[3]]*17,a:t===5?Ls[e[4]]*17:255}:(t===7||t===9)&&(n={r:Ls[e[1]]<<4|Ls[e[2]],g:Ls[e[3]]<<4|Ls[e[4]],b:Ls[e[5]]<<4|Ls[e[6]],a:t===9?Ls[e[7]]<<4|Ls[e[8]]:255})),n}const XK=(e,t)=>e<255?t(e):"";function YK(e){var t=KK(e)?zK:WK;return e?"#"+t(e.r)+t(e.g)+t(e.b)+XK(e.a,t):void 0}const qK=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ZO(e,t,n){const s=t*Math.min(n,1-n),i=(r,o=(r+e/30)%12)=>n-s*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function QK(e,t,n){const s=(i,r=(i+e/60)%6)=>n-n*t*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function JK(e,t,n){const s=ZO(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)s[i]*=1-t-n,s[i]+=t;return s}function ZK(e,t,n,s,i){return e===i?(t-n)/s+(t<n?6:0):t===i?(n-e)/s+2:(e-t)/s+4}function bE(e){const n=e.r/255,s=e.g/255,i=e.b/255,r=Math.max(n,s,i),o=Math.min(n,s,i),a=(r+o)/2;let l,c,u;return r!==o&&(u=r-o,c=a>.5?u/(2-r-o):u/(r+o),l=ZK(n,s,i,u,r),l=l*60+.5),[l|0,c||0,a]}function EE(e,t,n,s){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,s)).map(ho)}function TE(e,t,n){return EE(ZO,e,t,n)}function tG(e,t,n){return EE(JK,e,t,n)}function eG(e,t,n){return EE(QK,e,t,n)}function tN(e){return(e%360+360)%360}function nG(e){const t=qK.exec(e);let n=255,s;if(!t)return;t[5]!==s&&(n=t[6]?au(+t[5]):ho(+t[5]));const i=tN(+t[2]),r=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?s=tG(i,r,o):t[1]==="hsv"?s=eG(i,r,o):s=TE(i,r,o),{r:s[0],g:s[1],b:s[2],a:n}}function sG(e,t){var n=bE(e);n[0]=tN(n[0]+t),n=TE(n),e.r=n[0],e.g=n[1],e.b=n[2]}function iG(e){if(!e)return;const t=bE(e),n=t[0],s=Q0(t[1]),i=Q0(t[2]);return e.a<255?`hsla(${n}, ${s}%, ${i}%, ${qi(e.a)})`:`hsl(${n}, ${s}%, ${i}%)`}const J0={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Z0={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function rG(){const e={},t=Object.keys(Z0),n=Object.keys(J0);let s,i,r,o,a;for(s=0;s<t.length;s++){for(o=a=t[s],i=0;i<n.length;i++)r=n[i],a=a.replace(r,J0[r]);r=parseInt(Z0[o],16),e[a]=[r>>16&255,r>>8&255,r&255]}return e}let Ff;function oG(e){Ff||(Ff=rG(),Ff.transparent=[0,0,0,0]);const t=Ff[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const aG=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function lG(e){const t=aG.exec(e);let n=255,s,i,r;if(t){if(t[7]!==s){const o=+t[7];n=t[8]?au(o):Zr(o*255,0,255)}return s=+t[1],i=+t[3],r=+t[5],s=255&(t[2]?au(s):Zr(s,0,255)),i=255&(t[4]?au(i):Zr(i,0,255)),r=255&(t[6]?au(r):Zr(r,0,255)),{r:s,g:i,b:r,a:n}}}function cG(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${qi(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const gv=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Za=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function uG(e,t,n){const s=Za(qi(e.r)),i=Za(qi(e.g)),r=Za(qi(e.b));return{r:ho(gv(s+n*(Za(qi(t.r))-s))),g:ho(gv(i+n*(Za(qi(t.g))-i))),b:ho(gv(r+n*(Za(qi(t.b))-r))),a:e.a+n*(t.a-e.a)}}function $f(e,t,n){if(e){let s=bE(e);s[t]=Math.max(0,Math.min(s[t]+s[t]*n,t===0?360:1)),s=TE(s),e.r=s[0],e.g=s[1],e.b=s[2]}}function eN(e,t){return e&&Object.assign(t||{},e)}function tA(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=ho(e[3]))):(t=eN(e,{r:0,g:0,b:0,a:1}),t.a=ho(t.a)),t}function hG(e){return e.charAt(0)==="r"?lG(e):nG(e)}class ch{constructor(t){if(t instanceof ch)return t;const n=typeof t;let s;n==="object"?s=tA(t):n==="string"&&(s=GK(t)||oG(t)||hG(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=eN(this._rgb);return t&&(t.a=qi(t.a)),t}set rgb(t){this._rgb=tA(t)}rgbString(){return this._valid?cG(this._rgb):void 0}hexString(){return this._valid?YK(this._rgb):void 0}hslString(){return this._valid?iG(this._rgb):void 0}mix(t,n){if(t){const s=this.rgb,i=t.rgb;let r;const o=n===r?.5:n,a=2*o-1,l=s.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;r=1-c,s.r=255&c*s.r+r*i.r+.5,s.g=255&c*s.g+r*i.g+.5,s.b=255&c*s.b+r*i.b+.5,s.a=o*s.a+(1-o)*i.a,this.rgb=s}return this}interpolate(t,n){return t&&(this._rgb=uG(this._rgb,t._rgb,n)),this}clone(){return new ch(this.rgb)}alpha(t){return this._rgb.a=ho(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=jh(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return $f(this._rgb,2,t),this}darken(t){return $f(this._rgb,2,-t),this}saturate(t){return $f(this._rgb,1,t),this}desaturate(t){return $f(this._rgb,1,-t),this}rotate(t){return sG(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Wi(){}const fG=(()=>{let e=0;return()=>e++})();function Oe(e){return e==null}function yn(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function be(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Ks(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function gi(e,t){return Ks(e)?e:t}function Se(e,t){return typeof e>"u"?t:e}const dG=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function Fe(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function Ce(e,t,n,s){let i,r,o;if(yn(e))for(r=e.length,i=0;i<r;i++)t.call(n,e[i],i);else if(be(e))for(o=Object.keys(e),r=o.length,i=0;i<r;i++)t.call(n,e[o[i]],o[i])}function Rp(e,t){let n,s,i,r;if(!e||!t||e.length!==t.length)return!1;for(n=0,s=e.length;n<s;++n)if(i=e[n],r=t[n],i.datasetIndex!==r.datasetIndex||i.index!==r.index)return!1;return!0}function Op(e){if(yn(e))return e.map(Op);if(be(e)){const t=Object.create(null),n=Object.keys(e),s=n.length;let i=0;for(;i<s;++i)t[n[i]]=Op(e[n[i]]);return t}return e}function nN(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function pG(e,t,n,s){if(!nN(e))return;const i=t[e],r=n[e];be(i)&&be(r)?uh(i,r,s):t[e]=Op(r)}function uh(e,t,n){const s=yn(t)?t:[t],i=s.length;if(!be(e))return e;n=n||{};const r=n.merger||pG;let o;for(let a=0;a<i;++a){if(o=s[a],!be(o))continue;const l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)r(l[c],e,o,n)}return e}function Ru(e,t){return uh(e,t,{merger:gG})}function gG(e,t,n){if(!nN(e))return;const s=t[e],i=n[e];be(s)&&be(i)?Ru(s,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=Op(i))}const eA={"":e=>e,x:e=>e.x,y:e=>e.y};function mG(e){const t=e.split("."),n=[];let s="";for(const i of t)s+=i,s.endsWith("\\")?s=s.slice(0,-1)+".":(n.push(s),s="");return n}function vG(e){const t=mG(e);return n=>{for(const s of t){if(s==="")break;n=n&&n[s]}return n}}function ql(e,t){return(eA[t]||(eA[t]=vG(t)))(e)}function SE(e){return e.charAt(0).toUpperCase()+e.slice(1)}const hh=e=>typeof e<"u",So=e=>typeof e=="function",nA=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function yG(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const bs=Math.PI,fo=2*bs,Np=Number.POSITIVE_INFINITY,_G=bs/180,ii=bs/2,Wo=bs/4,sA=bs*2/3,sN=Math.log10,po=Math.sign;function Rd(e,t,n){return Math.abs(e-t)<n}function iA(e){const t=Math.round(e);e=Rd(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(sN(e))),s=e/n;return(s<=1?1:s<=2?2:s<=5?5:10)*n}function bG(e){const t=[],n=Math.sqrt(e);let s;for(s=1;s<n;s++)e%s===0&&(t.push(s),t.push(e/s));return n===(n|0)&&t.push(n),t.sort((i,r)=>i-r).pop(),t}function EG(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function Dp(e){return!EG(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function TG(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function SG(e,t,n){let s,i,r;for(s=0,i=e.length;s<i;s++)r=e[s][n],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function na(e){return e*(bs/180)}function wG(e){return e*(180/bs)}function rA(e){if(!Ks(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function AG(e,t){const n=t.x-e.x,s=t.y-e.y,i=Math.sqrt(n*n+s*s);let r=Math.atan2(s,n);return r<-.5*bs&&(r+=fo),{angle:r,distance:i}}function IG(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Ko(e){return(e%fo+fo)%fo}function CG(e,t,n,s){const i=Ko(e),r=Ko(t),o=Ko(n),a=Ko(r-i),l=Ko(o-i),c=Ko(i-r),u=Ko(i-o);return i===r||i===o||s||a>l&&c<u}function ri(e,t,n){return Math.max(t,Math.min(n,e))}function xG(e){return ri(e,-32768,32767)}function ml(e,t,n,s=1e-6){return e>=Math.min(t,n)-s&&e<=Math.max(t,n)+s}function wE(e,t,n){n=n||(o=>e[o]<t);let s=e.length-1,i=0,r;for(;s-i>1;)r=i+s>>1,n(r)?i=r:s=r;return{lo:i,hi:s}}const qy=(e,t,n,s)=>wE(e,n,s?i=>{const r=e[i][t];return r<n||r===n&&e[i+1][t]===n}:i=>e[i][t]<n),PG=(e,t,n)=>wE(e,n,s=>e[s][t]>=n);function RG(e,t,n){let s=0,i=e.length;for(;s<i&&e[s]<t;)s++;for(;i>s&&e[i-1]>n;)i--;return s>0||i<e.length?e.slice(s,i):e}const iN=["push","pop","shift","splice","unshift"];function OG(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),iN.forEach(n=>{const s="_onData"+SE(n),i=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...r){const o=i.apply(this,r);return e._chartjs.listeners.forEach(a=>{typeof a[s]=="function"&&a[s](...r)}),o}})})}function oA(e,t){const n=e._chartjs;if(!n)return;const s=n.listeners,i=s.indexOf(t);i!==-1&&s.splice(i,1),!(s.length>0)&&(iN.forEach(r=>{delete e[r]}),delete e._chartjs)}function rN(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const oN=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function aN(e,t){let n=[],s=!1;return function(...i){n=i,s||(s=!0,oN.call(window,()=>{s=!1,e.apply(t,n)}))}}function NG(e,t){let n;return function(...s){return t?(clearTimeout(n),n=setTimeout(e,t,s)):e.apply(this,s),t}}const lN=e=>e==="start"?"left":e==="end"?"right":"center",As=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,DG=(e,t,n,s)=>e===(s?"left":"right")?n:e==="center"?(t+n)/2:t,Uf=e=>e===0||e===1,aA=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*fo/n)),lA=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*fo/n)+1,Ou={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*ii)+1,easeOutSine:e=>Math.sin(e*ii),easeInOutSine:e=>-.5*(Math.cos(bs*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Uf(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Uf(e)?e:aA(e,.075,.3),easeOutElastic:e=>Uf(e)?e:lA(e,.075,.3),easeInOutElastic(e){return Uf(e)?e:e<.5?.5*aA(e*2,.1125,.45):.5+.5*lA(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Ou.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Ou.easeInBounce(e*2)*.5:Ou.easeOutBounce(e*2-1)*.5+.5};function cN(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function cA(e){return cN(e)?e:new ch(e)}function mv(e){return cN(e)?e:new ch(e).saturate(.5).darken(.1).hexString()}const kG=["x","y","borderWidth","radius","tension"],MG=["color","borderColor","backgroundColor"];function LG(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:MG},numbers:{type:"number",properties:kG}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function VG(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const uA=new Map;function FG(e,t){t=t||{};const n=e+JSON.stringify(t);let s=uA.get(n);return s||(s=new Intl.NumberFormat(e,t),uA.set(n,s)),s}function uN(e,t,n){return FG(t,n).format(e)}const $G={values(e){return yn(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const s=this.chart.options.locale;let i,r=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),r=UG(e,n)}const o=sN(Math.abs(r)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),uN(e,s,l)}};function UG(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var hN={formatters:$G};function BG(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:hN.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ra=Object.create(null),Qy=Object.create(null);function Nu(e,t){if(!t)return e;const n=t.split(".");for(let s=0,i=n.length;s<i;++s){const r=n[s];e=e[r]||(e[r]=Object.create(null))}return e}function vv(e,t,n){return typeof t=="string"?uh(Nu(e,t),n):uh(Nu(e,""),t)}class jG{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,i)=>mv(i.backgroundColor),this.hoverBorderColor=(s,i)=>mv(i.borderColor),this.hoverColor=(s,i)=>mv(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return vv(this,t,n)}get(t){return Nu(this,t)}describe(t,n){return vv(Qy,t,n)}override(t,n){return vv(Ra,t,n)}route(t,n,s,i){const r=Nu(this,t),o=Nu(this,s),a="_"+n;Object.defineProperties(r,{[a]:{value:r[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return be(l)?Object.assign({},c,l):Se(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(n=>n(this))}}var rn=new jG({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[LG,VG,BG]);function HG(e){return!e||Oe(e.size)||Oe(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function hA(e,t,n,s,i){let r=t[i];return r||(r=t[i]=e.measureText(i).width,n.push(i)),r>s&&(s=r),s}function Go(e,t,n){const s=e.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((t-i)*s)/s+i}function fA(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function dA(e,t,n,s){fN(e,t,n,s,null)}function fN(e,t,n,s,i){let r,o,a,l,c,u,h,d;const p=t.pointStyle,g=t.rotation,m=t.radius;let y=(g||0)*_G;if(p&&typeof p=="object"&&(r=p.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){e.save(),e.translate(n,s),e.rotate(y),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),e.restore();return}if(!(isNaN(m)||m<=0)){switch(e.beginPath(),p){default:i?e.ellipse(n,s,i/2,m,0,0,fo):e.arc(n,s,m,0,fo),e.closePath();break;case"triangle":u=i?i/2:m,e.moveTo(n+Math.sin(y)*u,s-Math.cos(y)*m),y+=sA,e.lineTo(n+Math.sin(y)*u,s-Math.cos(y)*m),y+=sA,e.lineTo(n+Math.sin(y)*u,s-Math.cos(y)*m),e.closePath();break;case"rectRounded":c=m*.516,l=m-c,o=Math.cos(y+Wo)*l,h=Math.cos(y+Wo)*(i?i/2-c:l),a=Math.sin(y+Wo)*l,d=Math.sin(y+Wo)*(i?i/2-c:l),e.arc(n-h,s-a,c,y-bs,y-ii),e.arc(n+d,s-o,c,y-ii,y),e.arc(n+h,s+a,c,y,y+ii),e.arc(n-d,s+o,c,y+ii,y+bs),e.closePath();break;case"rect":if(!g){l=Math.SQRT1_2*m,u=i?i/2:l,e.rect(n-u,s-l,2*u,2*l);break}y+=Wo;case"rectRot":h=Math.cos(y)*(i?i/2:m),o=Math.cos(y)*m,a=Math.sin(y)*m,d=Math.sin(y)*(i?i/2:m),e.moveTo(n-h,s-a),e.lineTo(n+d,s-o),e.lineTo(n+h,s+a),e.lineTo(n-d,s+o),e.closePath();break;case"crossRot":y+=Wo;case"cross":h=Math.cos(y)*(i?i/2:m),o=Math.cos(y)*m,a=Math.sin(y)*m,d=Math.sin(y)*(i?i/2:m),e.moveTo(n-h,s-a),e.lineTo(n+h,s+a),e.moveTo(n+d,s-o),e.lineTo(n-d,s+o);break;case"star":h=Math.cos(y)*(i?i/2:m),o=Math.cos(y)*m,a=Math.sin(y)*m,d=Math.sin(y)*(i?i/2:m),e.moveTo(n-h,s-a),e.lineTo(n+h,s+a),e.moveTo(n+d,s-o),e.lineTo(n-d,s+o),y+=Wo,h=Math.cos(y)*(i?i/2:m),o=Math.cos(y)*m,a=Math.sin(y)*m,d=Math.sin(y)*(i?i/2:m),e.moveTo(n-h,s-a),e.lineTo(n+h,s+a),e.moveTo(n+d,s-o),e.lineTo(n-d,s+o);break;case"line":o=i?i/2:Math.cos(y)*m,a=Math.sin(y)*m,e.moveTo(n-o,s-a),e.lineTo(n+o,s+a);break;case"dash":e.moveTo(n,s),e.lineTo(n+Math.cos(y)*(i?i/2:m),s+Math.sin(y)*m);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function dN(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function AE(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function IE(e){e.restore()}function zG(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Oe(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function WG(e,t,n,s,i){if(i.strikethrough||i.underline){const r=e.measureText(s),o=t-r.actualBoundingBoxLeft,a=t+r.actualBoundingBoxRight,l=n-r.actualBoundingBoxAscent,c=n+r.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,u),e.lineTo(a,u),e.stroke()}}function KG(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function kp(e,t,n,s,i,r={}){const o=yn(t)?t:[t],a=r.strokeWidth>0&&r.strokeColor!=="";let l,c;for(e.save(),e.font=i.string,zG(e,r),l=0;l<o.length;++l)c=o[l],r.backdrop&&KG(e,r.backdrop),a&&(r.strokeColor&&(e.strokeStyle=r.strokeColor),Oe(r.strokeWidth)||(e.lineWidth=r.strokeWidth),e.strokeText(c,n,s,r.maxWidth)),e.fillText(c,n,s,r.maxWidth),WG(e,n,s,c,r),s+=Number(i.lineHeight);e.restore()}function Mp(e,t){const{x:n,y:s,w:i,h:r,radius:o}=t;e.arc(n+o.topLeft,s+o.topLeft,o.topLeft,1.5*bs,bs,!0),e.lineTo(n,s+r-o.bottomLeft),e.arc(n+o.bottomLeft,s+r-o.bottomLeft,o.bottomLeft,bs,ii,!0),e.lineTo(n+i-o.bottomRight,s+r),e.arc(n+i-o.bottomRight,s+r-o.bottomRight,o.bottomRight,ii,0,!0),e.lineTo(n+i,s+o.topRight),e.arc(n+i-o.topRight,s+o.topRight,o.topRight,0,-ii,!0),e.lineTo(n+o.topLeft,s)}const GG=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,XG=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function YG(e,t){const n=(""+e).match(GG);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const qG=e=>+e||0;function pN(e,t){const n={},s=be(t),i=s?Object.keys(t):t,r=be(e)?s?o=>Se(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of i)n[o]=qG(r(o));return n}function gN(e){return pN(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Il(e){return pN(e,["topLeft","topRight","bottomLeft","bottomRight"])}function di(e){const t=gN(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ys(e,t){e=e||{},t=t||rn.font;let n=Se(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let s=Se(e.style,t.style);s&&!(""+s).match(XG)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const i={family:Se(e.family,t.family),lineHeight:YG(Se(e.lineHeight,t.lineHeight),n),size:n,style:s,weight:Se(e.weight,t.weight),string:""};return i.string=HG(i),i}function Bf(e,t,n,s){let i,r,o;for(i=0,r=e.length;i<r;++i)if(o=e[i],o!==void 0&&o!==void 0)return o}function QG(e,t,n){const{min:s,max:i}=e,r=dG(t,(i-s)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(s,-Math.abs(r)),max:o(i,r)}}function vc(e,t){return Object.assign(Object.create(e),t)}function CE(e,t=[""],n,s,i=()=>e[0]){const r=n||e;typeof s>"u"&&(s=_N("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:r,_fallback:s,_getTarget:i,override:a=>CE([a,...e],t,r,s)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return vN(a,l,()=>rX(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return gA(a).includes(l)},ownKeys(a){return gA(a)},set(a,l,c){const u=a._storage||(a._storage=i());return a[l]=u[l]=c,delete a._keys,!0}})}function Ql(e,t,n,s){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:mN(e,s),setContext:r=>Ql(e,r,n,s),override:r=>Ql(e.override(r),t,n,s)};return new Proxy(i,{deleteProperty(r,o){return delete r[o],delete e[o],!0},get(r,o,a){return vN(r,o,()=>ZG(r,o,a))},getOwnPropertyDescriptor(r,o){return r._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(r,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(r,o,a){return e[o]=a,delete r[o],!0}})}function mN(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:s=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:s,isScriptable:So(n)?n:()=>n,isIndexable:So(s)?s:()=>s}}const JG=(e,t)=>e?e+SE(t):t,xE=(e,t)=>be(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function vN(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const s=n();return e[t]=s,s}function ZG(e,t,n){const{_proxy:s,_context:i,_subProxy:r,_descriptors:o}=e;let a=s[t];return So(a)&&o.isScriptable(t)&&(a=tX(t,a,e,n)),yn(a)&&a.length&&(a=eX(t,a,e,o.isIndexable)),xE(t,a)&&(a=Ql(a,i,r&&r[t],o)),a}function tX(e,t,n,s){const{_proxy:i,_context:r,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(r,o||s);return a.delete(e),xE(e,l)&&(l=PE(i._scopes,i,e,l)),l}function eX(e,t,n,s){const{_proxy:i,_context:r,_subProxy:o,_descriptors:a}=n;if(typeof r.index<"u"&&s(e))return t[r.index%t.length];if(be(t[0])){const l=t,c=i._scopes.filter(u=>u!==l);t=[];for(const u of l){const h=PE(c,i,e,u);t.push(Ql(h,r,o&&o[e],a))}}return t}function yN(e,t,n){return So(e)?e(t,n):e}const nX=(e,t)=>e===!0?t:typeof e=="string"?ql(t,e):void 0;function sX(e,t,n,s,i){for(const r of t){const o=nX(n,r);if(o){e.add(o);const a=yN(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==s)return a}else if(o===!1&&typeof s<"u"&&n!==s)return null}return!1}function PE(e,t,n,s){const i=t._rootScopes,r=yN(t._fallback,n,s),o=[...e,...i],a=new Set;a.add(s);let l=pA(a,o,n,r||n,s);return l===null||typeof r<"u"&&r!==n&&(l=pA(a,o,r,l,s),l===null)?!1:CE(Array.from(a),[""],i,r,()=>iX(t,n,s))}function pA(e,t,n,s,i){for(;n;)n=sX(e,t,n,s,i);return n}function iX(e,t,n){const s=e._getTarget();t in s||(s[t]={});const i=s[t];return yn(i)&&be(n)?n:i||{}}function rX(e,t,n,s){let i;for(const r of t)if(i=_N(JG(r,e),n),typeof i<"u")return xE(e,i)?PE(n,s,e,i):i}function _N(e,t){for(const n of t){if(!n)continue;const s=n[e];if(typeof s<"u")return s}}function gA(e){let t=e._keys;return t||(t=e._keys=oX(e._scopes)),t}function oX(e){const t=new Set;for(const n of e)for(const s of Object.keys(n).filter(i=>!i.startsWith("_")))t.add(s);return Array.from(t)}function RE(){return typeof window<"u"&&typeof document<"u"}function OE(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Lp(e,t,n){let s;return typeof e=="string"?(s=parseInt(e,10),e.indexOf("%")!==-1&&(s=s/100*t.parentNode[n])):s=e,s}const sm=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function aX(e,t){return sm(e).getPropertyValue(t)}const lX=["top","right","bottom","left"];function va(e,t,n){const s={};n=n?"-"+n:"";for(let i=0;i<4;i++){const r=lX[i];s[r]=parseFloat(e[t+"-"+r+n])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const cX=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function uX(e,t){const n=e.touches,s=n&&n.length?n[0]:e,{offsetX:i,offsetY:r}=s;let o=!1,a,l;if(cX(i,r,e.target))a=i,l=r;else{const c=t.getBoundingClientRect();a=s.clientX-c.left,l=s.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Jo(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:s}=t,i=sm(n),r=i.boxSizing==="border-box",o=va(i,"padding"),a=va(i,"border","width"),{x:l,y:c,box:u}=uX(e,n),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:p,height:g}=t;return r&&(p-=o.width+a.width,g-=o.height+a.height),{x:Math.round((l-h)/p*n.width/s),y:Math.round((c-d)/g*n.height/s)}}function hX(e,t,n){let s,i;if(t===void 0||n===void 0){const r=e&&OE(e);if(!r)t=e.clientWidth,n=e.clientHeight;else{const o=r.getBoundingClientRect(),a=sm(r),l=va(a,"border","width"),c=va(a,"padding");t=o.width-c.width-l.width,n=o.height-c.height-l.height,s=Lp(a.maxWidth,r,"clientWidth"),i=Lp(a.maxHeight,r,"clientHeight")}}return{width:t,height:n,maxWidth:s||Np,maxHeight:i||Np}}const jf=e=>Math.round(e*10)/10;function fX(e,t,n,s){const i=sm(e),r=va(i,"margin"),o=Lp(i.maxWidth,e,"clientWidth")||Np,a=Lp(i.maxHeight,e,"clientHeight")||Np,l=hX(e,t,n);let{width:c,height:u}=l;if(i.boxSizing==="content-box"){const d=va(i,"border","width"),p=va(i,"padding");c-=p.width+d.width,u-=p.height+d.height}return c=Math.max(0,c-r.width),u=Math.max(0,s?c/s:u-r.height),c=jf(Math.min(c,o,l.maxWidth)),u=jf(Math.min(u,a,l.maxHeight)),c&&!u&&(u=jf(c/2)),(t!==void 0||n!==void 0)&&s&&l.height&&u>l.height&&(u=l.height,c=jf(Math.floor(u*s))),{width:c,height:u}}function mA(e,t,n){const s=t||1,i=Math.floor(e.height*s),r=Math.floor(e.width*s);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==s||o.height!==i||o.width!==r?(e.currentDevicePixelRatio=s,o.height=i,o.width=r,e.ctx.setTransform(s,0,0,s,0,0),!0):!1}const dX=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};RE()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function vA(e,t){const n=aX(e,t),s=n&&n.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}const pX=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,s){return n-s},leftForLtr(n,s){return n-s}}},gX=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Cl(e,t,n){return e?pX(t,n):gX()}function bN(e,t){let n,s;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,s=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=s)}function EN(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Hf(e,t,n){return e.options.clip?e[n]:t[n]}function mX(e,t){const{xScale:n,yScale:s}=e;return n&&s?{left:Hf(n,t,"left"),right:Hf(n,t,"right"),top:Hf(s,t,"top"),bottom:Hf(s,t,"bottom")}:t}function vX(e,t){const n=t._clip;if(n.disabled)return!1;const s=mX(t,e.chartArea);return{left:n.left===!1?0:s.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:s.right+(n.right===!0?0:n.right),top:n.top===!1?0:s.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:s.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class yX{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,s,i){const r=n.listeners[i],o=n.duration;r.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(s-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=oN.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((s,i)=>{if(!s.running||!s.items.length)return;const r=s.items;let o=r.length-1,a=!1,l;for(;o>=0;--o)l=r[o],l._active?(l._total>s.duration&&(s.duration=l._total),l.tick(t),a=!0):(r[o]=r[r.length-1],r.pop());a&&(i.draw(),this._notify(i,s,t,"progress")),r.length||(s.running=!1,this._notify(i,s,t,"complete"),s.initial=!1),n+=r.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let s=n.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,s)),s}listen(t,n,s){this._getAnims(t).listeners[n].push(s)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((s,i)=>Math.max(s,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const s=n.items;let i=s.length-1;for(;i>=0;--i)s[i].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Gi=new yX;const yA="transparent",_X={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const s=cA(e||yA),i=s.valid&&cA(t||yA);return i&&i.valid?i.mix(s,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class bX{constructor(t,n,s,i){const r=n[s];i=Bf([t.to,i,r,t.from]);const o=Bf([t.from,r,i]);this._active=!0,this._fn=t.fn||_X[t.type||typeof o],this._easing=Ou[t.easing]||Ou.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=s,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,n,s){if(this._active){this._notify(!1);const i=this._target[this._prop],r=s-this._start,o=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Bf([t.to,n,i,t.from]),this._from=Bf([t.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,s=this._duration,i=this._prop,r=this._from,o=this._loop,a=this._to;let l;if(this._active=r!==a&&(o||n<s),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=r;return}l=n/s%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(r,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,s)=>{t.push({res:n,rej:s})})}_notify(t){const n=t?"res":"rej",s=this._promises||[];for(let i=0;i<s.length;i++)s[i][n]()}}class TN{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!be(t))return;const n=Object.keys(rn.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const r=t[i];if(!be(r))return;const o={};for(const a of n)o[a]=r[a];(yn(r.properties)&&r.properties||[i]).forEach(a=>{(a===i||!s.has(a))&&s.set(a,o)})})}_animateOptions(t,n){const s=n.options,i=TX(t,s);if(!i)return[];const r=this._createAnimations(i,s);return s.$shared&&EX(t.options.$animations,s).then(()=>{t.options=s},()=>{}),r}_createAnimations(t,n){const s=this._properties,i=[],r=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(t,n));continue}const u=n[c];let h=r[c];const d=s.get(c);if(h)if(d&&h.active()){h.update(d,u,a);continue}else h.cancel();if(!d||!d.duration){t[c]=u;continue}r[c]=h=new bX(d,t,c,u),i.push(h)}return i}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const s=this._createAnimations(t,n);if(s.length)return Gi.add(this._chart,s),!0}}function EX(e,t){const n=[],s=Object.keys(t);for(let i=0;i<s.length;i++){const r=e[s[i]];r&&r.active()&&n.push(r.wait())}return Promise.all(n)}function TX(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function _A(e,t){const n=e&&e.options||{},s=n.reverse,i=n.min===void 0?t:0,r=n.max===void 0?t:0;return{start:s?r:i,end:s?i:r}}function SX(e,t,n){if(n===!1)return!1;const s=_A(e,n),i=_A(t,n);return{top:i.end,right:s.end,bottom:i.start,left:s.start}}function wX(e){let t,n,s,i;return be(e)?(t=e.top,n=e.right,s=e.bottom,i=e.left):t=n=s=i=e,{top:t,right:n,bottom:s,left:i,disabled:e===!1}}function SN(e,t){const n=[],s=e._getSortedDatasetMetas(t);let i,r;for(i=0,r=s.length;i<r;++i)n.push(s[i].index);return n}function bA(e,t,n,s={}){const i=e.keys,r=s.mode==="single";let o,a,l,c;if(t===null)return;let u=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(u=!0,s.all)continue;break}c=e.values[l],Ks(c)&&(r||t===0||po(t)===po(c))&&(t+=c)}return!u&&!s.all?0:t}function AX(e,t){const{iScale:n,vScale:s}=t,i=n.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[r]:e[u]};return a}function yv(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function IX(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function CX(e){const{min:t,max:n,minDefined:s,maxDefined:i}=e.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function xX(e,t,n){const s=e[t]||(e[t]={});return s[n]||(s[n]={})}function EA(e,t,n,s){for(const i of t.getMatchingVisibleMetas(s).reverse()){const r=e[i.index];if(n&&r>0||!n&&r<0)return i.index}return null}function TA(e,t){const{chart:n,_cachedMeta:s}=e,i=n._stacks||(n._stacks={}),{iScale:r,vScale:o,index:a}=s,l=r.axis,c=o.axis,u=IX(r,o,s),h=t.length;let d;for(let p=0;p<h;++p){const g=t[p],{[l]:m,[c]:y}=g,E=g._stacks||(g._stacks={});d=E[c]=xX(i,u,m),d[a]=y,d._top=EA(d,o,!0,s.type),d._bottom=EA(d,o,!1,s.type);const A=d._visualValues||(d._visualValues={});A[a]=y}}function _v(e,t){const n=e.scales;return Object.keys(n).filter(s=>n[s].axis===t).shift()}function PX(e,t){return vc(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function RX(e,t,n){return vc(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function jc(e,t){const n=e.controller.index,s=e.vScale&&e.vScale.axis;if(s){t=t||e._parsed;for(const i of t){const r=i._stacks;if(!r||r[s]===void 0||r[s][n]===void 0)return;delete r[s][n],r[s]._visualValues!==void 0&&r[s]._visualValues[n]!==void 0&&delete r[s]._visualValues[n]}}}const bv=e=>e==="reset"||e==="none",SA=(e,t)=>t?e:Object.assign({},e),OX=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:SN(n,!0),values:null};class wN{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=yv(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&jc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,s=this.getDataset(),i=(h,d,p,g)=>h==="x"?d:h==="r"?g:p,r=n.xAxisID=Se(s.xAxisID,_v(t,"x")),o=n.yAxisID=Se(s.yAxisID,_v(t,"y")),a=n.rAxisID=Se(s.rAxisID,_v(t,"r")),l=n.indexAxis,c=n.iAxisID=i(l,r,o,a),u=n.vAxisID=i(l,o,r,a);n.xScale=this.getScaleForId(r),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(u)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&oA(this._data,this),t._stacked&&jc(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),s=this._data;if(be(n)){const i=this._cachedMeta;this._data=AX(n,i)}else if(s!==n){if(s){oA(s,this);const i=this._cachedMeta;jc(i),i._parsed=[]}n&&Object.isExtensible(n)&&OG(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,s=this.getDataset();let i=!1;this._dataCheck();const r=n._stacked;n._stacked=yv(n.vScale,n),n.stack!==s.stack&&(i=!0,jc(n),n.stack=s.stack),this._resyncElements(t),(i||r!==n._stacked)&&(TA(this,n._parsed),n._stacked=yv(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:s,_data:i}=this,{iScale:r,_stacked:o}=s,a=r.axis;let l=t===0&&n===i.length?!0:s._sorted,c=t>0&&s._parsed[t-1],u,h,d;if(this._parsing===!1)s._parsed=i,s._sorted=!0,d=i;else{yn(i[t])?d=this.parseArrayData(s,i,t,n):be(i[t])?d=this.parseObjectData(s,i,t,n):d=this.parsePrimitiveData(s,i,t,n);const p=()=>h[a]===null||c&&h[a]<c[a];for(u=0;u<n;++u)s._parsed[u+t]=h=d[u],l&&(p()&&(l=!1),c=h);s._sorted=l}o&&TA(this,d)}parsePrimitiveData(t,n,s,i){const{iScale:r,vScale:o}=t,a=r.axis,l=o.axis,c=r.getLabels(),u=r===o,h=new Array(i);let d,p,g;for(d=0,p=i;d<p;++d)g=d+s,h[d]={[a]:u||r.parse(c[g],g),[l]:o.parse(n[g],g)};return h}parseArrayData(t,n,s,i){const{xScale:r,yScale:o}=t,a=new Array(i);let l,c,u,h;for(l=0,c=i;l<c;++l)u=l+s,h=n[u],a[l]={x:r.parse(h[0],u),y:o.parse(h[1],u)};return a}parseObjectData(t,n,s,i){const{xScale:r,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let u,h,d,p;for(u=0,h=i;u<h;++u)d=u+s,p=n[d],c[u]={x:r.parse(ql(p,a),d),y:o.parse(ql(p,l),d)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,s){const i=this.chart,r=this._cachedMeta,o=n[t.axis],a={keys:SN(i,!0),values:n._stacks[t.axis]._visualValues};return bA(a,o,r.index,{mode:s})}updateRangeFromParsed(t,n,s,i){const r=s[n.axis];let o=r===null?NaN:r;const a=i&&s._stacks[n.axis];i&&a&&(i.values=a,o=bA(i,r,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const s=this._cachedMeta,i=s._parsed,r=s._sorted&&t===s.iScale,o=i.length,a=this._getOtherScale(t),l=OX(n,s,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:u,max:h}=CX(a);let d,p;function g(){p=i[d];const m=p[a.axis];return!Ks(p[t.axis])||u>m||h<m}for(d=0;d<o&&!(!g()&&(this.updateRangeFromParsed(c,t,p,l),r));++d);if(r){for(d=o-1;d>=0;--d)if(!g()){this.updateRangeFromParsed(c,t,p,l);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,s=[];let i,r,o;for(i=0,r=n.length;i<r;++i)o=n[i][t.axis],Ks(o)&&s.push(o);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,s=n.iScale,i=n.vScale,r=this.getParsed(t);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=wX(Se(this.options.clip,SX(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,s=this._cachedMeta,i=s.data||[],r=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let u;for(s.dataset&&s.dataset.draw(t,r,a,l),u=a;u<a+l;++u){const h=i[u];h.hidden||(h.active&&c?o.push(h):h.draw(t,r))}for(u=0;u<o.length;++u)o[u].draw(t,r)}getStyle(t,n){const s=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,n,s){const i=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];r=o.$context||(o.$context=RX(this.getContext(),t,o)),r.parsed=this.getParsed(t),r.raw=i.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=PX(this.chart.getContext(),this.index)),r.dataset=i,r.index=r.datasetIndex=this.index;return r.active=!!n,r.mode=s,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",s){const i=n==="active",r=this._cachedDataOpts,o=t+"-"+n,a=r[o],l=this.enableOptionSharing&&hh(s);if(a)return SA(a,l);const c=this.chart.config,u=c.datasetElementScopeKeys(this._type,t),h=i?[`${t}Hover`,"hover",t,""]:[t,""],d=c.getOptionScopes(this.getDataset(),u),p=Object.keys(rn.elements[t]),g=()=>this.getContext(s,i,n),m=c.resolveNamedOptions(d,p,g,h);return m.$shared&&(m.$shared=l,r[o]=Object.freeze(SA(m,l))),m}_resolveAnimations(t,n,s){const i=this.chart,r=this._cachedDataOpts,o=`animation-${n}`,a=r[o];if(a)return a;let l;if(i.options.animation!==!1){const u=this.chart.config,h=u.datasetAnimationScopeKeys(this._type,n),d=u.getOptionScopes(this.getDataset(),h);l=u.createResolver(d,this.getContext(t,s,n))}const c=new TN(i,l&&l.animations);return l&&l._cacheable&&(r[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||bv(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const s=this.resolveDataElementOptions(t,n),i=this._sharedOptions,r=this.getSharedOptions(s),o=this.includeOptions(n,r)||r!==i;return this.updateSharedOptions(r,n,s),{sharedOptions:r,includeOptions:o}}updateElement(t,n,s,i){bv(i)?Object.assign(t,s):this._resolveAnimations(n,i).update(t,s)}updateSharedOptions(t,n,s){t&&!bv(n)&&this._resolveAnimations(void 0,n).update(t,s)}_setStyle(t,n,s,i){t.active=i;const r=this.getStyle(n,i);this._resolveAnimations(n,s,i).update(t,{options:!i&&this.getSharedOptions(r)||r})}removeHoverStyle(t,n,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,n,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,s=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=s.length,r=n.length,o=Math.min(r,i);o&&this.parse(0,o),r>i?this._insertElements(i,r-i,t):r<i&&this._removeElements(r,i-r)}_insertElements(t,n,s=!0){const i=this._cachedMeta,r=i.data,o=t+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(r),a=t;a<o;++a)r[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(t,n),s&&this.updateElements(r,t,n,"reset")}updateElements(t,n,s,i){}_removeElements(t,n){const s=this._cachedMeta;if(this._parsing){const i=s._parsed.splice(t,n);s._stacked&&jc(s,i)}s.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,s,i]=t;this[n](s,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function NX(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let s=[];for(let i=0,r=n.length;i<r;i++)s=s.concat(n[i].controller.getAllParsedValues(e));e._cache.$bar=rN(s.sort((i,r)=>i-r))}return e._cache.$bar}function DX(e){const t=e.iScale,n=NX(t,e.type);let s=t._length,i,r,o,a;const l=()=>{o===32767||o===-32768||(hh(a)&&(s=Math.min(s,Math.abs(o-a)||s)),a=o)};for(i=0,r=n.length;i<r;++i)o=t.getPixelForValue(n[i]),l();for(a=void 0,i=0,r=t.ticks.length;i<r;++i)o=t.getPixelForTick(i),l();return s}function kX(e,t,n,s){const i=n.barThickness;let r,o;return Oe(i)?(r=t.min*n.categoryPercentage,o=n.barPercentage):(r=i*s,o=1),{chunk:r/s,ratio:o,start:t.pixels[e]-r/2}}function MX(e,t,n,s){const i=t.pixels,r=i[e];let o=e>0?i[e-1]:null,a=e<i.length-1?i[e+1]:null;const l=n.categoryPercentage;o===null&&(o=r-(a===null?t.end-t.start:a-r)),a===null&&(a=r+r-o);const c=r-(r-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/s,ratio:n.barPercentage,start:c}}function LX(e,t,n,s){const i=n.parse(e[0],s),r=n.parse(e[1],s),o=Math.min(i,r),a=Math.max(i,r);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:r,min:o,max:a}}function AN(e,t,n,s){return yn(e)?LX(e,t,n,s):t[n.axis]=n.parse(e,s),t}function wA(e,t,n,s){const i=e.iScale,r=e.vScale,o=i.getLabels(),a=i===r,l=[];let c,u,h,d;for(c=n,u=n+s;c<u;++c)d=t[c],h={},h[i.axis]=a||i.parse(o[c],c),l.push(AN(d,h,r,c));return l}function Ev(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function VX(e,t,n){return e!==0?po(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function FX(e){let t,n,s,i,r;return e.horizontal?(t=e.base>e.x,n="left",s="right"):(t=e.base<e.y,n="bottom",s="top"),t?(i="end",r="start"):(i="start",r="end"),{start:n,end:s,reverse:t,top:i,bottom:r}}function $X(e,t,n,s){let i=t.borderSkipped;const r={};if(!i){e.borderSkipped=r;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:u}=FX(e);i==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===s?i=c:(n._bottom||0)===s?i=u:(r[AA(u,o,a,l)]=!0,i=c)),r[AA(i,o,a,l)]=!0,e.borderSkipped=r}function AA(e,t,n,s){return s?(e=UX(e,t,n),e=IA(e,n,t)):e=IA(e,t,n),e}function UX(e,t,n){return e===t?n:e===n?t:e}function IA(e,t,n){return e==="start"?t:e==="end"?n:e}function BX(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class jX extends wN{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,n,s,i){return wA(t,n,s,i)}parseArrayData(t,n,s,i){return wA(t,n,s,i)}parseObjectData(t,n,s,i){const{iScale:r,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=r.axis==="x"?a:l,u=o.axis==="x"?a:l,h=[];let d,p,g,m;for(d=s,p=s+i;d<p;++d)m=n[d],g={},g[r.axis]=r.parse(ql(m,c),d),h.push(AN(ql(m,u),g,o,d));return h}updateRangeFromParsed(t,n,s,i){super.updateRangeFromParsed(t,n,s,i);const r=s._custom;r&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,r.min),t.max=Math.max(t.max,r.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:s,vScale:i}=n,r=this.getParsed(t),o=r._custom,a=Ev(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+s.getLabelForValue(r[s.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,s,i){const r=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),u=this._getRuler(),{sharedOptions:h,includeOptions:d}=this._getSharedOptions(n,i);for(let p=n;p<n+s;p++){const g=this.getParsed(p),m=r||Oe(g[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),y=this._calculateBarIndexPixels(p,u),E=(g._stacks||{})[a.axis],A={horizontal:c,base:m.base,enableBorderRadius:!E||Ev(g._custom)||o===E._top||o===E._bottom,x:c?m.head:y.center,y:c?y.center:m.head,height:c?y.size:Math.abs(m.size),width:c?Math.abs(m.size):y.size};d&&(A.options=h||this.resolveDataElementOptions(p,t[p].active?"active":i));const w=A.options||t[p].options;$X(A,w,E,o),BX(A,w,u.ratio),this.updateElement(t[p],p,A,i)}}_getStacks(t,n){const{iScale:s}=this._cachedMeta,i=s.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),r=s.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[s.axis],c=u=>{const h=u._parsed.find(p=>p[s.axis]===l),d=h&&h[u.vScale.axis];if(Oe(d)||isNaN(d))return!0};for(const u of i)if(!(n!==void 0&&c(u))&&((r===!1||o.indexOf(u.stack)===-1||r===void 0&&u.stack===void 0)&&o.push(u.stack),u.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(s=>t[s].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const s of this.chart.data.datasets)t[Se(this.chart.options.indexAxis==="x"?s.xAxisID:s.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,s){const i=this._getStacks(t,s),r=n!==void 0?i.indexOf(n):-1;return r===-1?i.length-1:r}_getRuler(){const t=this.options,n=this._cachedMeta,s=n.iScale,i=[];let r,o;for(r=0,o=n.data.length;r<o;++r)i.push(s.getPixelForValue(this.getParsed(r)[s.axis],r));const a=t.barThickness;return{min:a||DX(n),pixels:i,start:s._startPixel,end:s._endPixel,stackCount:this._getStackCount(),scale:s,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:s,index:i},options:{base:r,minBarLength:o}}=this,a=r||0,l=this.getParsed(t),c=l._custom,u=Ev(c);let h=l[n.axis],d=0,p=s?this.applyStack(n,l,s):h,g,m;p!==h&&(d=p-h,p=h),u&&(h=c.barStart,p=c.barEnd-c.barStart,h!==0&&po(h)!==po(c.barEnd)&&(d=0),d+=h);const y=!Oe(r)&&!u?r:d;let E=n.getPixelForValue(y);if(this.chart.getDataVisibility(t)?g=n.getPixelForValue(d+p):g=E,m=g-E,Math.abs(m)<o){m=VX(m,n,a)*o,h===a&&(E-=m/2);const A=n.getPixelForDecimal(0),w=n.getPixelForDecimal(1),C=Math.min(A,w),O=Math.max(A,w);E=Math.max(Math.min(E,O),C),g=E+m,s&&!u&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(g)-n.getValueForPixel(E))}if(E===n.getPixelForValue(a)){const A=po(m)*n.getLineWidthForValue(a)/2;E+=A,m-=A}return{size:m,base:E,head:g,center:g+m/2}}_calculateBarIndexPixels(t,n){const s=n.scale,i=this.options,r=i.skipNull,o=Se(i.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(n.grouped){const u=r?this._getStackCount(t):n.stackCount,h=i.barThickness==="flex"?MX(t,n,i,u*c):kX(t,n,i,u*c),d=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(Se(d,this.getFirstScaleIdForIndexAxis())),g=this._getStackIndex(this.index,this._cachedMeta.stack,r?t:void 0)+p;a=h.start+h.chunk*g+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=s.getPixelForValue(this.getParsed(t)[s.axis],t),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,s=t.data,i=s.length;let r=0;for(;r<i;++r)this.getParsed(r)[n.axis]!==null&&!s[r].hidden&&s[r].draw(this._ctx)}}function Xo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class NE{static override(t){Object.assign(NE.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Xo()}parse(){return Xo()}format(){return Xo()}add(){return Xo()}diff(){return Xo()}startOf(){return Xo()}endOf(){return Xo()}}var HX={_date:NE};function zX(e,t,n,s){const{controller:i,data:r,_sorted:o}=e,a=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&r.length){const c=a._reversePixels?PG:qy;if(s){if(i._sharedOptions){const u=r[0],h=typeof u.getRange=="function"&&u.getRange(t);if(h){const d=c(r,t,n-h),p=c(r,t,n+h);return{lo:d.lo,hi:p.hi}}}}else{const u=c(r,t,n);if(l){const{vScale:h}=i._cachedMeta,{_parsed:d}=e,p=d.slice(0,u.lo+1).reverse().findIndex(m=>!Oe(m[h.axis]));u.lo-=Math.max(0,p);const g=d.slice(u.hi).findIndex(m=>!Oe(m[h.axis]));u.hi+=Math.max(0,g)}return u}}return{lo:0,hi:r.length-1}}function im(e,t,n,s,i){const r=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=r.length;a<l;++a){const{index:c,data:u}=r[a],{lo:h,hi:d}=zX(r[a],t,o,i);for(let p=h;p<=d;++p){const g=u[p];g.skip||s(g,c,p)}}}function WX(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(s,i){const r=t?Math.abs(s.x-i.x):0,o=n?Math.abs(s.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function Tv(e,t,n,s,i){const r=[];return!i&&!e.isPointInArea(t)||im(e,n,t,function(a,l,c){!i&&!dN(a,e.chartArea,0)||a.inRange(t.x,t.y,s)&&r.push({element:a,datasetIndex:l,index:c})},!0),r}function KX(e,t,n,s){let i=[];function r(o,a,l){const{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],s),{angle:h}=AG(o,{x:t.x,y:t.y});CG(h,c,u)&&i.push({element:o,datasetIndex:a,index:l})}return im(e,n,t,r),i}function GX(e,t,n,s,i,r){let o=[];const a=WX(n);let l=Number.POSITIVE_INFINITY;function c(u,h,d){const p=u.inRange(t.x,t.y,i);if(s&&!p)return;const g=u.getCenterPoint(i);if(!(!!r||e.isPointInArea(g))&&!p)return;const y=a(t,g);y<l?(o=[{element:u,datasetIndex:h,index:d}],l=y):y===l&&o.push({element:u,datasetIndex:h,index:d})}return im(e,n,t,c),o}function Sv(e,t,n,s,i,r){return!r&&!e.isPointInArea(t)?[]:n==="r"&&!s?KX(e,t,n,i):GX(e,t,n,s,i,r)}function CA(e,t,n,s,i){const r=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return im(e,n,t,(l,c,u)=>{l[o]&&l[o](t[n],i)&&(r.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(t.x,t.y,i))}),s&&!a?[]:r}var XX={modes:{index(e,t,n,s){const i=Jo(t,e),r=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Tv(e,i,r,s,o):Sv(e,i,r,!1,s,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const u=a[0].index,h=c.data[u];h&&!h.skip&&l.push({element:h,datasetIndex:c.index,index:u})}),l):[]},dataset(e,t,n,s){const i=Jo(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Tv(e,i,r,s,o):Sv(e,i,r,!1,s,o);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(e,t,n,s){const i=Jo(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;return Tv(e,i,r,s,o)},nearest(e,t,n,s){const i=Jo(t,e),r=n.axis||"xy",o=n.includeInvisible||!1;return Sv(e,i,r,n.intersect,s,o)},x(e,t,n,s){const i=Jo(t,e);return CA(e,i,"x",n.intersect,s)},y(e,t,n,s){const i=Jo(t,e);return CA(e,i,"y",n.intersect,s)}}};const IN=["left","top","right","bottom"];function Hc(e,t){return e.filter(n=>n.pos===t)}function xA(e,t){return e.filter(n=>IN.indexOf(n.pos)===-1&&n.box.axis===t)}function zc(e,t){return e.sort((n,s)=>{const i=t?s:n,r=t?n:s;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function YX(e){const t=[];let n,s,i,r,o,a;for(n=0,s=(e||[]).length;n<s;++n)i=e[n],{position:r,options:{stack:o,stackWeight:a=1}}=i,t.push({index:n,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a});return t}function qX(e){const t={};for(const n of e){const{stack:s,pos:i,stackWeight:r}=n;if(!s||!IN.includes(i))continue;const o=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=r}return t}function QX(e,t){const n=qX(e),{vBoxMaxWidth:s,hBoxMaxHeight:i}=t;let r,o,a;for(r=0,o=e.length;r<o;++r){a=e[r];const{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*s:l&&t.availableWidth,a.height=i):(a.width=s,a.height=u?u*i:l&&t.availableHeight)}return n}function JX(e){const t=YX(e),n=zc(t.filter(c=>c.box.fullSize),!0),s=zc(Hc(t,"left"),!0),i=zc(Hc(t,"right")),r=zc(Hc(t,"top"),!0),o=zc(Hc(t,"bottom")),a=xA(t,"x"),l=xA(t,"y");return{fullSize:n,leftAndTop:s.concat(r),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:Hc(t,"chartArea"),vertical:s.concat(i).concat(l),horizontal:r.concat(o).concat(a)}}function PA(e,t,n,s){return Math.max(e[n],t[n])+Math.max(e[s],t[s])}function CN(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function ZX(e,t,n,s){const{pos:i,box:r}=n,o=e.maxPadding;if(!be(i)){n.size&&(e[i]-=n.size);const h=s[n.stack]||{size:0,count:1};h.size=Math.max(h.size,n.horizontal?r.height:r.width),n.size=h.size/h.count,e[i]+=n.size}r.getPadding&&CN(o,r.getPadding());const a=Math.max(0,t.outerWidth-PA(o,e,"left","right")),l=Math.max(0,t.outerHeight-PA(o,e,"top","bottom")),c=a!==e.w,u=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function tY(e){const t=e.maxPadding;function n(s){const i=Math.max(t[s]-e[s],0);return e[s]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function eY(e,t){const n=t.maxPadding;function s(i){const r={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{r[o]=Math.max(t[o],n[o])}),r}return s(e?["left","right"]:["top","bottom"])}function lu(e,t,n,s){const i=[];let r,o,a,l,c,u;for(r=0,o=e.length,c=0;r<o;++r){a=e[r],l=a.box,l.update(a.width||t.w,a.height||t.h,eY(a.horizontal,t));const{same:h,other:d}=ZX(t,n,a,s);c|=h&&i.length,u=u||d,l.fullSize||i.push(a)}return c&&lu(i,t,n,s)||u}function zf(e,t,n,s,i){e.top=n,e.left=t,e.right=t+s,e.bottom=n+i,e.width=s,e.height=i}function RA(e,t,n,s){const i=n.padding;let{x:r,y:o}=t;for(const a of e){const l=a.box,c=s[a.stack]||{placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){const h=t.w*u,d=c.size||l.height;hh(c.start)&&(o=c.start),l.fullSize?zf(l,i.left,o,n.outerWidth-i.right-i.left,d):zf(l,t.left+c.placed,o,h,d),c.start=o,c.placed+=h,o=l.bottom}else{const h=t.h*u,d=c.size||l.width;hh(c.start)&&(r=c.start),l.fullSize?zf(l,r,i.top,d,n.outerHeight-i.bottom-i.top):zf(l,r,t.top+c.placed,d,h),c.start=r,c.placed+=h,r=l.right}}t.x=r,t.y=o}var to={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,s){if(!e)return;const i=di(e.options.layout.padding),r=Math.max(t-i.width,0),o=Math.max(n-i.height,0),a=JX(e.boxes),l=a.vertical,c=a.horizontal;Ce(e.boxes,m=>{typeof m.beforeLayout=="function"&&m.beforeLayout()});const u=l.reduce((m,y)=>y.box.options&&y.box.options.display===!1?m:m+1,0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},i);CN(d,di(s));const p=Object.assign({maxPadding:d,w:r,h:o,x:i.left,y:i.top},i),g=QX(l.concat(c),h);lu(a.fullSize,p,h,g),lu(l,p,h,g),lu(c,p,h,g)&&lu(l,p,h,g),tY(p),RA(a.leftAndTop,p,h,g),p.x+=p.w,p.y+=p.h,RA(a.rightAndBottom,p,h,g),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},Ce(a.chartArea,m=>{const y=m.box;Object.assign(y,e.chartArea),y.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class xN{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,s){}removeEventListener(t,n,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,s,i){return n=Math.max(0,n||t.width),s=s||t.height,{width:n,height:Math.max(0,i?Math.floor(n/i):s)}}isAttached(t){return!0}updateConfig(t){}}class nY extends xN{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Od="$chartjs",sY={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},OA=e=>e===null||e==="";function iY(e,t){const n=e.style,s=e.getAttribute("height"),i=e.getAttribute("width");if(e[Od]={initial:{height:s,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",OA(i)){const r=vA(e,"width");r!==void 0&&(e.width=r)}if(OA(s))if(e.style.height==="")e.height=e.width/(t||2);else{const r=vA(e,"height");r!==void 0&&(e.height=r)}return e}const PN=dX?{passive:!0}:!1;function rY(e,t,n){e&&e.addEventListener(t,n,PN)}function oY(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,PN)}function aY(e,t){const n=sY[e.type]||e.type,{x:s,y:i}=Jo(e,t);return{type:n,chart:t,native:e,x:s!==void 0?s:null,y:i!==void 0?i:null}}function Vp(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function lY(e,t,n){const s=e.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Vp(a.addedNodes,s),o=o&&!Vp(a.removedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function cY(e,t,n){const s=e.canvas,i=new MutationObserver(r=>{let o=!1;for(const a of r)o=o||Vp(a.removedNodes,s),o=o&&!Vp(a.addedNodes,s);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const fh=new Map;let NA=0;function RN(){const e=window.devicePixelRatio;e!==NA&&(NA=e,fh.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function uY(e,t){fh.size||window.addEventListener("resize",RN),fh.set(e,t)}function hY(e){fh.delete(e),fh.size||window.removeEventListener("resize",RN)}function fY(e,t,n){const s=e.canvas,i=s&&OE(s);if(!i)return;const r=aN((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||r(c,u)});return o.observe(i),uY(e,r),o}function wv(e,t,n){n&&n.disconnect(),t==="resize"&&hY(e)}function dY(e,t,n){const s=e.canvas,i=aN(r=>{e.ctx!==null&&n(aY(r,e))},e);return rY(s,t,i),i}class pY extends xN{acquireContext(t,n){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(iY(t,n),s):null}releaseContext(t){const n=t.canvas;if(!n[Od])return!1;const s=n[Od].initial;["height","width"].forEach(r=>{const o=s[r];Oe(o)?n.removeAttribute(r):n.setAttribute(r,o)});const i=s.style||{};return Object.keys(i).forEach(r=>{n.style[r]=i[r]}),n.width=n.width,delete n[Od],!0}addEventListener(t,n,s){this.removeEventListener(t,n);const i=t.$proxies||(t.$proxies={}),o={attach:lY,detach:cY,resize:fY}[n]||dY;i[n]=o(t,n,s)}removeEventListener(t,n){const s=t.$proxies||(t.$proxies={}),i=s[n];if(!i)return;({attach:wv,detach:wv,resize:wv}[n]||oY)(t,n,i),s[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,s,i){return fX(t,n,s,i)}isAttached(t){const n=t&&OE(t);return!!(n&&n.isConnected)}}function gY(e){return!RE()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?nY:pY}let Hh=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:n,y:s}=this.getProps(["x","y"],t);return{x:n,y:s}}hasValue(){return Dp(this.x)&&Dp(this.y)}getProps(t,n){const s=this.$animations;if(!n||!s)return this;const i={};return t.forEach(r=>{i[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),i}};function mY(e,t){const n=e.options.ticks,s=vY(e),i=Math.min(n.maxTicksLimit||s,s),r=n.major.enabled?_Y(t):[],o=r.length,a=r[0],l=r[o-1],c=[];if(o>i)return bY(t,c,r,o/i),c;const u=yY(r,t,i);if(o>0){let h,d;const p=o>1?Math.round((l-a)/(o-1)):null;for(Wf(t,c,u,Oe(p)?0:a-p,a),h=0,d=o-1;h<d;h++)Wf(t,c,u,r[h],r[h+1]);return Wf(t,c,u,l,Oe(p)?t.length:l+p),c}return Wf(t,c,u),c}function vY(e){const t=e.options.offset,n=e._tickSize(),s=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(s,i))}function yY(e,t,n){const s=EY(e),i=t.length/n;if(!s)return Math.max(i,1);const r=bG(s);for(let o=0,a=r.length-1;o<a;o++){const l=r[o];if(l>i)return l}return Math.max(i,1)}function _Y(e){const t=[];let n,s;for(n=0,s=e.length;n<s;n++)e[n].major&&t.push(n);return t}function bY(e,t,n,s){let i=0,r=n[0],o;for(s=Math.ceil(s),o=0;o<e.length;o++)o===r&&(t.push(e[o]),i++,r=n[i*s])}function Wf(e,t,n,s,i){const r=Se(s,0),o=Math.min(Se(i,e.length),e.length);let a=0,l,c,u;for(n=Math.ceil(n),i&&(l=i-s,n=l/Math.floor(l/n)),u=r;u<0;)a++,u=Math.round(r+a*n);for(c=Math.max(r,0);c<o;c++)c===u&&(t.push(e[c]),a++,u=Math.round(r+a*n))}function EY(e){const t=e.length;let n,s;if(t<2)return!1;for(s=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==s)return!1;return s}const TY=e=>e==="left"?"right":e==="right"?"left":e,DA=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,kA=(e,t)=>Math.min(t||e,e);function MA(e,t){const n=[],s=e.length/t,i=e.length;let r=0;for(;r<i;r+=s)n.push(e[Math.floor(r)]);return n}function SY(e,t,n){const s=e.ticks.length,i=Math.min(t,s-1),r=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(i),c;if(!(n&&(s===1?c=Math.max(l-r,o-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(i-1))/2,l+=i<t?c:-c,l<r-a||l>o+a)))return l}function wY(e,t){Ce(e,n=>{const s=n.gc,i=s.length/2;let r;if(i>t){for(r=0;r<i;++r)delete n.data[s[r]];s.splice(0,i)}})}function Wc(e){return e.drawTicks?e.tickLength:0}function LA(e,t){if(!e.display)return 0;const n=ys(e.font,t),s=di(e.padding);return(yn(e.text)?e.text.length:1)*n.lineHeight+s.height}function AY(e,t){return vc(e,{scale:t,type:"scale"})}function IY(e,t,n){return vc(e,{tick:n,index:t,type:"tick"})}function CY(e,t,n){let s=lN(e);return(n&&t!=="right"||!n&&t==="right")&&(s=TY(s)),s}function xY(e,t,n,s){const{top:i,left:r,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:u}=l;let h=0,d,p,g;const m=o-i,y=a-r;if(e.isHorizontal()){if(p=As(s,r,a),be(n)){const E=Object.keys(n)[0],A=n[E];g=u[E].getPixelForValue(A)+m-t}else n==="center"?g=(c.bottom+c.top)/2+m-t:g=DA(e,n,t);d=a-r}else{if(be(n)){const E=Object.keys(n)[0],A=n[E];p=u[E].getPixelForValue(A)-y+t}else n==="center"?p=(c.left+c.right)/2-y+t:p=DA(e,n,t);g=As(s,o,i),h=n==="left"?-ii:ii}return{titleX:p,titleY:g,maxWidth:d,rotation:h}}class yc extends Hh{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:s,_suggestedMax:i}=this;return t=gi(t,Number.POSITIVE_INFINITY),n=gi(n,Number.NEGATIVE_INFINITY),s=gi(s,Number.POSITIVE_INFINITY),i=gi(i,Number.NEGATIVE_INFINITY),{min:gi(t,s),max:gi(n,i),minDefined:Ks(t),maxDefined:Ks(n)}}getMinMax(t){let{min:n,max:s,minDefined:i,maxDefined:r}=this.getUserBounds(),o;if(i&&r)return{min:n,max:s};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),i||(n=Math.min(n,o.min)),r||(s=Math.max(s,o.max));return n=r&&n>s?s:n,s=i&&n>s?n:s,{min:gi(n,gi(s,n)),max:gi(s,gi(n,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Fe(this.options.beforeUpdate,[this])}update(t,n,s){const{beginAtZero:i,grace:r,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=QG(this,r,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?MA(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=mY(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,s;this.isHorizontal()?(n=this.left,s=this.right):(n=this.top,s=this.bottom,t=!t),this._startPixel=n,this._endPixel=s,this._reversePixels=t,this._length=s-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Fe(this.options.afterUpdate,[this])}beforeSetDimensions(){Fe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Fe(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Fe(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Fe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let s,i,r;for(s=0,i=t.length;s<i;s++)r=t[s],r.label=Fe(n.callback,[r.value,s,t],this)}afterTickToLabelConversion(){Fe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Fe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,s=kA(this.ticks.length,t.ticks.maxTicksLimit),i=n.minRotation||0,r=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=r||s<=1||!this.isHorizontal()){this.labelRotation=i;return}const u=this._getLabelSizes(),h=u.widest.width,d=u.highest.height,p=ri(this.chart.width-h,0,this.maxWidth);a=t.offset?this.maxWidth/s:p/(s-1),h+6>a&&(a=p/(s-(t.offset?.5:1)),l=this.maxHeight-Wc(t.grid)-n.padding-LA(t.title,this.chart.options.font),c=Math.sqrt(h*h+d*d),o=wG(Math.min(Math.asin(ri((u.highest.height+6)/a,-1,1)),Math.asin(ri(l/c,-1,1))-Math.asin(ri(d/c,-1,1)))),o=Math.max(i,Math.min(r,o))),this.labelRotation=o}afterCalculateLabelRotation(){Fe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Fe(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:s,title:i,grid:r}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=LA(i,n.options.font);if(a?(t.width=this.maxWidth,t.height=Wc(r)+l):(t.height=this.maxHeight,t.width=Wc(r)+l),s.display&&this.ticks.length){const{first:c,last:u,widest:h,highest:d}=this._getLabelSizes(),p=s.padding*2,g=na(this.labelRotation),m=Math.cos(g),y=Math.sin(g);if(a){const E=s.mirror?0:y*h.width+m*d.height;t.height=Math.min(this.maxHeight,t.height+E+p)}else{const E=s.mirror?0:m*h.width+y*d.height;t.width=Math.min(this.maxWidth,t.width+E+p)}this._calculatePadding(c,u,y,m)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,s,i){const{ticks:{align:r,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const u=this.getPixelForTick(0)-this.left,h=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,p=0;l?c?(d=i*t.width,p=s*n.height):(d=s*t.height,p=i*n.width):r==="start"?p=n.width:r==="end"?d=t.width:r!=="inner"&&(d=t.width/2,p=n.width/2),this.paddingLeft=Math.max((d-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((p-h+o)*this.width/(this.width-h),0)}else{let u=n.height/2,h=t.height/2;r==="start"?(u=0,h=t.height):r==="end"&&(u=n.height,h=0),this.paddingTop=u+o,this.paddingBottom=h+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Fe(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,s;for(n=0,s=t.length;n<s;n++)Oe(t[n].label)&&(t.splice(n,1),s--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let s=this.ticks;n<s.length&&(s=MA(s,n)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,s){const{ctx:i,_longestTextCache:r}=this,o=[],a=[],l=Math.floor(n/kA(n,s));let c=0,u=0,h,d,p,g,m,y,E,A,w,C,O;for(h=0;h<n;h+=l){if(g=t[h].label,m=this._resolveTickFontOptions(h),i.font=y=m.string,E=r[y]=r[y]||{data:{},gc:[]},A=m.lineHeight,w=C=0,!Oe(g)&&!yn(g))w=hA(i,E.data,E.gc,w,g),C=A;else if(yn(g))for(d=0,p=g.length;d<p;++d)O=g[d],!Oe(O)&&!yn(O)&&(w=hA(i,E.data,E.gc,w,O),C+=A);o.push(w),a.push(C),c=Math.max(w,c),u=Math.max(C,u)}wY(r,n);const D=o.indexOf(c),x=a.indexOf(u),T=_=>({width:o[_]||0,height:a[_]||0});return{first:T(0),last:T(n-1),widest:T(D),highest:T(x),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return xG(this._alignToPixels?Go(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const s=n[t];return s.$context||(s.$context=IY(this.getContext(),t,s))}return this.$context||(this.$context=AY(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=na(this.labelRotation),s=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),r=this._getLabelSizes(),o=t.autoSkipPadding||0,a=r?r.widest.width+o:0,l=r?r.highest.height+o:0;return this.isHorizontal()?l*s>a*i?a/s:l/i:l*i<a*s?l/s:a/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,s=this.chart,i=this.options,{grid:r,position:o,border:a}=i,l=r.offset,c=this.isHorizontal(),h=this.ticks.length+(l?1:0),d=Wc(r),p=[],g=a.setContext(this.getContext()),m=g.display?g.width:0,y=m/2,E=function(B){return Go(s,B,m)};let A,w,C,O,D,x,T,_,S,P,R,I;if(o==="top")A=E(this.bottom),x=this.bottom-d,_=A-y,P=E(t.top)+y,I=t.bottom;else if(o==="bottom")A=E(this.top),P=t.top,I=E(t.bottom)-y,x=A+y,_=this.top+d;else if(o==="left")A=E(this.right),D=this.right-d,T=A-y,S=E(t.left)+y,R=t.right;else if(o==="right")A=E(this.left),S=t.left,R=E(t.right)-y,D=A+y,T=this.left+d;else if(n==="x"){if(o==="center")A=E((t.top+t.bottom)/2+.5);else if(be(o)){const B=Object.keys(o)[0],K=o[B];A=E(this.chart.scales[B].getPixelForValue(K))}P=t.top,I=t.bottom,x=A+y,_=x+d}else if(n==="y"){if(o==="center")A=E((t.left+t.right)/2);else if(be(o)){const B=Object.keys(o)[0],K=o[B];A=E(this.chart.scales[B].getPixelForValue(K))}D=A-y,T=D-d,S=t.left,R=t.right}const z=Se(i.ticks.maxTicksLimit,h),Y=Math.max(1,Math.ceil(h/z));for(w=0;w<h;w+=Y){const B=this.getContext(w),K=r.setContext(B),tt=a.setContext(B),Pt=K.lineWidth,U=K.color,V=tt.dash||[],at=tt.dashOffset,ut=K.tickWidth,_t=K.tickColor,yt=K.tickBorderDash||[],gt=K.tickBorderDashOffset;C=SY(this,w,l),C!==void 0&&(O=Go(s,C,Pt),c?D=T=S=R=O:x=_=P=I=O,p.push({tx1:D,ty1:x,tx2:T,ty2:_,x1:S,y1:P,x2:R,y2:I,width:Pt,color:U,borderDash:V,borderDashOffset:at,tickWidth:ut,tickColor:_t,tickBorderDash:yt,tickBorderDashOffset:gt}))}return this._ticksLength=h,this._borderValue=A,p}_computeLabelItems(t){const n=this.axis,s=this.options,{position:i,ticks:r}=s,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:h}=r,d=Wc(s.grid),p=d+u,g=h?-u:p,m=-na(this.labelRotation),y=[];let E,A,w,C,O,D,x,T,_,S,P,R,I="middle";if(i==="top")D=this.bottom-g,x=this._getXAxisLabelAlignment();else if(i==="bottom")D=this.top+g,x=this._getXAxisLabelAlignment();else if(i==="left"){const Y=this._getYAxisLabelAlignment(d);x=Y.textAlign,O=Y.x}else if(i==="right"){const Y=this._getYAxisLabelAlignment(d);x=Y.textAlign,O=Y.x}else if(n==="x"){if(i==="center")D=(t.top+t.bottom)/2+p;else if(be(i)){const Y=Object.keys(i)[0],B=i[Y];D=this.chart.scales[Y].getPixelForValue(B)+p}x=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")O=(t.left+t.right)/2-p;else if(be(i)){const Y=Object.keys(i)[0],B=i[Y];O=this.chart.scales[Y].getPixelForValue(B)}x=this._getYAxisLabelAlignment(d).textAlign}n==="y"&&(l==="start"?I="top":l==="end"&&(I="bottom"));const z=this._getLabelSizes();for(E=0,A=a.length;E<A;++E){w=a[E],C=w.label;const Y=r.setContext(this.getContext(E));T=this.getPixelForTick(E)+r.labelOffset,_=this._resolveTickFontOptions(E),S=_.lineHeight,P=yn(C)?C.length:1;const B=P/2,K=Y.color,tt=Y.textStrokeColor,Pt=Y.textStrokeWidth;let U=x;o?(O=T,x==="inner"&&(E===A-1?U=this.options.reverse?"left":"right":E===0?U=this.options.reverse?"right":"left":U="center"),i==="top"?c==="near"||m!==0?R=-P*S+S/2:c==="center"?R=-z.highest.height/2-B*S+S:R=-z.highest.height+S/2:c==="near"||m!==0?R=S/2:c==="center"?R=z.highest.height/2-B*S:R=z.highest.height-P*S,h&&(R*=-1),m!==0&&!Y.showLabelBackdrop&&(O+=S/2*Math.sin(m))):(D=T,R=(1-P)*S/2);let V;if(Y.showLabelBackdrop){const at=di(Y.backdropPadding),ut=z.heights[E],_t=z.widths[E];let yt=R-at.top,gt=0-at.left;switch(I){case"middle":yt-=ut/2;break;case"bottom":yt-=ut;break}switch(x){case"center":gt-=_t/2;break;case"right":gt-=_t;break;case"inner":E===A-1?gt-=_t:E>0&&(gt-=_t/2);break}V={left:gt,top:yt,width:_t+at.width,height:ut+at.height,color:Y.backdropColor}}y.push({label:C,font:_,textOffset:R,options:{rotation:m,color:K,strokeColor:tt,strokeWidth:Pt,textAlign:U,textBaseline:I,translation:[O,D],backdrop:V}})}return y}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-na(this.labelRotation))return t==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:s,mirror:i,padding:r}}=this.options,o=this._getLabelSizes(),a=t+r,l=o.widest.width;let c,u;return n==="left"?i?(u=this.right+r,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?i?(u=this.left+r,s==="near"?c="right":s==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,s==="near"?c="left":s==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:s,top:i,width:r,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(s,i,r,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(r=>r.value===t);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const n=this.options.grid,s=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,o;const a=(l,c,u)=>{!u.width||!u.color||(s.save(),s.lineWidth=u.width,s.strokeStyle=u.color,s.setLineDash(u.borderDash||[]),s.lineDashOffset=u.borderDashOffset,s.beginPath(),s.moveTo(l.x,l.y),s.lineTo(c.x,c.y),s.stroke(),s.restore())};if(n.display)for(r=0,o=i.length;r<o;++r){const l=i[r];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:s,grid:i}}=this,r=s.setContext(this.getContext()),o=s.display?r.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,u,h,d;this.isHorizontal()?(c=Go(t,this.left,o)-o/2,u=Go(t,this.right,a)+a/2,h=d=l):(h=Go(t,this.top,o)-o/2,d=Go(t,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.beginPath(),n.moveTo(c,h),n.lineTo(u,d),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,i=this._computeLabelArea();i&&AE(s,i);const r=this.getLabelItems(t);for(const o of r){const a=o.options,l=o.font,c=o.label,u=o.textOffset;kp(s,c,0,u,l,a)}i&&IE(s)}drawTitle(){const{ctx:t,options:{position:n,title:s,reverse:i}}=this;if(!s.display)return;const r=ys(s.font),o=di(s.padding),a=s.align;let l=r.lineHeight/2;n==="bottom"||n==="center"||be(n)?(l+=o.bottom,yn(s.text)&&(l+=r.lineHeight*(s.text.length-1))):l+=o.top;const{titleX:c,titleY:u,maxWidth:h,rotation:d}=xY(this,l,n,a);kp(t,s.text,0,0,r,{color:s.color,maxWidth:h,rotation:d,textAlign:CY(a,n,i),textBaseline:"middle",translation:[c,u]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,s=Se(t.grid&&t.grid.z,-1),i=Se(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==yc.prototype.draw?[{z:n,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",i=[];let r,o;for(r=0,o=n.length;r<o;++r){const a=n[r];a[s]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return ys(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Kf{constructor(t,n,s){this.type=t,this.scope=n,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let s;OY(n)&&(s=this.register(n));const i=this.items,r=t.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in i||(i[r]=t,PY(t,o,s),this.override&&rn.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,s=t.id,i=this.scope;s in n&&delete n[s],i&&s in rn[i]&&(delete rn[i][s],this.override&&delete Ra[s])}}function PY(e,t,n){const s=uh(Object.create(null),[n?rn.get(n):{},rn.get(t),e.defaults]);rn.set(t,s),e.defaultRoutes&&RY(t,e.defaultRoutes),e.descriptors&&rn.describe(t,e.descriptors)}function RY(e,t){Object.keys(t).forEach(n=>{const s=n.split("."),i=s.pop(),r=[e].concat(s).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");rn.route(r,i,l,a)})}function OY(e){return"id"in e&&"defaults"in e}class NY{constructor(){this.controllers=new Kf(wN,"datasets",!0),this.elements=new Kf(Hh,"elements"),this.plugins=new Kf(Object,"plugins"),this.scales=new Kf(yc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,s){[...n].forEach(i=>{const r=s||this._getRegistryForType(i);s||r.isForType(i)||r===this.plugins&&i.id?this._exec(t,r,i):Ce(i,o=>{const a=s||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,s){const i=SE(t);Fe(s["before"+i],[],s),n[t](s),Fe(s["after"+i],[],s)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const s=this._typedRegistries[n];if(s.isForType(t))return s}return this.plugins}_get(t,n,s){const i=n.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return i}}var _i=new NY;class DY{constructor(){this._init=[]}notify(t,n,s,i){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(r,t,n,s);return n==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,s,i){i=i||{};for(const r of t){const o=r.plugin,a=o[s],l=[n,i,r.options];if(Fe(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){Oe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const s=t&&t.config,i=Se(s.options&&s.options.plugins,{}),r=kY(s);return i===!1&&!n?[]:LY(t,r,i,n)}_notifyStateChanges(t){const n=this._oldCache||[],s=this._cache,i=(r,o)=>r.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,s),t,"stop"),this._notify(i(s,n),t,"start")}}function kY(e){const t={},n=[],s=Object.keys(_i.plugins.items);for(let r=0;r<s.length;r++)n.push(_i.getPlugin(s[r]));const i=e.plugins||[];for(let r=0;r<i.length;r++){const o=i[r];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function MY(e,t){return!t&&e===!1?null:e===!0?{}:e}function LY(e,{plugins:t,localIds:n},s,i){const r=[],o=e.getContext();for(const a of t){const l=a.id,c=MY(s[l],i);c!==null&&r.push({plugin:a,options:VY(e.config,{plugin:a,local:n[l]},c,o)})}return r}function VY(e,{plugin:t,local:n},s,i){const r=e.pluginScopeKeys(t),o=e.getOptionScopes(s,r);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Jy(e,t){const n=rn.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function FY(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function $Y(e,t){return e===t?"_index_":"_value_"}function VA(e){if(e==="x"||e==="y"||e==="r")return e}function UY(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Zy(e,...t){if(VA(e))return e;for(const n of t){const s=n.axis||UY(n.position)||e.length>1&&VA(e[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function FA(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function BY(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(s=>s.xAxisID===e||s.yAxisID===e);if(n.length)return FA(e,"x",n[0])||FA(e,"y",n[0])}return{}}function jY(e,t){const n=Ra[e.type]||{scales:{}},s=t.scales||{},i=Jy(e.type,t),r=Object.create(null);return Object.keys(s).forEach(o=>{const a=s[o];if(!be(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Zy(o,a,BY(o,e),rn.scales[a.type]),c=$Y(l,i),u=n.scales||{};r[o]=Ru(Object.create(null),[{axis:l},a,u[l],u[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||Jy(a,t),u=(Ra[a]||{}).scales||{};Object.keys(u).forEach(h=>{const d=FY(h,l),p=o[d+"AxisID"]||d;r[p]=r[p]||Object.create(null),Ru(r[p],[{axis:d},s[p],u[h]])})}),Object.keys(r).forEach(o=>{const a=r[o];Ru(a,[rn.scales[a.type],rn.scale])}),r}function ON(e){const t=e.options||(e.options={});t.plugins=Se(t.plugins,{}),t.scales=jY(e,t)}function NN(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function HY(e){return e=e||{},e.data=NN(e.data),ON(e),e}const $A=new Map,DN=new Set;function Gf(e,t){let n=$A.get(e);return n||(n=t(),$A.set(e,n),DN.add(n)),n}const Kc=(e,t,n)=>{const s=ql(t,n);s!==void 0&&e.add(s)};let zY=class{constructor(t){this._config=HY(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=NN(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),ON(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Gf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return Gf(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return Gf(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,s=this.type;return Gf(`${s}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const s=this._scopeCache;let i=s.get(t);return(!i||n)&&(i=new Map,s.set(t,i)),i}getOptionScopes(t,n,s){const{options:i,type:r}=this,o=this._cachedScopes(t,s),a=o.get(n);if(a)return a;const l=new Set;n.forEach(u=>{t&&(l.add(t),u.forEach(h=>Kc(l,t,h))),u.forEach(h=>Kc(l,i,h)),u.forEach(h=>Kc(l,Ra[r]||{},h)),u.forEach(h=>Kc(l,rn,h)),u.forEach(h=>Kc(l,Qy,h))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),DN.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,Ra[n]||{},rn.datasets[n]||{},{type:n},rn,Qy]}resolveNamedOptions(t,n,s,i=[""]){const r={$shared:!0},{resolver:o,subPrefixes:a}=UA(this._resolverCache,t,i);let l=o;if(KY(o,n)){r.$shared=!1,s=So(s)?s():s;const c=this.createResolver(t,s,a);l=Ql(o,s,c)}for(const c of n)r[c]=l[c];return r}createResolver(t,n,s=[""],i){const{resolver:r}=UA(this._resolverCache,t,s);return be(n)?Ql(r,n,void 0,i):r}};function UA(e,t,n){let s=e.get(t);s||(s=new Map,e.set(t,s));const i=n.join();let r=s.get(i);return r||(r={resolver:CE(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},s.set(i,r)),r}const WY=e=>be(e)&&Object.getOwnPropertyNames(e).some(t=>So(e[t]));function KY(e,t){const{isScriptable:n,isIndexable:s}=mN(e);for(const i of t){const r=n(i),o=s(i),a=(o||r)&&e[i];if(r&&(So(a)||WY(a))||o&&yn(a))return!0}return!1}var GY="4.5.0";const XY=["top","bottom","left","right","chartArea"];function BA(e,t){return e==="top"||e==="bottom"||XY.indexOf(e)===-1&&t==="x"}function jA(e,t){return function(n,s){return n[e]===s[e]?n[t]-s[t]:n[e]-s[e]}}function HA(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Fe(n&&n.onComplete,[e],t)}function YY(e){const t=e.chart,n=t.options.animation;Fe(n&&n.onProgress,[e],t)}function kN(e){return RE()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const Nd={},zA=e=>{const t=kN(e);return Object.values(Nd).filter(n=>n.canvas===t).pop()};function qY(e,t,n){const s=Object.keys(e);for(const i of s){const r=+i;if(r>=t){const o=e[i];delete e[i],(n>0||r>t)&&(e[r+n]=o)}}}function QY(e,t,n,s){return!n||e.type==="mouseout"?null:s?t:e}class Dd{static defaults=rn;static instances=Nd;static overrides=Ra;static registry=_i;static version=GY;static getChart=zA;static register(...t){_i.add(...t),WA()}static unregister(...t){_i.remove(...t),WA()}constructor(t,n){const s=this.config=new zY(n),i=kN(t),r=zA(i);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const o=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||gY(i)),this.platform.updateConfig(s);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,u=l&&l.width;if(this.id=fG(),this.ctx=a,this.canvas=l,this.width=u,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new DY,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=NG(h=>this.update(h),o.resizeDelay||0),this._dataChanges=[],Nd[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Gi.listen(this,"complete",HA),Gi.listen(this,"progress",YY),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:s,height:i,_aspectRatio:r}=this;return Oe(t)?n&&r?r:i?s/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return _i}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():mA(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return fA(this.canvas,this.ctx),this}stop(){return Gi.stop(this),this}resize(t,n){Gi.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const s=this.options,i=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,n,r),a=s.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,mA(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Fe(s.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Ce(n,(s,i)=>{s.id=i})}buildOrUpdateScales(){const t=this.options,n=t.scales,s=this.scales,i=Object.keys(s).reduce((o,a)=>(o[a]=!1,o),{});let r=[];n&&(r=r.concat(Object.keys(n).map(o=>{const a=n[o],l=Zy(o,a),c=l==="r",u=l==="x";return{options:a,dposition:c?"chartArea":u?"bottom":"left",dtype:c?"radialLinear":u?"category":"linear"}}))),Ce(r,o=>{const a=o.options,l=a.id,c=Zy(l,a),u=Se(a.type,o.dtype);(a.position===void 0||BA(a.position,c)!==BA(o.dposition))&&(a.position=o.dposition),i[l]=!0;let h=null;if(l in s&&s[l].type===u)h=s[l];else{const d=_i.getScale(u);h=new d({id:l,type:u,ctx:this.ctx,chart:this}),s[h.id]=h}h.init(a,t)}),Ce(i,(o,a)=>{o||delete s[a]}),Ce(s,o=>{to.configure(this,o,o.options),to.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,s=t.length;if(t.sort((i,r)=>i.index-r.index),s>n){for(let i=n;i<s;++i)this._destroyDatasetMeta(i);t.splice(n,s-n)}this._sortedMetasets=t.slice(0).sort(jA("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((s,i)=>{n.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let s,i;for(this._removeUnreferencedMetasets(),s=0,i=n.length;s<i;s++){const r=n[s];let o=this.getDatasetMeta(s);const a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(s),o=this.getDatasetMeta(s)),o.type=a,o.indexAxis=r.indexAxis||Jy(a,this.options),o.order=r.order||0,o.index=s,o.label=""+r.label,o.visible=this.isDatasetVisible(s),o.controller)o.controller.updateIndex(s),o.controller.linkScales();else{const l=_i.getController(a),{datasetElementType:c,dataElementType:u}=rn.datasets[a];Object.assign(l,{dataElementType:_i.getElement(u),datasetElementType:c&&_i.getElement(c)}),o.controller=new l(this,s),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){Ce(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const s=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,u=this.data.datasets.length;c<u;c++){const{controller:h}=this.getDatasetMeta(c),d=!i&&r.indexOf(h)===-1;h.buildOrUpdateElements(d),o=Math.max(+h.getMaxOverflow(),o)}o=this._minPadding=s.layout.autoPadding?o:0,this._updateLayout(o),i||Ce(r,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(jA("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Ce(this.scales,t=>{to.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!nA(n,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:s,start:i,count:r}of n){const o=s==="_removeElements"?-r:r;qY(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,s=r=>new Set(t.filter(o=>o[0]===r).map((o,a)=>a+","+o.splice(1).join(","))),i=s(0);for(let r=1;r<n;r++)if(!nA(i,s(r)))return;return Array.from(i).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;to.update(this,this.width,this.height,t);const n=this.chartArea,s=n.width<=0||n.height<=0;this._layers=[],Ce(this.boxes,i=>{s&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,r)=>{i._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,s=this.data.datasets.length;n<s;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,s=this.data.datasets.length;n<s;++n)this._updateDataset(n,So(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const s=this.getDatasetMeta(t),i={meta:s,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(s.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Gi.has(this)?this.attached&&!Gi.running(this)&&Gi.start(this):(this.draw(),HA({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,s=[];let i,r;for(i=0,r=n.length;i<r;++i){const o=n[i];(!t||o.visible)&&s.push(o)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,s={meta:t,index:t.index,cancelable:!0},i=vX(this,t);this.notifyPlugins("beforeDatasetDraw",s)!==!1&&(i&&AE(n,i),t.controller.draw(),i&&IE(n),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return dN(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,s,i){const r=XX.modes[n];return typeof r=="function"?r(this,t,s,i):[]}getDatasetMeta(t){const n=this.data.datasets[t],s=this._metasets;let i=s.filter(r=>r&&r._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},s.push(i)),i}getContext(){return this.$context||(this.$context=vc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!n.hidden}setDatasetVisibility(t,n){const s=this.getDatasetMeta(t);s.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,s){const i=s?"show":"hide",r=this.getDatasetMeta(t),o=r.controller._resolveAnimations(void 0,i);hh(n)?(r.data[n].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),o.update(r,{visible:s}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Gi.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),fA(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Nd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,s=(r,o)=>{n.addEventListener(this,r,o),t[r]=o},i=(r,o,a)=>{r.offsetX=o,r.offsetY=a,this._eventHandler(r)};Ce(this.options.events,r=>s(r,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,s=(l,c)=>{n.addEventListener(this,l,c),t[l]=c},i=(l,c)=>{t[l]&&(n.removeEventListener(this,l,c),delete t[l])},r=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),s("resize",r),s("detach",o)};o=()=>{this.attached=!1,i("resize",r),this._stop(),this._resize(0,0),s("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Ce(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},Ce(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,s){const i=s?"set":"remove";let r,o,a,l;for(n==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],s=t.map(({datasetIndex:r,index:o})=>{const a=this.getDatasetMeta(r);if(!a)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:a.data[o],index:o}});!Rp(s,n)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,n))}notifyPlugins(t,n,s){return this._plugins.notify(this,t,n,s)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,s){const i=this.options.hover,r=(l,c)=>l.filter(u=>!c.some(h=>u.datasetIndex===h.datasetIndex&&u.index===h.index)),o=r(n,t),a=s?t:r(t,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,n){const s={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,i)===!1)return;const r=this._handleEvent(t,n,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,i),(r||s.changed)&&this.render(),this}_handleEvent(t,n,s){const{_active:i=[],options:r}=this,o=n,a=this._getActiveElements(t,i,s,o),l=yG(t),c=QY(t,this._lastEvent,s,l);s&&(this._lastEvent=null,Fe(r.onHover,[t,a,this],this),l&&Fe(r.onClick,[t,a,this],this));const u=!Rp(a,i);return(u||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,u}_getActiveElements(t,n,s,i){if(t.type==="mouseout")return[];if(!s)return n;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,i)}}function WA(){return Ce(Dd.instances,e=>e._plugins.invalidate())}function MN(e,t){const{x:n,y:s,base:i,width:r,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,c,u,h;return e.horizontal?(h=o/2,a=Math.min(n,i),l=Math.max(n,i),c=s-h,u=s+h):(h=r/2,a=n-h,l=n+h,c=Math.min(s,i),u=Math.max(s,i)),{left:a,top:c,right:l,bottom:u}}function eo(e,t,n,s){return e?0:ri(t,n,s)}function JY(e,t,n){const s=e.options.borderWidth,i=e.borderSkipped,r=gN(s);return{t:eo(i.top,r.top,0,n),r:eo(i.right,r.right,0,t),b:eo(i.bottom,r.bottom,0,n),l:eo(i.left,r.left,0,t)}}function ZY(e,t,n){const{enableBorderRadius:s}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,r=Il(i),o=Math.min(t,n),a=e.borderSkipped,l=s||be(i);return{topLeft:eo(!l||a.top||a.left,r.topLeft,0,o),topRight:eo(!l||a.top||a.right,r.topRight,0,o),bottomLeft:eo(!l||a.bottom||a.left,r.bottomLeft,0,o),bottomRight:eo(!l||a.bottom||a.right,r.bottomRight,0,o)}}function tq(e){const t=MN(e),n=t.right-t.left,s=t.bottom-t.top,i=JY(e,n/2,s/2),r=ZY(e,n/2,s/2);return{outer:{x:t.left,y:t.top,w:n,h:s,radius:r},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:s-i.t-i.b,radius:{topLeft:Math.max(0,r.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,r.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,r.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,r.bottomRight-Math.max(i.b,i.r))}}}}function Av(e,t,n,s){const i=t===null,r=n===null,a=e&&!(i&&r)&&MN(e,s);return a&&(i||ml(t,a.left,a.right))&&(r||ml(n,a.top,a.bottom))}function eq(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function nq(e,t){e.rect(t.x,t.y,t.w,t.h)}function Iv(e,t,n={}){const s=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,r=(e.x+e.w!==n.x+n.w?t:0)-s,o=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+s,y:e.y+i,w:e.w+r,h:e.h+o,radius:e.radius}}class sq extends Hh{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:s,backgroundColor:i}}=this,{inner:r,outer:o}=tq(this),a=eq(o.radius)?Mp:nq;t.save(),(o.w!==r.w||o.h!==r.h)&&(t.beginPath(),a(t,Iv(o,n,r)),t.clip(),a(t,Iv(r,-n,o)),t.fillStyle=s,t.fill("evenodd")),t.beginPath(),a(t,Iv(r,n)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,n,s){return Av(this,t,n,s)}inXRange(t,n){return Av(this,t,null,n)}inYRange(t,n){return Av(this,null,t,n)}getCenterPoint(t){const{x:n,y:s,base:i,horizontal:r}=this.getProps(["x","y","base","horizontal"],t);return{x:r?(n+i)/2:n,y:r?s:(s+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}const KA=(e,t)=>{let{boxHeight:n=t,boxWidth:s=t}=e;return e.usePointStyle&&(n=Math.min(n,t),s=e.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:n,itemHeight:Math.max(t,n)}},iq=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class GA extends Hh{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,s){this.maxWidth=t,this.maxHeight=n,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=Fe(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(s=>t.filter(s,this.chart.data))),t.sort&&(n=n.sort((s,i)=>t.sort(s,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,i=ys(s.font),r=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=KA(s,r);let c,u;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,r,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(u,t.maxHeight||this.maxHeight)}_fitRows(t,n,s,i){const{ctx:r,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=i+a;let h=t;r.textAlign="left",r.textBaseline="middle";let d=-1,p=-u;return this.legendItems.forEach((g,m)=>{const y=s+n/2+r.measureText(g.text).width;(m===0||c[c.length-1]+y+2*a>o)&&(h+=u,c[c.length-(m>0?0:1)]=0,p+=u,d++),l[m]={left:0,top:p,row:d,width:y,height:i},c[c.length-1]+=y+a}),h}_fitCols(t,n,s,i){const{ctx:r,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-t;let h=a,d=0,p=0,g=0,m=0;return this.legendItems.forEach((y,E)=>{const{itemWidth:A,itemHeight:w}=rq(s,n,r,y,i);E>0&&p+w+2*a>u&&(h+=d+a,c.push({width:d,height:p}),g+=d+a,m++,d=p=0),l[E]={left:g,top:p,col:m,width:A,height:w},d=Math.max(d,A),p+=w+a}),h+=d,c.push({width:d,height:p}),h}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:s,labels:{padding:i},rtl:r}}=this,o=Cl(r,this.left,this.width);if(this.isHorizontal()){let a=0,l=As(s,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=As(s,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+t+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=As(s,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=As(s,this.top+t+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;AE(t,this),this._draw(),IE(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:s,ctx:i}=this,{align:r,labels:o}=t,a=rn.color,l=Cl(t.rtl,this.left,this.width),c=ys(o.font),{padding:u}=o,h=c.size,d=h/2;let p;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:g,boxHeight:m,itemHeight:y}=KA(o,h),E=function(D,x,T){if(isNaN(g)||g<=0||isNaN(m)||m<0)return;i.save();const _=Se(T.lineWidth,1);if(i.fillStyle=Se(T.fillStyle,a),i.lineCap=Se(T.lineCap,"butt"),i.lineDashOffset=Se(T.lineDashOffset,0),i.lineJoin=Se(T.lineJoin,"miter"),i.lineWidth=_,i.strokeStyle=Se(T.strokeStyle,a),i.setLineDash(Se(T.lineDash,[])),o.usePointStyle){const S={radius:m*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:_},P=l.xPlus(D,g/2),R=x+d;fN(i,S,P,R,o.pointStyleWidth&&g)}else{const S=x+Math.max((h-m)/2,0),P=l.leftForLtr(D,g),R=Il(T.borderRadius);i.beginPath(),Object.values(R).some(I=>I!==0)?Mp(i,{x:P,y:S,w:g,h:m,radius:R}):i.rect(P,S,g,m),i.fill(),_!==0&&i.stroke()}i.restore()},A=function(D,x,T){kp(i,T.text,D,x+y/2,c,{strikethrough:T.hidden,textAlign:l.textAlign(T.textAlign)})},w=this.isHorizontal(),C=this._computeTitleHeight();w?p={x:As(r,this.left+u,this.right-s[0]),y:this.top+u+C,line:0}:p={x:this.left+u,y:As(r,this.top+C+u,this.bottom-n[0].height),line:0},bN(this.ctx,t.textDirection);const O=y+u;this.legendItems.forEach((D,x)=>{i.strokeStyle=D.fontColor,i.fillStyle=D.fontColor;const T=i.measureText(D.text).width,_=l.textAlign(D.textAlign||(D.textAlign=o.textAlign)),S=g+d+T;let P=p.x,R=p.y;l.setWidth(this.width),w?x>0&&P+S+u>this.right&&(R=p.y+=O,p.line++,P=p.x=As(r,this.left+u,this.right-s[p.line])):x>0&&R+O>this.bottom&&(P=p.x=P+n[p.line].width+u,p.line++,R=p.y=As(r,this.top+C+u,this.bottom-n[p.line].height));const I=l.x(P);if(E(I,R,D),P=DG(_,P+g+d,w?P+S:this.right,t.rtl),A(l.x(P),R,D),w)p.x+=S+u;else if(typeof D.text!="string"){const z=c.lineHeight;p.y+=LN(D,z)+u}else p.y+=O}),EN(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,s=ys(n.font),i=di(n.padding);if(!n.display)return;const r=Cl(t.rtl,this.left,this.width),o=this.ctx,a=n.position,l=s.size/2,c=i.top+l;let u,h=this.left,d=this.width;if(this.isHorizontal())d=Math.max(...this.lineWidths),u=this.top+c,h=As(t.align,h,this.right-d);else{const g=this.columnSizes.reduce((m,y)=>Math.max(m,y.height),0);u=c+As(t.align,this.top,this.bottom-g-t.labels.padding-this._computeTitleHeight())}const p=As(a,h,h+d);o.textAlign=r.textAlign(lN(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=s.string,kp(o,n.text,p,u,s)}_computeTitleHeight(){const t=this.options.title,n=ys(t.font),s=di(t.padding);return t.display?n.lineHeight+s.height:0}_getLegendItemAt(t,n){let s,i,r;if(ml(t,this.left,this.right)&&ml(n,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(i=r[s],ml(t,i.left,i.left+i.width)&&ml(n,i.top,i.top+i.height))return this.legendItems[s]}return null}handleEvent(t){const n=this.options;if(!lq(t.type,n))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,r=iq(i,s);i&&!r&&Fe(n.onLeave,[t,i,this],this),this._hoveredItem=s,s&&!r&&Fe(n.onHover,[t,s,this],this)}else s&&Fe(n.onClick,[t,s,this],this)}}function rq(e,t,n,s,i){const r=oq(s,e,t,n),o=aq(i,s,t.lineHeight);return{itemWidth:r,itemHeight:o}}function oq(e,t,n,s){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((r,o)=>r.length>o.length?r:o)),t+n.size/2+s.measureText(i).width}function aq(e,t,n){let s=e;return typeof t.text!="string"&&(s=LN(t,n)),s}function LN(e,t){const n=e.text?e.text.length:0;return t*n}function lq(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var cq={id:"legend",_element:GA,start(e,t,n){const s=e.legend=new GA({ctx:e.ctx,options:n,chart:e});to.configure(e,s,n),to.addBox(e,s)},stop(e){to.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const s=e.legend;to.configure(e,s,n),s.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const s=t.datasetIndex,i=n.chart;i.isDatasetVisible(s)?(i.hide(s),t.hidden=!0):(i.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:s,textAlign:i,color:r,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),u=di(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:r,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:s||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};const cu={average(e){if(!e.length)return!1;let t,n,s=new Set,i=0,r=0;for(t=0,n=e.length;t<n;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();s.add(l.x),i+=l.y,++r}}return r===0||s.size===0?!1:{x:[...s].reduce((a,l)=>a+l)/s.size,y:i/r}},nearest(e,t){if(!e.length)return!1;let n=t.x,s=t.y,i=Number.POSITIVE_INFINITY,r,o,a;for(r=0,o=e.length;r<o;++r){const l=e[r].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),u=IG(t,c);u<i&&(i=u,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,s=l.y}return{x:n,y:s}}};function vi(e,t){return t&&(yn(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Xi(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function uq(e,t){const{element:n,datasetIndex:s,index:i}=t,r=e.getDatasetMeta(s).controller,{label:o,value:a}=r.getLabelAndValue(i);return{chart:e,label:o,parsed:r.getParsed(i),raw:e.data.datasets[s].data[i],formattedValue:a,dataset:r.getDataset(),dataIndex:i,datasetIndex:s,element:n}}function XA(e,t){const n=e.chart.ctx,{body:s,footer:i,title:r}=e,{boxWidth:o,boxHeight:a}=t,l=ys(t.bodyFont),c=ys(t.titleFont),u=ys(t.footerFont),h=r.length,d=i.length,p=s.length,g=di(t.padding);let m=g.height,y=0,E=s.reduce((C,O)=>C+O.before.length+O.lines.length+O.after.length,0);if(E+=e.beforeBody.length+e.afterBody.length,h&&(m+=h*c.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),E){const C=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;m+=p*C+(E-p)*l.lineHeight+(E-1)*t.bodySpacing}d&&(m+=t.footerMarginTop+d*u.lineHeight+(d-1)*t.footerSpacing);let A=0;const w=function(C){y=Math.max(y,n.measureText(C).width+A)};return n.save(),n.font=c.string,Ce(e.title,w),n.font=l.string,Ce(e.beforeBody.concat(e.afterBody),w),A=t.displayColors?o+2+t.boxPadding:0,Ce(s,C=>{Ce(C.before,w),Ce(C.lines,w),Ce(C.after,w)}),A=0,n.font=u.string,Ce(e.footer,w),n.restore(),y+=g.width,{width:y,height:m}}function hq(e,t){const{y:n,height:s}=t;return n<s/2?"top":n>e.height-s/2?"bottom":"center"}function fq(e,t,n,s){const{x:i,width:r}=s,o=n.caretSize+n.caretPadding;if(e==="left"&&i+r+o>t.width||e==="right"&&i-r-o<0)return!0}function dq(e,t,n,s){const{x:i,width:r}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return s==="center"?c=i<=(a+l)/2?"left":"right":i<=r/2?c="left":i>=o-r/2&&(c="right"),fq(c,e,t,n)&&(c="center"),c}function YA(e,t,n){const s=n.yAlign||t.yAlign||hq(e,n);return{xAlign:n.xAlign||t.xAlign||dq(e,t,n,s),yAlign:s}}function pq(e,t){let{x:n,width:s}=e;return t==="right"?n-=s:t==="center"&&(n-=s/2),n}function gq(e,t,n){let{y:s,height:i}=e;return t==="top"?s+=n:t==="bottom"?s-=i+n:s-=i/2,s}function qA(e,t,n,s){const{caretSize:i,caretPadding:r,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=i+r,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:p}=Il(o);let g=pq(t,a);const m=gq(t,l,c);return l==="center"?a==="left"?g+=c:a==="right"&&(g-=c):a==="left"?g-=Math.max(u,d)+i:a==="right"&&(g+=Math.max(h,p)+i),{x:ri(g,0,s.width-t.width),y:ri(m,0,s.height-t.height)}}function Xf(e,t,n){const s=di(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-s.right:e.x+s.left}function QA(e){return vi([],Xi(e))}function mq(e,t,n){return vc(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function JA(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const VN={beforeTitle:Wi,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,s=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return n[t.dataIndex]}return""},afterTitle:Wi,beforeBody:Wi,beforeLabel:Wi,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return Oe(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Wi,afterBody:Wi,beforeFooter:Wi,footer:Wi,afterFooter:Wi};function ls(e,t,n,s){const i=e[t].call(n,s);return typeof i>"u"?VN[t].call(n,s):i}let ZA=class extends Hh{static positioners=cu;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,s=this.options.setContext(this.getContext()),i=s.enabled&&n.options.animation&&s.animations,r=new TN(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=mq(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:s}=n,i=ls(s,"beforeTitle",this,t),r=ls(s,"title",this,t),o=ls(s,"afterTitle",this,t);let a=[];return a=vi(a,Xi(i)),a=vi(a,Xi(r)),a=vi(a,Xi(o)),a}getBeforeBody(t,n){return QA(ls(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:s}=n,i=[];return Ce(t,r=>{const o={before:[],lines:[],after:[]},a=JA(s,r);vi(o.before,Xi(ls(a,"beforeLabel",this,r))),vi(o.lines,ls(a,"label",this,r)),vi(o.after,Xi(ls(a,"afterLabel",this,r))),i.push(o)}),i}getAfterBody(t,n){return QA(ls(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:s}=n,i=ls(s,"beforeFooter",this,t),r=ls(s,"footer",this,t),o=ls(s,"afterFooter",this,t);let a=[];return a=vi(a,Xi(i)),a=vi(a,Xi(r)),a=vi(a,Xi(o)),a}_createItems(t){const n=this._active,s=this.chart.data,i=[],r=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(uq(this.chart,n[l]));return t.filter&&(a=a.filter((u,h,d)=>t.filter(u,h,d,s))),t.itemSort&&(a=a.sort((u,h)=>t.itemSort(u,h,s))),Ce(a,u=>{const h=JA(t.callbacks,u);i.push(ls(h,"labelColor",this,u)),r.push(ls(h,"labelPointStyle",this,u)),o.push(ls(h,"labelTextColor",this,u))}),this.labelColors=i,this.labelPointStyles=r,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const s=this.options.setContext(this.getContext()),i=this._active;let r,o=[];if(!i.length)this.opacity!==0&&(r={opacity:0});else{const a=cu[s.position].call(this,i,this._eventPosition);o=this._createItems(s),this.title=this.getTitle(o,s),this.beforeBody=this.getBeforeBody(o,s),this.body=this.getBody(o,s),this.afterBody=this.getAfterBody(o,s),this.footer=this.getFooter(o,s);const l=this._size=XA(this,s),c=Object.assign({},a,l),u=YA(this.chart,s,c),h=qA(s,c,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,r={opacity:1,x:h.x,y:h.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,s,i){const r=this.getCaretPosition(t,s,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)}getCaretPosition(t,n,s){const{xAlign:i,yAlign:r}=this,{caretSize:o,cornerRadius:a}=s,{topLeft:l,topRight:c,bottomLeft:u,bottomRight:h}=Il(a),{x:d,y:p}=t,{width:g,height:m}=n;let y,E,A,w,C,O;return r==="center"?(C=p+m/2,i==="left"?(y=d,E=y-o,w=C+o,O=C-o):(y=d+g,E=y+o,w=C-o,O=C+o),A=y):(i==="left"?E=d+Math.max(l,u)+o:i==="right"?E=d+g-Math.max(c,h)-o:E=this.caretX,r==="top"?(w=p,C=w-o,y=E-o,A=E+o):(w=p+m,C=w+o,y=E+o,A=E-o),O=w),{x1:y,x2:E,x3:A,y1:w,y2:C,y3:O}}drawTitle(t,n,s){const i=this.title,r=i.length;let o,a,l;if(r){const c=Cl(s.rtl,this.x,this.width);for(t.x=Xf(this,s.titleAlign,s),n.textAlign=c.textAlign(s.titleAlign),n.textBaseline="middle",o=ys(s.titleFont),a=s.titleSpacing,n.fillStyle=s.titleColor,n.font=o.string,l=0;l<r;++l)n.fillText(i[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===r&&(t.y+=s.titleMarginBottom-a)}}_drawColorBox(t,n,s,i,r){const o=this.labelColors[s],a=this.labelPointStyles[s],{boxHeight:l,boxWidth:c}=r,u=ys(r.bodyFont),h=Xf(this,"left",r),d=i.x(h),p=l<u.lineHeight?(u.lineHeight-l)/2:0,g=n.y+p;if(r.usePointStyle){const m={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},y=i.leftForLtr(d,c)+c/2,E=g+l/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,dA(t,m,y,E),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,dA(t,m,y,E)}else{t.lineWidth=be(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const m=i.leftForLtr(d,c),y=i.leftForLtr(i.xPlus(d,1),c-2),E=Il(o.borderRadius);Object.values(E).some(A=>A!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,Mp(t,{x:m,y:g,w:c,h:l,radius:E}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),Mp(t,{x:y,y:g+1,w:c-2,h:l-2,radius:E}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(m,g,c,l),t.strokeRect(m,g,c,l),t.fillStyle=o.backgroundColor,t.fillRect(y,g+1,c-2,l-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,n,s){const{body:i}=this,{bodySpacing:r,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:u}=s,h=ys(s.bodyFont);let d=h.lineHeight,p=0;const g=Cl(s.rtl,this.x,this.width),m=function(T){n.fillText(T,g.x(t.x+p),t.y+d/2),t.y+=d+r},y=g.textAlign(o);let E,A,w,C,O,D,x;for(n.textAlign=o,n.textBaseline="middle",n.font=h.string,t.x=Xf(this,y,s),n.fillStyle=s.bodyColor,Ce(this.beforeBody,m),p=a&&y!=="right"?o==="center"?c/2+u:c+2+u:0,C=0,D=i.length;C<D;++C){for(E=i[C],A=this.labelTextColors[C],n.fillStyle=A,Ce(E.before,m),w=E.lines,a&&w.length&&(this._drawColorBox(n,t,C,g,s),d=Math.max(h.lineHeight,l)),O=0,x=w.length;O<x;++O)m(w[O]),d=h.lineHeight;Ce(E.after,m)}p=0,d=h.lineHeight,Ce(this.afterBody,m),t.y-=r}drawFooter(t,n,s){const i=this.footer,r=i.length;let o,a;if(r){const l=Cl(s.rtl,this.x,this.width);for(t.x=Xf(this,s.footerAlign,s),t.y+=s.footerMarginTop,n.textAlign=l.textAlign(s.footerAlign),n.textBaseline="middle",o=ys(s.footerFont),n.fillStyle=s.footerColor,n.font=o.string,a=0;a<r;++a)n.fillText(i[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+s.footerSpacing}}drawBackground(t,n,s,i){const{xAlign:r,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:u}=s,{topLeft:h,topRight:d,bottomLeft:p,bottomRight:g}=Il(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+h,l),o==="top"&&this.drawCaret(t,n,s,i),n.lineTo(a+c-d,l),n.quadraticCurveTo(a+c,l,a+c,l+d),o==="center"&&r==="right"&&this.drawCaret(t,n,s,i),n.lineTo(a+c,l+u-g),n.quadraticCurveTo(a+c,l+u,a+c-g,l+u),o==="bottom"&&this.drawCaret(t,n,s,i),n.lineTo(a+p,l+u),n.quadraticCurveTo(a,l+u,a,l+u-p),o==="center"&&r==="left"&&this.drawCaret(t,n,s,i),n.lineTo(a,l+h),n.quadraticCurveTo(a,l,a+h,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,s=this.$animations,i=s&&s.x,r=s&&s.y;if(i||r){const o=cu[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=XA(this,t),l=Object.assign({},o,this._size),c=YA(n,t,l),u=qA(t,l,c,n);(i._to!==u.x||r._to!==u.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const o=di(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=s,this.drawBackground(r,t,i,n),bN(t,n.textDirection),r.y+=o.top,this.drawTitle(r,t,n),this.drawBody(r,t,n),this.drawFooter(r,t,n),EN(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const s=this._active,i=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),r=!Rp(s,i),o=this._positionChanged(i,n);(r||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,s=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,r=this._active||[],o=this._getActiveElements(t,r,n,s),a=this._positionChanged(o,t),l=n||!Rp(o,r)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,s,i){const r=this.options;if(t.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,r.mode,r,s);return r.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:s,caretY:i,options:r}=this,o=cu[r.position].call(this,t,n);return o!==!1&&(s!==o.x||i!==o.y)}};var vq={id:"tooltip",_element:ZA,positioners:cu,afterInit(e,t,n){n&&(e.tooltip=new ZA({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:VN},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const yq=(e,t,n,s)=>(typeof t=="string"?(n=e.push(t)-1,s.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function _q(e,t,n,s){const i=e.indexOf(t);if(i===-1)return yq(e,t,n,s);const r=e.lastIndexOf(t);return i!==r?n:i}const bq=(e,t)=>e===null?null:ri(Math.round(e),0,t);function tI(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class Eq extends yc{static id="category";static defaults={ticks:{callback:tI}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const s=this.getLabels();for(const{index:i,label:r}of n)s[i]===r&&s.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(Oe(t))return null;const s=this.getLabels();return n=isFinite(n)&&s[n]===t?n:_q(s,t,Se(n,t),this._addedLabels),bq(n,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:s,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),n||(i=this.getLabels().length-1)),this.min=s,this.max=i}buildTicks(){const t=this.min,n=this.max,s=this.options.offset,i=[];let r=this.getLabels();r=t===0&&n===r.length-1?r:r.slice(t,n+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let o=t;o<=n;o++)i.push({value:o});return i}getLabelForValue(t){return tI.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function Tq(e,t){const n=[],{bounds:i,step:r,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:h,includeBounds:d}=e,p=r||1,g=u-1,{min:m,max:y}=t,E=!Oe(o),A=!Oe(a),w=!Oe(c),C=(y-m)/(h+1);let O=iA((y-m)/g/p)*p,D,x,T,_;if(O<1e-14&&!E&&!A)return[{value:m},{value:y}];_=Math.ceil(y/O)-Math.floor(m/O),_>g&&(O=iA(_*O/g/p)*p),Oe(l)||(D=Math.pow(10,l),O=Math.ceil(O*D)/D),i==="ticks"?(x=Math.floor(m/O)*O,T=Math.ceil(y/O)*O):(x=m,T=y),E&&A&&r&&TG((a-o)/r,O/1e3)?(_=Math.round(Math.min((a-o)/O,u)),O=(a-o)/_,x=o,T=a):w?(x=E?o:x,T=A?a:T,_=c-1,O=(T-x)/_):(_=(T-x)/O,Rd(_,Math.round(_),O/1e3)?_=Math.round(_):_=Math.ceil(_));const S=Math.max(rA(O),rA(x));D=Math.pow(10,Oe(l)?S:l),x=Math.round(x*D)/D,T=Math.round(T*D)/D;let P=0;for(E&&(d&&x!==o?(n.push({value:o}),x<o&&P++,Rd(Math.round((x+P*O)*D)/D,o,eI(o,C,e))&&P++):x<o&&P++);P<_;++P){const R=Math.round((x+P*O)*D)/D;if(A&&R>a)break;n.push({value:R})}return A&&d&&T!==a?n.length&&Rd(n[n.length-1].value,a,eI(a,C,e))?n[n.length-1].value=a:n.push({value:a}):(!A||T===a)&&n.push({value:T}),n}function eI(e,t,{horizontal:n,minRotation:s}){const i=na(s),r=(n?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/r,o)}class Sq extends yc{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return Oe(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:s}=this.getUserBounds();let{min:i,max:r}=this;const o=l=>i=n?i:l,a=l=>r=s?r:l;if(t){const l=po(i),c=po(r);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===r){let l=r===0?1:Math.abs(r*.05);a(r+l),t||o(i-l)}this.min=i,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:s}=t,i;return s?(i=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const i={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},r=this._range||this,o=Tq(i,r);return t.bounds==="ticks"&&SG(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const i=(s-n)/Math.max(t.length-1,1)/2;n-=i,s+=i}this._startValue=n,this._endValue=s,this._valueRange=s-n}getLabelForValue(t){return uN(t,this.chart.options.locale,this.options.ticks.format)}}class wq extends Sq{static id="linear";static defaults={ticks:{callback:hN.formatters.numeric}};determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Ks(t)?t:0,this.max=Ks(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,s=na(this.options.ticks.minRotation),i=(t?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,r.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const rm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},gs=Object.keys(rm);function nI(e,t){return e-t}function sI(e,t){if(Oe(t))return null;const n=e._adapter,{parser:s,round:i,isoWeekday:r}=e._parseOpts;let o=t;return typeof s=="function"&&(o=s(o)),Ks(o)||(o=typeof s=="string"?n.parse(o,s):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(Dp(r)||r===!0)?n.startOf(o,"isoWeek",r):n.startOf(o,i)),+o)}function iI(e,t,n,s){const i=gs.length;for(let r=gs.indexOf(e);r<i-1;++r){const o=rm[gs[r]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=s)return gs[r]}return gs[i-1]}function Aq(e,t,n,s,i){for(let r=gs.length-1;r>=gs.indexOf(n);r--){const o=gs[r];if(rm[o].common&&e._adapter.diff(i,s,o)>=t-1)return o}return gs[n?gs.indexOf(n):0]}function Iq(e){for(let t=gs.indexOf(e)+1,n=gs.length;t<n;++t)if(rm[gs[t]].common)return gs[t]}function rI(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:s,hi:i}=wE(n,t),r=n[s]>=t?n[s]:n[i];e[r]=!0}}function Cq(e,t,n,s){const i=e._adapter,r=+i.startOf(t[0].value,s),o=t[t.length-1].value;let a,l;for(a=r;a<=o;a=+i.add(a,1,s))l=n[a],l>=0&&(t[l].major=!0);return t}function oI(e,t,n){const s=[],i={},r=t.length;let o,a;for(o=0;o<r;++o)a=t[o],i[a]=o,s.push({value:a,major:!1});return r===0||!n?s:Cq(e,s,i,n)}class aI extends yc{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const s=t.time||(t.time={}),i=this._adapter=new HX._date(t.adapters.date);i.init(n),Ru(s.displayFormats,i.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:sI(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,s=t.time.unit||"day";let{min:i,max:r,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(r=Math.max(r,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Ks(i)&&!isNaN(i)?i:+n.startOf(Date.now(),s),r=Ks(r)&&!isNaN(r)?r:+n.endOf(Date.now(),s)+1,this.min=Math.min(i,r-1),this.max=Math.max(i+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],s=t[t.length-1]),{min:n,max:s}}buildTicks(){const t=this.options,n=t.time,s=t.ticks,i=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const r=this.min,o=this.max,a=RG(i,r,o);return this._unit=n.unit||(s.autoSkip?iI(n.minUnit,this.min,this.max,this._getLabelCapacity(r)):Aq(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:Iq(this._unit),this.initOffsets(i),t.reverse&&a.reverse(),oI(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,s=0,i,r;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?n=1-i:n=(this.getDecimalForValue(t[1])-i)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?s=r:s=(r-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=ri(n,0,o),s=ri(s,0,o),this._offsets={start:n,end:s,factor:1/(n+1+s)}}_generate(){const t=this._adapter,n=this.min,s=this.max,i=this.options,r=i.time,o=r.unit||iI(r.minUnit,n,s,this._getLabelCapacity(n)),a=Se(i.ticks.stepSize,1),l=o==="week"?r.isoWeekday:!1,c=Dp(l)||l===!0,u={};let h=n,d,p;if(c&&(h=+t.startOf(h,"isoWeek",l)),h=+t.startOf(h,c?"day":o),t.diff(s,n,o)>1e5*a)throw new Error(n+" and "+s+" are too far apart with stepSize of "+a+" "+o);const g=i.ticks.source==="data"&&this.getDataTimestamps();for(d=h,p=0;d<s;d=+t.add(d,a,o),p++)rI(u,d,g);return(d===s||i.bounds==="ticks"||p===1)&&rI(u,d,g),Object.keys(u).sort(nI).map(m=>+m)}getLabelForValue(t){const n=this._adapter,s=this.options.time;return s.tooltipFormat?n.format(t,s.tooltipFormat):n.format(t,s.displayFormats.datetime)}format(t,n){const i=this.options.time.displayFormats,r=this._unit,o=n||i[r];return this._adapter.format(t,o)}_tickFormatFunction(t,n,s,i){const r=this.options,o=r.ticks.callback;if(o)return Fe(o,[t,n,s],this);const a=r.time.displayFormats,l=this._unit,c=this._majorUnit,u=l&&a[l],h=c&&a[c],d=s[n],p=c&&h&&d&&d.major;return this._adapter.format(t,i||(p?h:u))}generateTickLabels(t){let n,s,i;for(n=0,s=t.length;n<s;++n)i=t[n],i.label=this._tickFormatFunction(i.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+s)*n.factor)}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,s=this.ctx.measureText(t).width,i=na(this.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:s*r+a*o,h:s*o+a*r}}_getLabelCapacity(t){const n=this.options.time,s=n.displayFormats,i=s[n.unit]||s.millisecond,r=this._tickFormatFunction(t,0,oI(this,[t],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,s;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,s=i.length;n<s;++n)t=t.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,s;if(t.length)return t;const i=this.getLabels();for(n=0,s=i.length;n<s;++n)t.push(sI(this,i[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return rN(t.sort(nI))}}function Yf(e,t,n){let s=0,i=e.length-1,r,o,a,l;n?(t>=e[s].pos&&t<=e[i].pos&&({lo:s,hi:i}=qy(e,"pos",t)),{pos:r,time:a}=e[s],{pos:o,time:l}=e[i]):(t>=e[s].time&&t<=e[i].time&&({lo:s,hi:i}=qy(e,"time",t)),{time:r,pos:a}=e[s],{time:o,pos:l}=e[i]);const c=o-r;return c?a+(l-a)*(t-r)/c:a}class vnt extends aI{static id="timeseries";static defaults=aI.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Yf(n,this.min),this._tableRange=Yf(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:s}=this,i=[],r=[];let o,a,l,c,u;for(o=0,a=t.length;o<a;++o)c=t[o],c>=n&&c<=s&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:s,pos:1}];for(o=0,a=i.length;o<a;++o)u=i[o+1],l=i[o-1],c=i[o],Math.round((u+l)/2)!==c&&r.push({time:c,pos:o/(a-1)});return r}_generate(){const t=this.min,n=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(n)||s.length===1)&&s.push(n),s.sort((i,r)=>i-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),s=this.getLabelTimestamps();return n.length&&s.length?t=this.normalize(n.concat(s)):t=n.length?n:s,t=this._cache.all=t,t}getDecimalForValue(t){return(Yf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,s=this.getDecimalForPixel(t)/n.factor-n.end;return Yf(this._table,s*this._tableRange+this._minPos,!0)}}const xq={class:"ranking-container container py-3 py-md-4"},Pq={class:"ranking-table shadow-lg p-3 p-md-4 rounded mb-3 mb-md-4 glassy"},Rq={class:"table-responsive"},Oq={class:"table table-dark table-hover align-middle mb-0"},Nq={class:"fw-bold place-cell text-nowrap"},Dq={key:0,class:"crown"},kq={key:1,class:"silver-medal"},Mq={key:2,class:"bronze-medal"},Lq={class:"d-flex align-items-center"},Vq=["src"],Fq={class:"text-truncate"},$q={class:"fw-bold neon-text text-truncate"},Uq={class:"text-muted text-truncate"},Bq={class:"fw-bold text-info text-nowrap"},jq={class:"fw-bold text-warning text-nowrap"},Hq={class:"d-flex flex-column flex-md-row align-items-center"},zq={class:"progress bg-secondary rounded-pill me-0 me-md-2 mb-1 mb-md-0",style:{height:"14px","min-width":"120px"}},Wq={class:"text-muted text-nowrap"},Kq={class:"row g-3"},Gq={class:"col-12 col-lg-6"},Xq={class:"chart-card mb-3 mb-md-4 p-3 p-md-4 rounded shadow-lg glassy"},Yq={class:"col-12 col-lg-6"},qq={class:"chart-card p-3 p-md-4 rounded shadow-lg glassy"},Qq="https://img.freepik.com/darmowe-wektory/awatar-postaci-biznesmen-na-bialym-tle_24877-60111.jpg?t=st=1734351587~exp=1734355187~hmac=7f3f29198ca151a6f1daece81575d4925299ba4e8e85296b61ff94e54bc5d49b",Jq={__name:"RankingView",setup(e){Dd.register(jX,sq,Eq,wq,vq,cq);const t=Cb(),n=It([]),s=It(null),i=It(null);let r=null,o=null;const a=d=>Math.floor(d/1e3)+1,l=d=>Math.floor(d%1e3/1e3*100),c=async()=>{try{const d=fa(Kn(t,"users"),md("xp","desc")),p=await ui(d);n.value=p.docs.map(g=>({id:g.id,...g.data()}))}catch(d){console.error("Błąd pobierania rankingu:",d)}},u=()=>{r&&r.destroy();const d=s.value.getContext("2d"),p=n.value.slice(0,5);r=new Dd(d,{type:"bar",data:{labels:p.map(g=>g.name||"Anonim"),datasets:[{label:"XP",data:p.map(g=>g.xp),backgroundColor:["rgba(185, 131, 255, 0.85)","rgba(147, 112, 219, 0.85)","rgba(123, 104, 238, 0.85)","rgba(138, 43, 226, 0.85)","rgba(106, 90, 205, 0.85)"],borderRadius:8}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"#b983ff",font:{weight:"bold",size:14}}},tooltip:{enabled:!0,backgroundColor:"rgba(185, 131, 255, 0.8)",titleColor:"#fff",bodyColor:"#fff"}},scales:{y:{beginAtZero:!0,ticks:{color:"#b983ff",font:{weight:"bold",size:14}},grid:{color:"rgba(185, 131, 255, 0.2)"}},x:{ticks:{color:"#b983ff",font:{weight:"bold",size:14}},grid:{color:"transparent"}}}}})},h=()=>{o&&o.destroy();const d=i.value.getContext("2d"),p=n.value.slice(0,5);o=new Dd(d,{type:"bar",data:{labels:p.map(g=>g.name||"Anonim"),datasets:[{label:"Poziom",data:p.map(g=>a(g.xp)),backgroundColor:["rgba(255, 215, 0, 0.85)","rgba(192, 192, 192, 0.85)","rgba(205, 127, 50, 0.85)","rgba(138, 43, 226, 0.85)","rgba(106, 90, 205, 0.85)"],borderRadius:8}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"#b983ff",font:{weight:"bold",size:14}}},tooltip:{enabled:!0,backgroundColor:"rgba(185, 131, 255, 0.8)",titleColor:"#fff",bodyColor:"#fff"}},scales:{y:{beginAtZero:!0,ticks:{color:"#b983ff",font:{weight:"bold",size:14}},grid:{color:"rgba(185, 131, 255, 0.2)"}},x:{ticks:{color:"#b983ff",font:{weight:"bold",size:14}},grid:{color:"transparent"}}}}})};return On(async()=>{await c(),await Ma(),u(),h()}),li(n,()=>{u(),h()}),(d,p)=>(Q(),st("div",xq,[p[1]||(p[1]=N("h1",{class:"text-center mb-3 mb-md-4 neon-text fw-bold display-5 display-md-4"}," 🏆 Ranking Graczy ",-1)),N("div",Pq,[N("div",Rq,[N("table",Oq,[p[0]||(p[0]=N("thead",null,[N("tr",null,[N("th",{class:"text-nowrap"},"Miejsce"),N("th",null,"Gracz"),N("th",{class:"text-nowrap"},"XP"),N("th",{class:"text-nowrap"},"Poziom"),N("th",{class:"text-nowrap"},"Postęp")])],-1)),N("tbody",null,[(Q(!0),st(ne,null,tn(n.value,(g,m)=>(Q(),st("tr",{key:g.id,class:Pn([{"top-user":m<3},"fade-in-up"]),style:Ni({animationDelay:`${m*.1}s`})},[N("td",Nq,[m===0?(Q(),st("span",Dq,"👑")):m===1?(Q(),st("span",kq,"🥈")):m===2?(Q(),st("span",Mq,"🥉")):Ee("",!0),xe(" "+pt(m+1),1)]),N("td",null,[N("div",Lq,[N("img",{src:g.avatarUrl||Qq,alt:"avatar",class:"rounded-circle me-2 border border-light avatar"},null,8,Vq),N("div",Fq,[N("div",$q,pt(g.name||"Anonim"),1),N("small",Uq,pt(g.name||""),1)])])]),N("td",Bq,pt(g.xp),1),N("td",jq,pt(a(g.xp)),1),N("td",null,[N("div",Hq,[N("div",zq,[N("div",{class:"progress-bar progress-glow rounded-pill",role:"progressbar",style:Ni({width:l(g.xp)+"%"})},null,4)]),N("small",Wq,pt(l(g.xp))+"%",1)])])],6))),128))])])])]),N("div",Kq,[N("div",Gq,[N("div",Xq,[N("canvas",{ref_key:"xpChart",ref:s,class:"chart-canvas"},null,512)])]),N("div",Yq,[N("div",qq,[N("canvas",{ref_key:"levelChart",ref:i,class:"chart-canvas"},null,512)])])])]))}},Zq=Ne(Jq,[["__scopeId","data-v-520c77b2"]]),tQ={class:"admin-panel container py-4"},eQ={class:"table-responsive"},nQ={class:"table admin-table table-striped table-hover align-middle mb-0"},sQ=["onUpdate:modelValue","onChange"],iQ={class:"text-center"},rQ=["onClick"],oQ={key:0},aQ={__name:"AdminView",setup(e){const t=It([]),n=async()=>{const r=Kn(oe,"users"),o=await ui(r);t.value=o.docs.map(a=>({uid:a.id,...a.data()}))},s=async r=>{const o=Be(oe,"users",r.uid);await Sr(o,{role:r.role}),alert(`Rola użytkownika ${r.name||r.email} została zaktualizowana.`)},i=async r=>{confirm("Na pewno usunąć tego użytkownika?")&&(await Lg(Be(oe,"users",r)),t.value=t.value.filter(o=>o.uid!==r))};return On(n),(r,o)=>(Q(),st("div",tQ,[o[3]||(o[3]=N("h2",{class:"mb-4 text-gradient"},"Panel Administratora",-1)),N("div",eQ,[N("table",nQ,[o[2]||(o[2]=N("thead",{class:"table-dark"},[N("tr",null,[N("th",{scope:"col"},"Email"),N("th",{scope:"col"},"Nazwa"),N("th",{scope:"col"},"Rola"),N("th",{scope:"col",class:"text-center"},"Akcje")])],-1)),N("tbody",null,[(Q(!0),st(ne,null,tn(t.value,a=>(Q(),st("tr",{key:a.uid},[N("td",null,pt(a.email),1),N("td",null,pt(a.name||"-"),1),N("td",null,[se(N("select",{"onUpdate:modelValue":l=>a.role=l,onChange:l=>s(a),class:"form-select form-select-sm"},o[0]||(o[0]=[N("option",{value:"member"},"Członek",-1),N("option",{value:"leader"},"Lider",-1),N("option",{value:"board"},"Zarząd",-1),N("option",{value:"admin"},"Administrator",-1)]),40,sQ),[[lg,a.role]])]),N("td",iQ,[N("button",{onClick:l=>i(a.uid),class:"btn btn-outline-danger btn-sm"}," Usuń ",8,rQ)])]))),128)),t.value.length===0?(Q(),st("tr",oQ,o[1]||(o[1]=[N("td",{colspan:"4",class:"text-center text-muted"},"Brak użytkowników",-1)]))):Ee("",!0)])])])]))}},lQ=Ne(aQ,[["__scopeId","data-v-d18dfbb9"]]),cQ=[{path:"/login",component:NB},{path:"/register",component:BB},{path:"/",component:QB,meta:{requiresAuth:!0},children:[{path:"dashboard",component:kH},{path:"tasks",component:UR},{path:"knowledge",component:oz},{path:"team",component:Qz},{path:"team/:id",component:HK,props:!0},{path:"ranking",component:Zq},{path:"profile",component:Iz},{path:"admin",component:lQ,meta:{requiresAdmin:!0}},{path:"",redirect:"dashboard"}]}],FN=gF({history:zV(),routes:cQ});FN.beforeEach((e,t,n)=>{const s=q_(),i=e.matched.some(o=>o.meta.requiresAuth),r=e.matched.some(o=>o.meta.requiresAdmin);if(i||r){const o=G_(s,async a=>{if(o(),!a)return n("/login");if(r)try{const l=Cb(),c=await Mi(Be(l,"users",a.uid));return(c.exists()?c.data().role:null)==="admin"||a.email==="abcd@gmail.com"?n():n("/#/dashboard")}catch(l){return console.error("Błąd sprawdzania roli admina:",l),n("/#/dashboard")}n()})}else n()});var ns="top",Os="bottom",Ns="right",ss="left",om="auto",_c=[ns,Os,Ns,ss],Oa="start",Jl="end",$N="clippingParents",DE="viewport",ul="popper",UN="reference",t_=_c.reduce(function(e,t){return e.concat([t+"-"+Oa,t+"-"+Jl])},[]),kE=[].concat(_c,[om]).reduce(function(e,t){return e.concat([t,t+"-"+Oa,t+"-"+Jl])},[]),BN="beforeRead",jN="read",HN="afterRead",zN="beforeMain",WN="main",KN="afterMain",GN="beforeWrite",XN="write",YN="afterWrite",qN=[BN,jN,HN,zN,WN,KN,GN,XN,YN];function Fi(e){return e?(e.nodeName||"").toLowerCase():null}function Ds(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Na(e){var t=Ds(e).Element;return e instanceof t||e instanceof Element}function js(e){var t=Ds(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function ME(e){if(typeof ShadowRoot>"u")return!1;var t=Ds(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function uQ(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var s=t.styles[n]||{},i=t.attributes[n]||{},r=t.elements[n];!js(r)||!Fi(r)||(Object.assign(r.style,s),Object.keys(i).forEach(function(o){var a=i[o];a===!1?r.removeAttribute(o):r.setAttribute(o,a===!0?"":a)}))})}function hQ(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(s){var i=t.elements[s],r=t.attributes[s]||{},o=Object.keys(t.styles.hasOwnProperty(s)?t.styles[s]:n[s]),a=o.reduce(function(l,c){return l[c]="",l},{});!js(i)||!Fi(i)||(Object.assign(i.style,a),Object.keys(r).forEach(function(l){i.removeAttribute(l)}))})}}const LE={name:"applyStyles",enabled:!0,phase:"write",fn:uQ,effect:hQ,requires:["computeStyles"]};function Ri(e){return e.split("-")[0]}var ya=Math.max,Fp=Math.min,Zl=Math.round;function e_(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function QN(){return!/^((?!chrome|android).)*safari/i.test(e_())}function tc(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var s=e.getBoundingClientRect(),i=1,r=1;t&&js(e)&&(i=e.offsetWidth>0&&Zl(s.width)/e.offsetWidth||1,r=e.offsetHeight>0&&Zl(s.height)/e.offsetHeight||1);var o=Na(e)?Ds(e):window,a=o.visualViewport,l=!QN()&&n,c=(s.left+(l&&a?a.offsetLeft:0))/i,u=(s.top+(l&&a?a.offsetTop:0))/r,h=s.width/i,d=s.height/r;return{width:h,height:d,top:u,right:c+h,bottom:u+d,left:c,x:c,y:u}}function VE(e){var t=tc(e),n=e.offsetWidth,s=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-s)<=1&&(s=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:s}}function JN(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&ME(n)){var s=t;do{if(s&&e.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function wr(e){return Ds(e).getComputedStyle(e)}function fQ(e){return["table","td","th"].indexOf(Fi(e))>=0}function Mo(e){return((Na(e)?e.ownerDocument:e.document)||window.document).documentElement}function am(e){return Fi(e)==="html"?e:e.assignedSlot||e.parentNode||(ME(e)?e.host:null)||Mo(e)}function lI(e){return!js(e)||wr(e).position==="fixed"?null:e.offsetParent}function dQ(e){var t=/firefox/i.test(e_()),n=/Trident/i.test(e_());if(n&&js(e)){var s=wr(e);if(s.position==="fixed")return null}var i=am(e);for(ME(i)&&(i=i.host);js(i)&&["html","body"].indexOf(Fi(i))<0;){var r=wr(i);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||t&&r.willChange==="filter"||t&&r.filter&&r.filter!=="none")return i;i=i.parentNode}return null}function zh(e){for(var t=Ds(e),n=lI(e);n&&fQ(n)&&wr(n).position==="static";)n=lI(n);return n&&(Fi(n)==="html"||Fi(n)==="body"&&wr(n).position==="static")?t:n||dQ(e)||t}function FE(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Du(e,t,n){return ya(e,Fp(t,n))}function pQ(e,t,n){var s=Du(e,t,n);return s>n?n:s}function ZN(){return{top:0,right:0,bottom:0,left:0}}function tD(e){return Object.assign({},ZN(),e)}function eD(e,t){return t.reduce(function(n,s){return n[s]=e,n},{})}var gQ=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,tD(typeof t!="number"?t:eD(t,_c))};function mQ(e){var t,n=e.state,s=e.name,i=e.options,r=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Ri(n.placement),l=FE(a),c=[ss,Ns].indexOf(a)>=0,u=c?"height":"width";if(!(!r||!o)){var h=gQ(i.padding,n),d=VE(r),p=l==="y"?ns:ss,g=l==="y"?Os:Ns,m=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],y=o[l]-n.rects.reference[l],E=zh(r),A=E?l==="y"?E.clientHeight||0:E.clientWidth||0:0,w=m/2-y/2,C=h[p],O=A-d[u]-h[g],D=A/2-d[u]/2+w,x=Du(C,D,O),T=l;n.modifiersData[s]=(t={},t[T]=x,t.centerOffset=x-D,t)}}function vQ(e){var t=e.state,n=e.options,s=n.element,i=s===void 0?"[data-popper-arrow]":s;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||JN(t.elements.popper,i)&&(t.elements.arrow=i))}const nD={name:"arrow",enabled:!0,phase:"main",fn:mQ,effect:vQ,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ec(e){return e.split("-")[1]}var yQ={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _Q(e,t){var n=e.x,s=e.y,i=t.devicePixelRatio||1;return{x:Zl(n*i)/i||0,y:Zl(s*i)/i||0}}function cI(e){var t,n=e.popper,s=e.popperRect,i=e.placement,r=e.variation,o=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,h=e.isFixed,d=o.x,p=d===void 0?0:d,g=o.y,m=g===void 0?0:g,y=typeof u=="function"?u({x:p,y:m}):{x:p,y:m};p=y.x,m=y.y;var E=o.hasOwnProperty("x"),A=o.hasOwnProperty("y"),w=ss,C=ns,O=window;if(c){var D=zh(n),x="clientHeight",T="clientWidth";if(D===Ds(n)&&(D=Mo(n),wr(D).position!=="static"&&a==="absolute"&&(x="scrollHeight",T="scrollWidth")),D=D,i===ns||(i===ss||i===Ns)&&r===Jl){C=Os;var _=h&&D===O&&O.visualViewport?O.visualViewport.height:D[x];m-=_-s.height,m*=l?1:-1}if(i===ss||(i===ns||i===Os)&&r===Jl){w=Ns;var S=h&&D===O&&O.visualViewport?O.visualViewport.width:D[T];p-=S-s.width,p*=l?1:-1}}var P=Object.assign({position:a},c&&yQ),R=u===!0?_Q({x:p,y:m},Ds(n)):{x:p,y:m};if(p=R.x,m=R.y,l){var I;return Object.assign({},P,(I={},I[C]=A?"0":"",I[w]=E?"0":"",I.transform=(O.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",I))}return Object.assign({},P,(t={},t[C]=A?m+"px":"",t[w]=E?p+"px":"",t.transform="",t))}function bQ(e){var t=e.state,n=e.options,s=n.gpuAcceleration,i=s===void 0?!0:s,r=n.adaptive,o=r===void 0?!0:r,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Ri(t.placement),variation:ec(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,cI(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,cI(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const $E={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:bQ,data:{}};var qf={passive:!0};function EQ(e){var t=e.state,n=e.instance,s=e.options,i=s.scroll,r=i===void 0?!0:i,o=s.resize,a=o===void 0?!0:o,l=Ds(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&c.forEach(function(u){u.addEventListener("scroll",n.update,qf)}),a&&l.addEventListener("resize",n.update,qf),function(){r&&c.forEach(function(u){u.removeEventListener("scroll",n.update,qf)}),a&&l.removeEventListener("resize",n.update,qf)}}const UE={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:EQ,data:{}};var TQ={left:"right",right:"left",bottom:"top",top:"bottom"};function kd(e){return e.replace(/left|right|bottom|top/g,function(t){return TQ[t]})}var SQ={start:"end",end:"start"};function uI(e){return e.replace(/start|end/g,function(t){return SQ[t]})}function BE(e){var t=Ds(e),n=t.pageXOffset,s=t.pageYOffset;return{scrollLeft:n,scrollTop:s}}function jE(e){return tc(Mo(e)).left+BE(e).scrollLeft}function wQ(e,t){var n=Ds(e),s=Mo(e),i=n.visualViewport,r=s.clientWidth,o=s.clientHeight,a=0,l=0;if(i){r=i.width,o=i.height;var c=QN();(c||!c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:r,height:o,x:a+jE(e),y:l}}function AQ(e){var t,n=Mo(e),s=BE(e),i=(t=e.ownerDocument)==null?void 0:t.body,r=ya(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=ya(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-s.scrollLeft+jE(e),l=-s.scrollTop;return wr(i||n).direction==="rtl"&&(a+=ya(n.clientWidth,i?i.clientWidth:0)-r),{width:r,height:o,x:a,y:l}}function HE(e){var t=wr(e),n=t.overflow,s=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+s)}function sD(e){return["html","body","#document"].indexOf(Fi(e))>=0?e.ownerDocument.body:js(e)&&HE(e)?e:sD(am(e))}function ku(e,t){var n;t===void 0&&(t=[]);var s=sD(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),r=Ds(s),o=i?[r].concat(r.visualViewport||[],HE(s)?s:[]):s,a=t.concat(o);return i?a:a.concat(ku(am(o)))}function n_(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function IQ(e,t){var n=tc(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function hI(e,t,n){return t===DE?n_(wQ(e,n)):Na(t)?IQ(t,n):n_(AQ(Mo(e)))}function CQ(e){var t=ku(am(e)),n=["absolute","fixed"].indexOf(wr(e).position)>=0,s=n&&js(e)?zh(e):e;return Na(s)?t.filter(function(i){return Na(i)&&JN(i,s)&&Fi(i)!=="body"}):[]}function xQ(e,t,n,s){var i=t==="clippingParents"?CQ(e):[].concat(t),r=[].concat(i,[n]),o=r[0],a=r.reduce(function(l,c){var u=hI(e,c,s);return l.top=ya(u.top,l.top),l.right=Fp(u.right,l.right),l.bottom=Fp(u.bottom,l.bottom),l.left=ya(u.left,l.left),l},hI(e,o,s));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function iD(e){var t=e.reference,n=e.element,s=e.placement,i=s?Ri(s):null,r=s?ec(s):null,o=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(i){case ns:l={x:o,y:t.y-n.height};break;case Os:l={x:o,y:t.y+t.height};break;case Ns:l={x:t.x+t.width,y:a};break;case ss:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var c=i?FE(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(r){case Oa:l[c]=l[c]-(t[u]/2-n[u]/2);break;case Jl:l[c]=l[c]+(t[u]/2-n[u]/2);break}}return l}function nc(e,t){t===void 0&&(t={});var n=t,s=n.placement,i=s===void 0?e.placement:s,r=n.strategy,o=r===void 0?e.strategy:r,a=n.boundary,l=a===void 0?$N:a,c=n.rootBoundary,u=c===void 0?DE:c,h=n.elementContext,d=h===void 0?ul:h,p=n.altBoundary,g=p===void 0?!1:p,m=n.padding,y=m===void 0?0:m,E=tD(typeof y!="number"?y:eD(y,_c)),A=d===ul?UN:ul,w=e.rects.popper,C=e.elements[g?A:d],O=xQ(Na(C)?C:C.contextElement||Mo(e.elements.popper),l,u,o),D=tc(e.elements.reference),x=iD({reference:D,element:w,placement:i}),T=n_(Object.assign({},w,x)),_=d===ul?T:D,S={top:O.top-_.top+E.top,bottom:_.bottom-O.bottom+E.bottom,left:O.left-_.left+E.left,right:_.right-O.right+E.right},P=e.modifiersData.offset;if(d===ul&&P){var R=P[i];Object.keys(S).forEach(function(I){var z=[Ns,Os].indexOf(I)>=0?1:-1,Y=[ns,Os].indexOf(I)>=0?"y":"x";S[I]+=R[Y]*z})}return S}function PQ(e,t){t===void 0&&(t={});var n=t,s=n.placement,i=n.boundary,r=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?kE:l,u=ec(s),h=u?a?t_:t_.filter(function(g){return ec(g)===u}):_c,d=h.filter(function(g){return c.indexOf(g)>=0});d.length===0&&(d=h);var p=d.reduce(function(g,m){return g[m]=nc(e,{placement:m,boundary:i,rootBoundary:r,padding:o})[Ri(m)],g},{});return Object.keys(p).sort(function(g,m){return p[g]-p[m]})}function RQ(e){if(Ri(e)===om)return[];var t=kd(e);return[uI(e),t,uI(t)]}function OQ(e){var t=e.state,n=e.options,s=e.name;if(!t.modifiersData[s]._skip){for(var i=n.mainAxis,r=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,h=n.rootBoundary,d=n.altBoundary,p=n.flipVariations,g=p===void 0?!0:p,m=n.allowedAutoPlacements,y=t.options.placement,E=Ri(y),A=E===y,w=l||(A||!g?[kd(y)]:RQ(y)),C=[y].concat(w).reduce(function(_t,yt){return _t.concat(Ri(yt)===om?PQ(t,{placement:yt,boundary:u,rootBoundary:h,padding:c,flipVariations:g,allowedAutoPlacements:m}):yt)},[]),O=t.rects.reference,D=t.rects.popper,x=new Map,T=!0,_=C[0],S=0;S<C.length;S++){var P=C[S],R=Ri(P),I=ec(P)===Oa,z=[ns,Os].indexOf(R)>=0,Y=z?"width":"height",B=nc(t,{placement:P,boundary:u,rootBoundary:h,altBoundary:d,padding:c}),K=z?I?Ns:ss:I?Os:ns;O[Y]>D[Y]&&(K=kd(K));var tt=kd(K),Pt=[];if(r&&Pt.push(B[R]<=0),a&&Pt.push(B[K]<=0,B[tt]<=0),Pt.every(function(_t){return _t})){_=P,T=!1;break}x.set(P,Pt)}if(T)for(var U=g?3:1,V=function(yt){var gt=C.find(function(F){var J=x.get(F);if(J)return J.slice(0,yt).every(function(et){return et})});if(gt)return _=gt,"break"},at=U;at>0;at--){var ut=V(at);if(ut==="break")break}t.placement!==_&&(t.modifiersData[s]._skip=!0,t.placement=_,t.reset=!0)}}const rD={name:"flip",enabled:!0,phase:"main",fn:OQ,requiresIfExists:["offset"],data:{_skip:!1}};function fI(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function dI(e){return[ns,Ns,Os,ss].some(function(t){return e[t]>=0})}function NQ(e){var t=e.state,n=e.name,s=t.rects.reference,i=t.rects.popper,r=t.modifiersData.preventOverflow,o=nc(t,{elementContext:"reference"}),a=nc(t,{altBoundary:!0}),l=fI(o,s),c=fI(a,i,r),u=dI(l),h=dI(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}const oD={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:NQ};function DQ(e,t,n){var s=Ri(e),i=[ss,ns].indexOf(s)>=0?-1:1,r=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,o=r[0],a=r[1];return o=o||0,a=(a||0)*i,[ss,Ns].indexOf(s)>=0?{x:a,y:o}:{x:o,y:a}}function kQ(e){var t=e.state,n=e.options,s=e.name,i=n.offset,r=i===void 0?[0,0]:i,o=kE.reduce(function(u,h){return u[h]=DQ(h,t.rects,r),u},{}),a=o[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[s]=o}const aD={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:kQ};function MQ(e){var t=e.state,n=e.name;t.modifiersData[n]=iD({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const zE={name:"popperOffsets",enabled:!0,phase:"read",fn:MQ,data:{}};function LQ(e){return e==="x"?"y":"x"}function VQ(e){var t=e.state,n=e.options,s=e.name,i=n.mainAxis,r=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,h=n.padding,d=n.tether,p=d===void 0?!0:d,g=n.tetherOffset,m=g===void 0?0:g,y=nc(t,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),E=Ri(t.placement),A=ec(t.placement),w=!A,C=FE(E),O=LQ(C),D=t.modifiersData.popperOffsets,x=t.rects.reference,T=t.rects.popper,_=typeof m=="function"?m(Object.assign({},t.rects,{placement:t.placement})):m,S=typeof _=="number"?{mainAxis:_,altAxis:_}:Object.assign({mainAxis:0,altAxis:0},_),P=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,R={x:0,y:0};if(D){if(r){var I,z=C==="y"?ns:ss,Y=C==="y"?Os:Ns,B=C==="y"?"height":"width",K=D[C],tt=K+y[z],Pt=K-y[Y],U=p?-T[B]/2:0,V=A===Oa?x[B]:T[B],at=A===Oa?-T[B]:-x[B],ut=t.elements.arrow,_t=p&&ut?VE(ut):{width:0,height:0},yt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:ZN(),gt=yt[z],F=yt[Y],J=Du(0,x[B],_t[B]),et=w?x[B]/2-U-J-gt-S.mainAxis:V-J-gt-S.mainAxis,dt=w?-x[B]/2+U+J+F+S.mainAxis:at+J+F+S.mainAxis,At=t.elements.arrow&&zh(t.elements.arrow),Dt=At?C==="y"?At.clientTop||0:At.clientLeft||0:0,M=(I=P?.[C])!=null?I:0,L=K+et-M-Dt,j=K+dt-M,Z=Du(p?Fp(tt,L):tt,K,p?ya(Pt,j):Pt);D[C]=Z,R[C]=Z-K}if(a){var X,it=C==="x"?ns:ss,mt=C==="x"?Os:Ns,ot=D[O],ht=O==="y"?"height":"width",ct=ot+y[it],Rt=ot-y[mt],vt=[ns,ss].indexOf(E)!==-1,xt=(X=P?.[O])!=null?X:0,St=vt?ct:ot-x[ht]-T[ht]-xt+S.altAxis,kt=vt?ot+x[ht]+T[ht]-xt-S.altAxis:Rt,Zt=p&&vt?pQ(St,ot,kt):Du(p?St:ct,ot,p?kt:Rt);D[O]=Zt,R[O]=Zt-ot}t.modifiersData[s]=R}}const lD={name:"preventOverflow",enabled:!0,phase:"main",fn:VQ,requiresIfExists:["offset"]};function FQ(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function $Q(e){return e===Ds(e)||!js(e)?BE(e):FQ(e)}function UQ(e){var t=e.getBoundingClientRect(),n=Zl(t.width)/e.offsetWidth||1,s=Zl(t.height)/e.offsetHeight||1;return n!==1||s!==1}function BQ(e,t,n){n===void 0&&(n=!1);var s=js(t),i=js(t)&&UQ(t),r=Mo(t),o=tc(e,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(s||!s&&!n)&&((Fi(t)!=="body"||HE(r))&&(a=$Q(t)),js(t)?(l=tc(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):r&&(l.x=jE(r))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function jQ(e){var t=new Map,n=new Set,s=[];e.forEach(function(r){t.set(r.name,r)});function i(r){n.add(r.name);var o=[].concat(r.requires||[],r.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&i(l)}}),s.push(r)}return e.forEach(function(r){n.has(r.name)||i(r)}),s}function HQ(e){var t=jQ(e);return qN.reduce(function(n,s){return n.concat(t.filter(function(i){return i.phase===s}))},[])}function zQ(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function WQ(e){var t=e.reduce(function(n,s){var i=n[s.name];return n[s.name]=i?Object.assign({},i,s,{options:Object.assign({},i.options,s.options),data:Object.assign({},i.data,s.data)}):s,n},{});return Object.keys(t).map(function(n){return t[n]})}var pI={placement:"bottom",modifiers:[],strategy:"absolute"};function gI(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function lm(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,s=n===void 0?[]:n,i=t.defaultOptions,r=i===void 0?pI:i;return function(a,l,c){c===void 0&&(c=r);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},pI,r),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],d=!1,p={state:u,setOptions:function(E){var A=typeof E=="function"?E(u.options):E;m(),u.options=Object.assign({},r,u.options,A),u.scrollParents={reference:Na(a)?ku(a):a.contextElement?ku(a.contextElement):[],popper:ku(l)};var w=HQ(WQ([].concat(s,u.options.modifiers)));return u.orderedModifiers=w.filter(function(C){return C.enabled}),g(),p.update()},forceUpdate:function(){if(!d){var E=u.elements,A=E.reference,w=E.popper;if(gI(A,w)){u.rects={reference:BQ(A,zh(w),u.options.strategy==="fixed"),popper:VE(w)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(S){return u.modifiersData[S.name]=Object.assign({},S.data)});for(var C=0;C<u.orderedModifiers.length;C++){if(u.reset===!0){u.reset=!1,C=-1;continue}var O=u.orderedModifiers[C],D=O.fn,x=O.options,T=x===void 0?{}:x,_=O.name;typeof D=="function"&&(u=D({state:u,options:T,name:_,instance:p})||u)}}}},update:zQ(function(){return new Promise(function(y){p.forceUpdate(),y(u)})}),destroy:function(){m(),d=!0}};if(!gI(a,l))return p;p.setOptions(c).then(function(y){!d&&c.onFirstUpdate&&c.onFirstUpdate(y)});function g(){u.orderedModifiers.forEach(function(y){var E=y.name,A=y.options,w=A===void 0?{}:A,C=y.effect;if(typeof C=="function"){var O=C({state:u,name:E,instance:p,options:w}),D=function(){};h.push(O||D)}})}function m(){h.forEach(function(y){return y()}),h=[]}return p}}var KQ=lm(),GQ=[UE,zE,$E,LE],XQ=lm({defaultModifiers:GQ}),YQ=[UE,zE,$E,LE,aD,rD,lD,nD,oD],WE=lm({defaultModifiers:YQ});const cD=Object.freeze(Object.defineProperty({__proto__:null,afterMain:KN,afterRead:HN,afterWrite:YN,applyStyles:LE,arrow:nD,auto:om,basePlacements:_c,beforeMain:zN,beforeRead:BN,beforeWrite:GN,bottom:Os,clippingParents:$N,computeStyles:$E,createPopper:WE,createPopperBase:KQ,createPopperLite:XQ,detectOverflow:nc,end:Jl,eventListeners:UE,flip:rD,hide:oD,left:ss,main:WN,modifierPhases:qN,offset:aD,placements:kE,popper:ul,popperGenerator:lm,popperOffsets:zE,preventOverflow:lD,read:jN,reference:UN,right:Ns,start:Oa,top:ns,variationPlacements:t_,viewport:DE,write:XN},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.7 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const Vr=new Map,Cv={set(e,t,n){Vr.has(e)||Vr.set(e,new Map);const s=Vr.get(e);if(!s.has(t)&&s.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(s.keys())[0]}.`);return}s.set(t,n)},get(e,t){return Vr.has(e)&&Vr.get(e).get(t)||null},remove(e,t){if(!Vr.has(e))return;const n=Vr.get(e);n.delete(t),n.size===0&&Vr.delete(e)}},qQ=1e6,QQ=1e3,s_="transitionend",uD=e=>(e&&window.CSS&&window.CSS.escape&&(e=e.replace(/#([^\s"#']+)/g,(t,n)=>`#${CSS.escape(n)}`)),e),JQ=e=>e==null?`${e}`:Object.prototype.toString.call(e).match(/\s([a-z]+)/i)[1].toLowerCase(),ZQ=e=>{do e+=Math.floor(Math.random()*qQ);while(document.getElementById(e));return e},tJ=e=>{if(!e)return 0;let{transitionDuration:t,transitionDelay:n}=window.getComputedStyle(e);const s=Number.parseFloat(t),i=Number.parseFloat(n);return!s&&!i?0:(t=t.split(",")[0],n=n.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(n))*QQ)},hD=e=>{e.dispatchEvent(new Event(s_))},cr=e=>!e||typeof e!="object"?!1:(typeof e.jquery<"u"&&(e=e[0]),typeof e.nodeType<"u"),wo=e=>cr(e)?e.jquery?e[0]:e:typeof e=="string"&&e.length>0?document.querySelector(uD(e)):null,bc=e=>{if(!cr(e)||e.getClientRects().length===0)return!1;const t=getComputedStyle(e).getPropertyValue("visibility")==="visible",n=e.closest("details:not([open])");if(!n)return t;if(n!==e){const s=e.closest("summary");if(s&&s.parentNode!==n||s===null)return!1}return t},Ao=e=>!e||e.nodeType!==Node.ELEMENT_NODE||e.classList.contains("disabled")?!0:typeof e.disabled<"u"?e.disabled:e.hasAttribute("disabled")&&e.getAttribute("disabled")!=="false",fD=e=>{if(!document.documentElement.attachShadow)return null;if(typeof e.getRootNode=="function"){const t=e.getRootNode();return t instanceof ShadowRoot?t:null}return e instanceof ShadowRoot?e:e.parentNode?fD(e.parentNode):null},$p=()=>{},Wh=e=>{e.offsetHeight},dD=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,xv=[],eJ=e=>{document.readyState==="loading"?(xv.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of xv)t()}),xv.push(e)):e()},Gs=()=>document.documentElement.dir==="rtl",Ys=e=>{eJ(()=>{const t=dD();if(t){const n=e.NAME,s=t.fn[n];t.fn[n]=e.jQueryInterface,t.fn[n].Constructor=e,t.fn[n].noConflict=()=>(t.fn[n]=s,e.jQueryInterface)}})},ms=(e,t=[],n=e)=>typeof e=="function"?e.call(...t):n,pD=(e,t,n=!0)=>{if(!n){ms(e);return}const i=tJ(t)+5;let r=!1;const o=({target:a})=>{a===t&&(r=!0,t.removeEventListener(s_,o),ms(e))};t.addEventListener(s_,o),setTimeout(()=>{r||hD(t)},i)},KE=(e,t,n,s)=>{const i=e.length;let r=e.indexOf(t);return r===-1?!n&&s?e[i-1]:e[0]:(r+=n?1:-1,s&&(r=(r+i)%i),e[Math.max(0,Math.min(r,i-1))])},nJ=/[^.]*(?=\..*)\.|.*/,sJ=/\..*/,iJ=/::\d+$/,Pv={};let mI=1;const gD={mouseenter:"mouseover",mouseleave:"mouseout"},rJ=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function mD(e,t){return t&&`${t}::${mI++}`||e.uidEvent||mI++}function vD(e){const t=mD(e);return e.uidEvent=t,Pv[t]=Pv[t]||{},Pv[t]}function oJ(e,t){return function n(s){return GE(s,{delegateTarget:e}),n.oneOff&&ft.off(e,s.type,t),t.apply(e,[s])}}function aJ(e,t,n){return function s(i){const r=e.querySelectorAll(t);for(let{target:o}=i;o&&o!==this;o=o.parentNode)for(const a of r)if(a===o)return GE(i,{delegateTarget:o}),s.oneOff&&ft.off(e,i.type,t,n),n.apply(o,[i])}}function yD(e,t,n=null){return Object.values(e).find(s=>s.callable===t&&s.delegationSelector===n)}function _D(e,t,n){const s=typeof t=="string",i=s?n:t||n;let r=bD(e);return rJ.has(r)||(r=e),[s,i,r]}function vI(e,t,n,s,i){if(typeof t!="string"||!e)return;let[r,o,a]=_D(t,n,s);t in gD&&(o=(g=>function(m){if(!m.relatedTarget||m.relatedTarget!==m.delegateTarget&&!m.delegateTarget.contains(m.relatedTarget))return g.call(this,m)})(o));const l=vD(e),c=l[a]||(l[a]={}),u=yD(c,o,r?n:null);if(u){u.oneOff=u.oneOff&&i;return}const h=mD(o,t.replace(nJ,"")),d=r?aJ(e,n,o):oJ(e,o);d.delegationSelector=r?n:null,d.callable=o,d.oneOff=i,d.uidEvent=h,c[h]=d,e.addEventListener(a,d,r)}function i_(e,t,n,s,i){const r=yD(t[n],s,i);r&&(e.removeEventListener(n,r,!!i),delete t[n][r.uidEvent])}function lJ(e,t,n,s){const i=t[n]||{};for(const[r,o]of Object.entries(i))r.includes(s)&&i_(e,t,n,o.callable,o.delegationSelector)}function bD(e){return e=e.replace(sJ,""),gD[e]||e}const ft={on(e,t,n,s){vI(e,t,n,s,!1)},one(e,t,n,s){vI(e,t,n,s,!0)},off(e,t,n,s){if(typeof t!="string"||!e)return;const[i,r,o]=_D(t,n,s),a=o!==t,l=vD(e),c=l[o]||{},u=t.startsWith(".");if(typeof r<"u"){if(!Object.keys(c).length)return;i_(e,l,o,r,i?n:null);return}if(u)for(const h of Object.keys(l))lJ(e,l,h,t.slice(1));for(const[h,d]of Object.entries(c)){const p=h.replace(iJ,"");(!a||t.includes(p))&&i_(e,l,o,d.callable,d.delegationSelector)}},trigger(e,t,n){if(typeof t!="string"||!e)return null;const s=dD(),i=bD(t),r=t!==i;let o=null,a=!0,l=!0,c=!1;r&&s&&(o=s.Event(t,n),s(e).trigger(o),a=!o.isPropagationStopped(),l=!o.isImmediatePropagationStopped(),c=o.isDefaultPrevented());const u=GE(new Event(t,{bubbles:a,cancelable:!0}),n);return c&&u.preventDefault(),l&&e.dispatchEvent(u),u.defaultPrevented&&o&&o.preventDefault(),u}};function GE(e,t={}){for(const[n,s]of Object.entries(t))try{e[n]=s}catch{Object.defineProperty(e,n,{configurable:!0,get(){return s}})}return e}function yI(e){if(e==="true")return!0;if(e==="false")return!1;if(e===Number(e).toString())return Number(e);if(e===""||e==="null")return null;if(typeof e!="string")return e;try{return JSON.parse(decodeURIComponent(e))}catch{return e}}function Rv(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const ur={setDataAttribute(e,t,n){e.setAttribute(`data-bs-${Rv(t)}`,n)},removeDataAttribute(e,t){e.removeAttribute(`data-bs-${Rv(t)}`)},getDataAttributes(e){if(!e)return{};const t={},n=Object.keys(e.dataset).filter(s=>s.startsWith("bs")&&!s.startsWith("bsConfig"));for(const s of n){let i=s.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1),t[i]=yI(e.dataset[s])}return t},getDataAttribute(e,t){return yI(e.getAttribute(`data-bs-${Rv(t)}`))}};class Kh{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,n){const s=cr(n)?ur.getDataAttribute(n,"config"):{};return{...this.constructor.Default,...typeof s=="object"?s:{},...cr(n)?ur.getDataAttributes(n):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,n=this.constructor.DefaultType){for(const[s,i]of Object.entries(n)){const r=t[s],o=cr(r)?"element":JQ(r);if(!new RegExp(i).test(o))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${s}" provided type "${o}" but expected type "${i}".`)}}}const cJ="5.3.7";class pi extends Kh{constructor(t,n){super(),t=wo(t),t&&(this._element=t,this._config=this._getConfig(n),Cv.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Cv.remove(this._element,this.constructor.DATA_KEY),ft.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,n,s=!0){pD(t,n,s)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return Cv.get(wo(t),this.DATA_KEY)}static getOrCreateInstance(t,n={}){return this.getInstance(t)||new this(t,typeof n=="object"?n:null)}static get VERSION(){return cJ}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const Ov=e=>{let t=e.getAttribute("data-bs-target");if(!t||t==="#"){let n=e.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),t=n&&n!=="#"?n.trim():null}return t?t.split(",").map(n=>uD(n)).join(","):null},Ut={find(e,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,e))},findOne(e,t=document.documentElement){return Element.prototype.querySelector.call(t,e)},children(e,t){return[].concat(...e.children).filter(n=>n.matches(t))},parents(e,t){const n=[];let s=e.parentNode.closest(t);for(;s;)n.push(s),s=s.parentNode.closest(t);return n},prev(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return[n];n=n.previousElementSibling}return[]},next(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(n=>`${n}:not([tabindex^="-"])`).join(",");return this.find(t,e).filter(n=>!Ao(n)&&bc(n))},getSelectorFromElement(e){const t=Ov(e);return t&&Ut.findOne(t)?t:null},getElementFromSelector(e){const t=Ov(e);return t?Ut.findOne(t):null},getMultipleElementsFromSelector(e){const t=Ov(e);return t?Ut.find(t):[]}},cm=(e,t="hide")=>{const n=`click.dismiss${e.EVENT_KEY}`,s=e.NAME;ft.on(document,n,`[data-bs-dismiss="${s}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),Ao(this))return;const r=Ut.getElementFromSelector(this)||this.closest(`.${s}`);e.getOrCreateInstance(r)[t]()})},uJ="alert",hJ="bs.alert",ED=`.${hJ}`,fJ=`close${ED}`,dJ=`closed${ED}`,pJ="fade",gJ="show";class um extends pi{static get NAME(){return uJ}close(){if(ft.trigger(this._element,fJ).defaultPrevented)return;this._element.classList.remove(gJ);const n=this._element.classList.contains(pJ);this._queueCallback(()=>this._destroyElement(),this._element,n)}_destroyElement(){this._element.remove(),ft.trigger(this._element,dJ),this.dispose()}static jQueryInterface(t){return this.each(function(){const n=um.getOrCreateInstance(this);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}cm(um,"close");Ys(um);const mJ="button",vJ="bs.button",yJ=`.${vJ}`,_J=".data-api",bJ="active",_I='[data-bs-toggle="button"]',EJ=`click${yJ}${_J}`;class hm extends pi{static get NAME(){return mJ}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(bJ))}static jQueryInterface(t){return this.each(function(){const n=hm.getOrCreateInstance(this);t==="toggle"&&n[t]()})}}ft.on(document,EJ,_I,e=>{e.preventDefault();const t=e.target.closest(_I);hm.getOrCreateInstance(t).toggle()});Ys(hm);const TJ="swipe",Ec=".bs.swipe",SJ=`touchstart${Ec}`,wJ=`touchmove${Ec}`,AJ=`touchend${Ec}`,IJ=`pointerdown${Ec}`,CJ=`pointerup${Ec}`,xJ="touch",PJ="pen",RJ="pointer-event",OJ=40,NJ={endCallback:null,leftCallback:null,rightCallback:null},DJ={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Up extends Kh{constructor(t,n){super(),this._element=t,!(!t||!Up.isSupported())&&(this._config=this._getConfig(n),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return NJ}static get DefaultType(){return DJ}static get NAME(){return TJ}dispose(){ft.off(this._element,Ec)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),ms(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=OJ)return;const n=t/this._deltaX;this._deltaX=0,n&&ms(n>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(ft.on(this._element,IJ,t=>this._start(t)),ft.on(this._element,CJ,t=>this._end(t)),this._element.classList.add(RJ)):(ft.on(this._element,SJ,t=>this._start(t)),ft.on(this._element,wJ,t=>this._move(t)),ft.on(this._element,AJ,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===PJ||t.pointerType===xJ)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const kJ="carousel",MJ="bs.carousel",Lo=`.${MJ}`,TD=".data-api",LJ="ArrowLeft",VJ="ArrowRight",FJ=500,Gc="next",tl="prev",hl="left",Md="right",$J=`slide${Lo}`,Nv=`slid${Lo}`,UJ=`keydown${Lo}`,BJ=`mouseenter${Lo}`,jJ=`mouseleave${Lo}`,HJ=`dragstart${Lo}`,zJ=`load${Lo}${TD}`,WJ=`click${Lo}${TD}`,SD="carousel",Qf="active",KJ="slide",GJ="carousel-item-end",XJ="carousel-item-start",YJ="carousel-item-next",qJ="carousel-item-prev",wD=".active",AD=".carousel-item",QJ=wD+AD,JJ=".carousel-item img",ZJ=".carousel-indicators",tZ="[data-bs-slide], [data-bs-slide-to]",eZ='[data-bs-ride="carousel"]',nZ={[LJ]:Md,[VJ]:hl},sZ={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},iZ={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Gh extends pi{constructor(t,n){super(t,n),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Ut.findOne(ZJ,this._element),this._addEventListeners(),this._config.ride===SD&&this.cycle()}static get Default(){return sZ}static get DefaultType(){return iZ}static get NAME(){return kJ}next(){this._slide(Gc)}nextWhenVisible(){!document.hidden&&bc(this._element)&&this.next()}prev(){this._slide(tl)}pause(){this._isSliding&&hD(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){ft.one(this._element,Nv,()=>this.cycle());return}this.cycle()}}to(t){const n=this._getItems();if(t>n.length-1||t<0)return;if(this._isSliding){ft.one(this._element,Nv,()=>this.to(t));return}const s=this._getItemIndex(this._getActive());if(s===t)return;const i=t>s?Gc:tl;this._slide(i,n[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&ft.on(this._element,UJ,t=>this._keydown(t)),this._config.pause==="hover"&&(ft.on(this._element,BJ,()=>this.pause()),ft.on(this._element,jJ,()=>this._maybeEnableCycle())),this._config.touch&&Up.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const s of Ut.find(JJ,this._element))ft.on(s,HJ,i=>i.preventDefault());const n={leftCallback:()=>this._slide(this._directionToOrder(hl)),rightCallback:()=>this._slide(this._directionToOrder(Md)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),FJ+this._config.interval))}};this._swipeHelper=new Up(this._element,n)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const n=nZ[t.key];n&&(t.preventDefault(),this._slide(this._directionToOrder(n)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const n=Ut.findOne(wD,this._indicatorsElement);n.classList.remove(Qf),n.removeAttribute("aria-current");const s=Ut.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);s&&(s.classList.add(Qf),s.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const n=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=n||this._config.defaultInterval}_slide(t,n=null){if(this._isSliding)return;const s=this._getActive(),i=t===Gc,r=n||KE(this._getItems(),s,i,this._config.wrap);if(r===s)return;const o=this._getItemIndex(r),a=p=>ft.trigger(this._element,p,{relatedTarget:r,direction:this._orderToDirection(t),from:this._getItemIndex(s),to:o});if(a($J).defaultPrevented||!s||!r)return;const c=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(o),this._activeElement=r;const u=i?XJ:GJ,h=i?YJ:qJ;r.classList.add(h),Wh(r),s.classList.add(u),r.classList.add(u);const d=()=>{r.classList.remove(u,h),r.classList.add(Qf),s.classList.remove(Qf,h,u),this._isSliding=!1,a(Nv)};this._queueCallback(d,s,this._isAnimated()),c&&this.cycle()}_isAnimated(){return this._element.classList.contains(KJ)}_getActive(){return Ut.findOne(QJ,this._element)}_getItems(){return Ut.find(AD,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return Gs()?t===hl?tl:Gc:t===hl?Gc:tl}_orderToDirection(t){return Gs()?t===tl?hl:Md:t===tl?Md:hl}static jQueryInterface(t){return this.each(function(){const n=Gh.getOrCreateInstance(this,t);if(typeof t=="number"){n.to(t);return}if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}ft.on(document,WJ,tZ,function(e){const t=Ut.getElementFromSelector(this);if(!t||!t.classList.contains(SD))return;e.preventDefault();const n=Gh.getOrCreateInstance(t),s=this.getAttribute("data-bs-slide-to");if(s){n.to(s),n._maybeEnableCycle();return}if(ur.getDataAttribute(this,"slide")==="next"){n.next(),n._maybeEnableCycle();return}n.prev(),n._maybeEnableCycle()});ft.on(window,zJ,()=>{const e=Ut.find(eZ);for(const t of e)Gh.getOrCreateInstance(t)});Ys(Gh);const rZ="collapse",oZ="bs.collapse",Xh=`.${oZ}`,aZ=".data-api",lZ=`show${Xh}`,cZ=`shown${Xh}`,uZ=`hide${Xh}`,hZ=`hidden${Xh}`,fZ=`click${Xh}${aZ}`,Dv="show",vl="collapse",Jf="collapsing",dZ="collapsed",pZ=`:scope .${vl} .${vl}`,gZ="collapse-horizontal",mZ="width",vZ="height",yZ=".collapse.show, .collapse.collapsing",r_='[data-bs-toggle="collapse"]',_Z={parent:null,toggle:!0},bZ={parent:"(null|element)",toggle:"boolean"};class dh extends pi{constructor(t,n){super(t,n),this._isTransitioning=!1,this._triggerArray=[];const s=Ut.find(r_);for(const i of s){const r=Ut.getSelectorFromElement(i),o=Ut.find(r).filter(a=>a===this._element);r!==null&&o.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return _Z}static get DefaultType(){return bZ}static get NAME(){return rZ}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(yZ).filter(a=>a!==this._element).map(a=>dh.getOrCreateInstance(a,{toggle:!1}))),t.length&&t[0]._isTransitioning||ft.trigger(this._element,lZ).defaultPrevented)return;for(const a of t)a.hide();const s=this._getDimension();this._element.classList.remove(vl),this._element.classList.add(Jf),this._element.style[s]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(Jf),this._element.classList.add(vl,Dv),this._element.style[s]="",ft.trigger(this._element,cZ)},o=`scroll${s[0].toUpperCase()+s.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[s]=`${this._element[o]}px`}hide(){if(this._isTransitioning||!this._isShown()||ft.trigger(this._element,uZ).defaultPrevented)return;const n=this._getDimension();this._element.style[n]=`${this._element.getBoundingClientRect()[n]}px`,Wh(this._element),this._element.classList.add(Jf),this._element.classList.remove(vl,Dv);for(const i of this._triggerArray){const r=Ut.getElementFromSelector(i);r&&!this._isShown(r)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const s=()=>{this._isTransitioning=!1,this._element.classList.remove(Jf),this._element.classList.add(vl),ft.trigger(this._element,hZ)};this._element.style[n]="",this._queueCallback(s,this._element,!0)}_isShown(t=this._element){return t.classList.contains(Dv)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=wo(t.parent),t}_getDimension(){return this._element.classList.contains(gZ)?mZ:vZ}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(r_);for(const n of t){const s=Ut.getElementFromSelector(n);s&&this._addAriaAndCollapsedClass([n],this._isShown(s))}}_getFirstLevelChildren(t){const n=Ut.find(pZ,this._config.parent);return Ut.find(t,this._config.parent).filter(s=>!n.includes(s))}_addAriaAndCollapsedClass(t,n){if(t.length)for(const s of t)s.classList.toggle(dZ,!n),s.setAttribute("aria-expanded",n)}static jQueryInterface(t){const n={};return typeof t=="string"&&/show|hide/.test(t)&&(n.toggle=!1),this.each(function(){const s=dh.getOrCreateInstance(this,n);if(typeof t=="string"){if(typeof s[t]>"u")throw new TypeError(`No method named "${t}"`);s[t]()}})}}ft.on(document,fZ,r_,function(e){(e.target.tagName==="A"||e.delegateTarget&&e.delegateTarget.tagName==="A")&&e.preventDefault();for(const t of Ut.getMultipleElementsFromSelector(this))dh.getOrCreateInstance(t,{toggle:!1}).toggle()});Ys(dh);const bI="dropdown",EZ="bs.dropdown",Ua=`.${EZ}`,XE=".data-api",TZ="Escape",EI="Tab",SZ="ArrowUp",TI="ArrowDown",wZ=2,AZ=`hide${Ua}`,IZ=`hidden${Ua}`,CZ=`show${Ua}`,xZ=`shown${Ua}`,ID=`click${Ua}${XE}`,CD=`keydown${Ua}${XE}`,PZ=`keyup${Ua}${XE}`,fl="show",RZ="dropup",OZ="dropend",NZ="dropstart",DZ="dropup-center",kZ="dropdown-center",sa='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',MZ=`${sa}.${fl}`,Ld=".dropdown-menu",LZ=".navbar",VZ=".navbar-nav",FZ=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",$Z=Gs()?"top-end":"top-start",UZ=Gs()?"top-start":"top-end",BZ=Gs()?"bottom-end":"bottom-start",jZ=Gs()?"bottom-start":"bottom-end",HZ=Gs()?"left-start":"right-start",zZ=Gs()?"right-start":"left-start",WZ="top",KZ="bottom",GZ={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},XZ={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Oi extends pi{constructor(t,n){super(t,n),this._popper=null,this._parent=this._element.parentNode,this._menu=Ut.next(this._element,Ld)[0]||Ut.prev(this._element,Ld)[0]||Ut.findOne(Ld,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return GZ}static get DefaultType(){return XZ}static get NAME(){return bI}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Ao(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!ft.trigger(this._element,CZ,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(VZ))for(const s of[].concat(...document.body.children))ft.on(s,"mouseover",$p);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(fl),this._element.classList.add(fl),ft.trigger(this._element,xZ,t)}}hide(){if(Ao(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!ft.trigger(this._element,AZ,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const s of[].concat(...document.body.children))ft.off(s,"mouseover",$p);this._popper&&this._popper.destroy(),this._menu.classList.remove(fl),this._element.classList.remove(fl),this._element.setAttribute("aria-expanded","false"),ur.removeDataAttribute(this._menu,"popper"),ft.trigger(this._element,IZ,t),this._element.focus()}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!cr(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${bI.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof cD>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let t=this._element;this._config.reference==="parent"?t=this._parent:cr(this._config.reference)?t=wo(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const n=this._getPopperConfig();this._popper=WE(t,this._menu,n)}_isShown(){return this._menu.classList.contains(fl)}_getPlacement(){const t=this._parent;if(t.classList.contains(OZ))return HZ;if(t.classList.contains(NZ))return zZ;if(t.classList.contains(DZ))return WZ;if(t.classList.contains(kZ))return KZ;const n=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(RZ)?n?UZ:$Z:n?jZ:BZ}_detectNavbar(){return this._element.closest(LZ)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(n=>Number.parseInt(n,10)):typeof t=="function"?n=>t(n,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(ur.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...ms(this._config.popperConfig,[void 0,t])}}_selectMenuItem({key:t,target:n}){const s=Ut.find(FZ,this._menu).filter(i=>bc(i));s.length&&KE(s,n,t===TI,!s.includes(n)).focus()}static jQueryInterface(t){return this.each(function(){const n=Oi.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}static clearMenus(t){if(t.button===wZ||t.type==="keyup"&&t.key!==EI)return;const n=Ut.find(MZ);for(const s of n){const i=Oi.getInstance(s);if(!i||i._config.autoClose===!1)continue;const r=t.composedPath(),o=r.includes(i._menu);if(r.includes(i._element)||i._config.autoClose==="inside"&&!o||i._config.autoClose==="outside"&&o||i._menu.contains(t.target)&&(t.type==="keyup"&&t.key===EI||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const a={relatedTarget:i._element};t.type==="click"&&(a.clickEvent=t),i._completeHide(a)}}static dataApiKeydownHandler(t){const n=/input|textarea/i.test(t.target.tagName),s=t.key===TZ,i=[SZ,TI].includes(t.key);if(!i&&!s||n&&!s)return;t.preventDefault();const r=this.matches(sa)?this:Ut.prev(this,sa)[0]||Ut.next(this,sa)[0]||Ut.findOne(sa,t.delegateTarget.parentNode),o=Oi.getOrCreateInstance(r);if(i){t.stopPropagation(),o.show(),o._selectMenuItem(t);return}o._isShown()&&(t.stopPropagation(),o.hide(),r.focus())}}ft.on(document,CD,sa,Oi.dataApiKeydownHandler);ft.on(document,CD,Ld,Oi.dataApiKeydownHandler);ft.on(document,ID,Oi.clearMenus);ft.on(document,PZ,Oi.clearMenus);ft.on(document,ID,sa,function(e){e.preventDefault(),Oi.getOrCreateInstance(this).toggle()});Ys(Oi);const xD="backdrop",YZ="fade",SI="show",wI=`mousedown.bs.${xD}`,qZ={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},QZ={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class PD extends Kh{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return qZ}static get DefaultType(){return QZ}static get NAME(){return xD}show(t){if(!this._config.isVisible){ms(t);return}this._append();const n=this._getElement();this._config.isAnimated&&Wh(n),n.classList.add(SI),this._emulateAnimation(()=>{ms(t)})}hide(t){if(!this._config.isVisible){ms(t);return}this._getElement().classList.remove(SI),this._emulateAnimation(()=>{this.dispose(),ms(t)})}dispose(){this._isAppended&&(ft.off(this._element,wI),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(YZ),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=wo(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),ft.on(t,wI,()=>{ms(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){pD(t,this._getElement(),this._config.isAnimated)}}const JZ="focustrap",ZZ="bs.focustrap",Bp=`.${ZZ}`,ttt=`focusin${Bp}`,ett=`keydown.tab${Bp}`,ntt="Tab",stt="forward",AI="backward",itt={autofocus:!0,trapElement:null},rtt={autofocus:"boolean",trapElement:"element"};class RD extends Kh{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return itt}static get DefaultType(){return rtt}static get NAME(){return JZ}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),ft.off(document,Bp),ft.on(document,ttt,t=>this._handleFocusin(t)),ft.on(document,ett,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,ft.off(document,Bp))}_handleFocusin(t){const{trapElement:n}=this._config;if(t.target===document||t.target===n||n.contains(t.target))return;const s=Ut.focusableChildren(n);s.length===0?n.focus():this._lastTabNavDirection===AI?s[s.length-1].focus():s[0].focus()}_handleKeydown(t){t.key===ntt&&(this._lastTabNavDirection=t.shiftKey?AI:stt)}}const II=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",CI=".sticky-top",Zf="padding-right",xI="margin-right";class o_{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Zf,n=>n+t),this._setElementAttributes(II,Zf,n=>n+t),this._setElementAttributes(CI,xI,n=>n-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Zf),this._resetElementAttributes(II,Zf),this._resetElementAttributes(CI,xI)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,n,s){const i=this.getWidth(),r=o=>{if(o!==this._element&&window.innerWidth>o.clientWidth+i)return;this._saveInitialAttribute(o,n);const a=window.getComputedStyle(o).getPropertyValue(n);o.style.setProperty(n,`${s(Number.parseFloat(a))}px`)};this._applyManipulationCallback(t,r)}_saveInitialAttribute(t,n){const s=t.style.getPropertyValue(n);s&&ur.setDataAttribute(t,n,s)}_resetElementAttributes(t,n){const s=i=>{const r=ur.getDataAttribute(i,n);if(r===null){i.style.removeProperty(n);return}ur.removeDataAttribute(i,n),i.style.setProperty(n,r)};this._applyManipulationCallback(t,s)}_applyManipulationCallback(t,n){if(cr(t)){n(t);return}for(const s of Ut.find(t,this._element))n(s)}}const ott="modal",att="bs.modal",Xs=`.${att}`,ltt=".data-api",ctt="Escape",utt=`hide${Xs}`,htt=`hidePrevented${Xs}`,OD=`hidden${Xs}`,ND=`show${Xs}`,ftt=`shown${Xs}`,dtt=`resize${Xs}`,ptt=`click.dismiss${Xs}`,gtt=`mousedown.dismiss${Xs}`,mtt=`keydown.dismiss${Xs}`,vtt=`click${Xs}${ltt}`,PI="modal-open",ytt="fade",RI="show",kv="modal-static",_tt=".modal.show",btt=".modal-dialog",Ett=".modal-body",Ttt='[data-bs-toggle="modal"]',Stt={backdrop:!0,focus:!0,keyboard:!0},wtt={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class sc extends pi{constructor(t,n){super(t,n),this._dialog=Ut.findOne(btt,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new o_,this._addEventListeners()}static get Default(){return Stt}static get DefaultType(){return wtt}static get NAME(){return ott}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||ft.trigger(this._element,ND,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(PI),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||ft.trigger(this._element,utt).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(RI),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){ft.off(window,Xs),ft.off(this._dialog,Xs),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new PD({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new RD({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const n=Ut.findOne(Ett,this._dialog);n&&(n.scrollTop=0),Wh(this._element),this._element.classList.add(RI);const s=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,ft.trigger(this._element,ftt,{relatedTarget:t})};this._queueCallback(s,this._dialog,this._isAnimated())}_addEventListeners(){ft.on(this._element,mtt,t=>{if(t.key===ctt){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),ft.on(window,dtt,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),ft.on(this._element,gtt,t=>{ft.one(this._element,ptt,n=>{if(!(this._element!==t.target||this._element!==n.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(PI),this._resetAdjustments(),this._scrollBar.reset(),ft.trigger(this._element,OD)})}_isAnimated(){return this._element.classList.contains(ytt)}_triggerBackdropTransition(){if(ft.trigger(this._element,htt).defaultPrevented)return;const n=this._element.scrollHeight>document.documentElement.clientHeight,s=this._element.style.overflowY;s==="hidden"||this._element.classList.contains(kv)||(n||(this._element.style.overflowY="hidden"),this._element.classList.add(kv),this._queueCallback(()=>{this._element.classList.remove(kv),this._queueCallback(()=>{this._element.style.overflowY=s},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._scrollBar.getWidth(),s=n>0;if(s&&!t){const i=Gs()?"paddingLeft":"paddingRight";this._element.style[i]=`${n}px`}if(!s&&t){const i=Gs()?"paddingRight":"paddingLeft";this._element.style[i]=`${n}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,n){return this.each(function(){const s=sc.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof s[t]>"u")throw new TypeError(`No method named "${t}"`);s[t](n)}})}}ft.on(document,vtt,Ttt,function(e){const t=Ut.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&e.preventDefault(),ft.one(t,ND,i=>{i.defaultPrevented||ft.one(t,OD,()=>{bc(this)&&this.focus()})});const n=Ut.findOne(_tt);n&&sc.getInstance(n).hide(),sc.getOrCreateInstance(t).toggle(this)});cm(sc);Ys(sc);const Att="offcanvas",Itt="bs.offcanvas",Pr=`.${Itt}`,DD=".data-api",Ctt=`load${Pr}${DD}`,xtt="Escape",OI="show",NI="showing",DI="hiding",Ptt="offcanvas-backdrop",kD=".offcanvas.show",Rtt=`show${Pr}`,Ott=`shown${Pr}`,Ntt=`hide${Pr}`,kI=`hidePrevented${Pr}`,MD=`hidden${Pr}`,Dtt=`resize${Pr}`,ktt=`click${Pr}${DD}`,Mtt=`keydown.dismiss${Pr}`,Ltt='[data-bs-toggle="offcanvas"]',Vtt={backdrop:!0,keyboard:!0,scroll:!1},Ftt={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Io extends pi{constructor(t,n){super(t,n),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Vtt}static get DefaultType(){return Ftt}static get NAME(){return Att}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||ft.trigger(this._element,Rtt,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new o_().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(NI);const s=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(OI),this._element.classList.remove(NI),ft.trigger(this._element,Ott,{relatedTarget:t})};this._queueCallback(s,this._element,!0)}hide(){if(!this._isShown||ft.trigger(this._element,Ntt).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(DI),this._backdrop.hide();const n=()=>{this._element.classList.remove(OI,DI),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new o_().reset(),ft.trigger(this._element,MD)};this._queueCallback(n,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){ft.trigger(this._element,kI);return}this.hide()},n=!!this._config.backdrop;return new PD({className:Ptt,isVisible:n,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:n?t:null})}_initializeFocusTrap(){return new RD({trapElement:this._element})}_addEventListeners(){ft.on(this._element,Mtt,t=>{if(t.key===xtt){if(this._config.keyboard){this.hide();return}ft.trigger(this._element,kI)}})}static jQueryInterface(t){return this.each(function(){const n=Io.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}ft.on(document,ktt,Ltt,function(e){const t=Ut.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&e.preventDefault(),Ao(this))return;ft.one(t,MD,()=>{bc(this)&&this.focus()});const n=Ut.findOne(kD);n&&n!==t&&Io.getInstance(n).hide(),Io.getOrCreateInstance(t).toggle(this)});ft.on(window,Ctt,()=>{for(const e of Ut.find(kD))Io.getOrCreateInstance(e).show()});ft.on(window,Dtt,()=>{for(const e of Ut.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(e).position!=="fixed"&&Io.getOrCreateInstance(e).hide()});cm(Io);Ys(Io);const $tt=/^aria-[\w-]*$/i,LD={"*":["class","dir","id","lang","role",$tt],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Utt=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Btt=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,jtt=(e,t)=>{const n=e.nodeName.toLowerCase();return t.includes(n)?Utt.has(n)?!!Btt.test(e.nodeValue):!0:t.filter(s=>s instanceof RegExp).some(s=>s.test(n))};function Htt(e,t,n){if(!e.length)return e;if(n&&typeof n=="function")return n(e);const i=new window.DOMParser().parseFromString(e,"text/html"),r=[].concat(...i.body.querySelectorAll("*"));for(const o of r){const a=o.nodeName.toLowerCase();if(!Object.keys(t).includes(a)){o.remove();continue}const l=[].concat(...o.attributes),c=[].concat(t["*"]||[],t[a]||[]);for(const u of l)jtt(u,c)||o.removeAttribute(u.nodeName)}return i.body.innerHTML}const ztt="TemplateFactory",Wtt={allowList:LD,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Ktt={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},Gtt={entry:"(string|element|function|null)",selector:"(string|element)"};class Xtt extends Kh{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return Wtt}static get DefaultType(){return Ktt}static get NAME(){return ztt}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[i,r]of Object.entries(this._config.content))this._setContent(t,r,i);const n=t.children[0],s=this._resolvePossibleFunction(this._config.extraClass);return s&&n.classList.add(...s.split(" ")),n}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[n,s]of Object.entries(t))super._typeCheckConfig({selector:n,entry:s},Gtt)}_setContent(t,n,s){const i=Ut.findOne(s,t);if(i){if(n=this._resolvePossibleFunction(n),!n){i.remove();return}if(cr(n)){this._putElementInTemplate(wo(n),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(n);return}i.textContent=n}}_maybeSanitize(t){return this._config.sanitize?Htt(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return ms(t,[void 0,this])}_putElementInTemplate(t,n){if(this._config.html){n.innerHTML="",n.append(t);return}n.textContent=t.textContent}}const Ytt="tooltip",qtt=new Set(["sanitize","allowList","sanitizeFn"]),Mv="fade",Qtt="modal",td="show",Jtt=".tooltip-inner",MI=`.${Qtt}`,LI="hide.bs.modal",Xc="hover",Lv="focus",Vv="click",Ztt="manual",tet="hide",eet="hidden",net="show",set="shown",iet="inserted",ret="click",oet="focusin",aet="focusout",cet="mouseenter",uet="mouseleave",het={AUTO:"auto",TOP:"top",RIGHT:Gs()?"left":"right",BOTTOM:"bottom",LEFT:Gs()?"right":"left"},fet={allowList:LD,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},det={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Tc extends pi{constructor(t,n){if(typeof cD>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(t,n),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return fet}static get DefaultType(){return det}static get NAME(){return Ytt}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),ft.off(this._element.closest(MI),LI,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=ft.trigger(this._element,this.constructor.eventName(net)),s=(fD(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!s)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:r}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(r.append(i),ft.trigger(this._element,this.constructor.eventName(iet))),this._popper=this._createPopper(i),i.classList.add(td),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))ft.on(a,"mouseover",$p);const o=()=>{ft.trigger(this._element,this.constructor.eventName(set)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(o,this.tip,this._isAnimated())}hide(){if(!this._isShown()||ft.trigger(this._element,this.constructor.eventName(tet)).defaultPrevented)return;if(this._getTipElement().classList.remove(td),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))ft.off(i,"mouseover",$p);this._activeTrigger[Vv]=!1,this._activeTrigger[Lv]=!1,this._activeTrigger[Xc]=!1,this._isHovered=null;const s=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),ft.trigger(this._element,this.constructor.eventName(eet)))};this._queueCallback(s,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const n=this._getTemplateFactory(t).toHtml();if(!n)return null;n.classList.remove(Mv,td),n.classList.add(`bs-${this.constructor.NAME}-auto`);const s=ZQ(this.constructor.NAME).toString();return n.setAttribute("id",s),this._isAnimated()&&n.classList.add(Mv),n}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new Xtt({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Jtt]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Mv)}_isShown(){return this.tip&&this.tip.classList.contains(td)}_createPopper(t){const n=ms(this._config.placement,[this,t,this._element]),s=het[n.toUpperCase()];return WE(this._element,t,this._getPopperConfig(s))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(n=>Number.parseInt(n,10)):typeof t=="function"?n=>t(n,this._element):t}_resolvePossibleFunction(t){return ms(t,[this._element,this._element])}_getPopperConfig(t){const n={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:s=>{this._getTipElement().setAttribute("data-popper-placement",s.state.placement)}}]};return{...n,...ms(this._config.popperConfig,[void 0,n])}}_setListeners(){const t=this._config.trigger.split(" ");for(const n of t)if(n==="click")ft.on(this._element,this.constructor.eventName(ret),this._config.selector,s=>{const i=this._initializeOnDelegatedTarget(s);i._activeTrigger[Vv]=!(i._isShown()&&i._activeTrigger[Vv]),i.toggle()});else if(n!==Ztt){const s=n===Xc?this.constructor.eventName(cet):this.constructor.eventName(oet),i=n===Xc?this.constructor.eventName(uet):this.constructor.eventName(aet);ft.on(this._element,s,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger[r.type==="focusin"?Lv:Xc]=!0,o._enter()}),ft.on(this._element,i,this._config.selector,r=>{const o=this._initializeOnDelegatedTarget(r);o._activeTrigger[r.type==="focusout"?Lv:Xc]=o._element.contains(r.relatedTarget),o._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},ft.on(this._element.closest(MI),LI,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,n){clearTimeout(this._timeout),this._timeout=setTimeout(t,n)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const n=ur.getDataAttributes(this._element);for(const s of Object.keys(n))qtt.has(s)&&delete n[s];return t={...n,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:wo(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[n,s]of Object.entries(this._config))this.constructor.Default[n]!==s&&(t[n]=s);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const n=Tc.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}}Ys(Tc);const pet="popover",get=".popover-header",met=".popover-body",vet={...Tc.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},yet={...Tc.DefaultType,content:"(null|string|element|function)"};class YE extends Tc{static get Default(){return vet}static get DefaultType(){return yet}static get NAME(){return pet}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[get]:this._getTitle(),[met]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const n=YE.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t]()}})}}Ys(YE);const _et="scrollspy",bet="bs.scrollspy",qE=`.${bet}`,Eet=".data-api",Tet=`activate${qE}`,VI=`click${qE}`,wet=`load${qE}${Eet}`,Aet="dropdown-item",el="active",Iet='[data-bs-spy="scroll"]',Fv="[href]",Cet=".nav, .list-group",FI=".nav-link",xet=".nav-item",Pet=".list-group-item",Ret=`${FI}, ${xet} > ${FI}, ${Pet}`,Oet=".dropdown",Net=".dropdown-toggle",Det={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},ket={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class fm extends pi{constructor(t,n){super(t,n),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Det}static get DefaultType(){return ket}static get NAME(){return _et}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=wo(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(n=>Number.parseFloat(n))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(ft.off(this._config.target,VI),ft.on(this._config.target,VI,Fv,t=>{const n=this._observableSections.get(t.target.hash);if(n){t.preventDefault();const s=this._rootElement||window,i=n.offsetTop-this._element.offsetTop;if(s.scrollTo){s.scrollTo({top:i,behavior:"smooth"});return}s.scrollTop=i}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(n=>this._observerCallback(n),t)}_observerCallback(t){const n=o=>this._targetLinks.get(`#${o.target.id}`),s=o=>{this._previousScrollData.visibleEntryTop=o.target.offsetTop,this._process(n(o))},i=(this._rootElement||document.documentElement).scrollTop,r=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const o of t){if(!o.isIntersecting){this._activeTarget=null,this._clearActiveClass(n(o));continue}const a=o.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(r&&a){if(s(o),!i)return;continue}!r&&!a&&s(o)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=Ut.find(Fv,this._config.target);for(const n of t){if(!n.hash||Ao(n))continue;const s=Ut.findOne(decodeURI(n.hash),this._element);bc(s)&&(this._targetLinks.set(decodeURI(n.hash),n),this._observableSections.set(n.hash,s))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(el),this._activateParents(t),ft.trigger(this._element,Tet,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(Aet)){Ut.findOne(Net,t.closest(Oet)).classList.add(el);return}for(const n of Ut.parents(t,Cet))for(const s of Ut.prev(n,Ret))s.classList.add(el)}_clearActiveClass(t){t.classList.remove(el);const n=Ut.find(`${Fv}.${el}`,t);for(const s of n)s.classList.remove(el)}static jQueryInterface(t){return this.each(function(){const n=fm.getOrCreateInstance(this,t);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}ft.on(window,wet,()=>{for(const e of Ut.find(Iet))fm.getOrCreateInstance(e)});Ys(fm);const Met="tab",Let="bs.tab",Ba=`.${Let}`,Vet=`hide${Ba}`,Fet=`hidden${Ba}`,$et=`show${Ba}`,Uet=`shown${Ba}`,Bet=`click${Ba}`,jet=`keydown${Ba}`,Het=`load${Ba}`,zet="ArrowLeft",$I="ArrowRight",Wet="ArrowUp",UI="ArrowDown",$v="Home",BI="End",ia="active",jI="fade",Uv="show",Ket="dropdown",VD=".dropdown-toggle",Get=".dropdown-menu",Bv=`:not(${VD})`,Xet='.list-group, .nav, [role="tablist"]',Yet=".nav-item, .list-group-item",qet=`.nav-link${Bv}, .list-group-item${Bv}, [role="tab"]${Bv}`,FD='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',jv=`${qet}, ${FD}`,Qet=`.${ia}[data-bs-toggle="tab"], .${ia}[data-bs-toggle="pill"], .${ia}[data-bs-toggle="list"]`;class ic extends pi{constructor(t){super(t),this._parent=this._element.closest(Xet),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),ft.on(this._element,jet,n=>this._keydown(n)))}static get NAME(){return Met}show(){const t=this._element;if(this._elemIsActive(t))return;const n=this._getActiveElem(),s=n?ft.trigger(n,Vet,{relatedTarget:t}):null;ft.trigger(t,$et,{relatedTarget:n}).defaultPrevented||s&&s.defaultPrevented||(this._deactivate(n,t),this._activate(t,n))}_activate(t,n){if(!t)return;t.classList.add(ia),this._activate(Ut.getElementFromSelector(t));const s=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(Uv);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),ft.trigger(t,Uet,{relatedTarget:n})};this._queueCallback(s,t,t.classList.contains(jI))}_deactivate(t,n){if(!t)return;t.classList.remove(ia),t.blur(),this._deactivate(Ut.getElementFromSelector(t));const s=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(Uv);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),ft.trigger(t,Fet,{relatedTarget:n})};this._queueCallback(s,t,t.classList.contains(jI))}_keydown(t){if(![zet,$I,Wet,UI,$v,BI].includes(t.key))return;t.stopPropagation(),t.preventDefault();const n=this._getChildren().filter(i=>!Ao(i));let s;if([$v,BI].includes(t.key))s=n[t.key===$v?0:n.length-1];else{const i=[$I,UI].includes(t.key);s=KE(n,t.target,i,!0)}s&&(s.focus({preventScroll:!0}),ic.getOrCreateInstance(s).show())}_getChildren(){return Ut.find(jv,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,n){this._setAttributeIfNotExists(t,"role","tablist");for(const s of n)this._setInitialAttributesOnChild(s)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const n=this._elemIsActive(t),s=this._getOuterElement(t);t.setAttribute("aria-selected",n),s!==t&&this._setAttributeIfNotExists(s,"role","presentation"),n||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const n=Ut.getElementFromSelector(t);n&&(this._setAttributeIfNotExists(n,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(n,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,n){const s=this._getOuterElement(t);if(!s.classList.contains(Ket))return;const i=(r,o)=>{const a=Ut.findOne(r,s);a&&a.classList.toggle(o,n)};i(VD,ia),i(Get,Uv),s.setAttribute("aria-expanded",n)}_setAttributeIfNotExists(t,n,s){t.hasAttribute(n)||t.setAttribute(n,s)}_elemIsActive(t){return t.classList.contains(ia)}_getInnerElement(t){return t.matches(jv)?t:Ut.findOne(jv,t)}_getOuterElement(t){return t.closest(Yet)||t}static jQueryInterface(t){return this.each(function(){const n=ic.getOrCreateInstance(this);if(typeof t=="string"){if(n[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);n[t]()}})}}ft.on(document,Bet,FD,function(e){["A","AREA"].includes(this.tagName)&&e.preventDefault(),!Ao(this)&&ic.getOrCreateInstance(this).show()});ft.on(window,Het,()=>{for(const e of Ut.find(Qet))ic.getOrCreateInstance(e)});Ys(ic);const Jet="toast",Zet="bs.toast",Vo=`.${Zet}`,tnt=`mouseover${Vo}`,ent=`mouseout${Vo}`,nnt=`focusin${Vo}`,snt=`focusout${Vo}`,int=`hide${Vo}`,rnt=`hidden${Vo}`,ont=`show${Vo}`,ant=`shown${Vo}`,lnt="fade",HI="hide",ed="show",nd="showing",cnt={animation:"boolean",autohide:"boolean",delay:"number"},unt={animation:!0,autohide:!0,delay:5e3};class dm extends pi{constructor(t,n){super(t,n),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return unt}static get DefaultType(){return cnt}static get NAME(){return Jet}show(){if(ft.trigger(this._element,ont).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(lnt);const n=()=>{this._element.classList.remove(nd),ft.trigger(this._element,ant),this._maybeScheduleHide()};this._element.classList.remove(HI),Wh(this._element),this._element.classList.add(ed,nd),this._queueCallback(n,this._element,this._config.animation)}hide(){if(!this.isShown()||ft.trigger(this._element,int).defaultPrevented)return;const n=()=>{this._element.classList.add(HI),this._element.classList.remove(nd,ed),ft.trigger(this._element,rnt)};this._element.classList.add(nd),this._queueCallback(n,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ed),super.dispose()}isShown(){return this._element.classList.contains(ed)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,n){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=n;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=n;break}}if(n){this._clearTimeout();return}const s=t.relatedTarget;this._element===s||this._element.contains(s)||this._maybeScheduleHide()}_setListeners(){ft.on(this._element,tnt,t=>this._onInteraction(t,!0)),ft.on(this._element,ent,t=>this._onInteraction(t,!1)),ft.on(this._element,nnt,t=>this._onInteraction(t,!0)),ft.on(this._element,snt,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const n=dm.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof n[t]>"u")throw new TypeError(`No method named "${t}"`);n[t](this)}})}}cm(dm);Ys(dm);const $D=Qd(fV);$D.use(FN);$D.mount("#app")});export default hnt();
